(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='WolframCDFPlayer 10.3' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       163,          7]
NotebookDataLength[    207438,       4759]
NotebookOptionsPosition[    201997,       4592]
NotebookOutlinePosition[    203622,       4643]
CellTagsIndexPosition[    203286,       4631]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{

Cell[CellGroupData[{
Cell["Forward and Inverse Kinematics for Two-Link Arm", "DemoTitle",
 CellChangeTimes->{{3.6736893900066013`*^9, 3.6736893969297123`*^9}, {
  3.6736933096956577`*^9, 3.6736933292312727`*^9}, {3.675101324100541*^9, 
  3.67510132664307*^9}, {3.675103208248321*^9, 3.6751032135435457`*^9}}],

Cell[CellGroupData[{

Cell["", "InitializationSection"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{
   "draw", " ", "circular", " ", "arcs", " ", "with", " ", "arrowheads"}], 
   "*)"}], "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{
    RowBox[{"myArrowArc", "[", 
     RowBox[{"c_", ",", "r_", ",", 
      RowBox[{"{", 
       RowBox[{"start_", ",", "end_"}], "}"}]}], "]"}], ":=", 
    RowBox[{"(*", 
     RowBox[{
      RowBox[{"problem", " ", "--"}], " ", "initial", " ", "point", " ", 
      "too", " ", "far", " ", "out"}], "*)"}], "\[IndentingNewLine]", 
    RowBox[{"If", "[", 
     RowBox[{
      RowBox[{"start", "==", "end"}], ",", 
      RowBox[{"Point", "[", 
       RowBox[{"c", "+", 
        RowBox[{"r", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"Cos", "[", "start", "]"}], ",", 
           RowBox[{"Sin", "[", "start", "]"}]}], "}"}]}]}], "]"}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{"Arrow", "[", 
       RowBox[{"BSplineCurve", "[", 
        RowBox[{"Table", "[", 
         RowBox[{
          RowBox[{"c", "+", 
           RowBox[{"r", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"Cos", "[", "t", "]"}], ",", 
              RowBox[{"Sin", "[", "t", "]"}]}], "}"}]}]}], ",", 
          RowBox[{"{", 
           RowBox[{"t", ",", "start", ",", "end", ",", 
            FractionBox[
             RowBox[{"end", "-", "start"}], "11"]}], "}"}]}], "]"}], "]"}], 
       "]"}]}], "]"}]}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"myArrowArc2", "[", 
     RowBox[{"c_", ",", "r_", ",", 
      RowBox[{"{", 
       RowBox[{"start_", ",", "end_"}], "}"}]}], "]"}], ":=", 
    RowBox[{"(*", 
     RowBox[{
      RowBox[{"problem", " ", "--"}], " ", "initial", " ", "point", " ", 
      "too", " ", "far", " ", "out"}], "*)"}], "\[IndentingNewLine]", 
    RowBox[{"If", "[", 
     RowBox[{
      RowBox[{"start", "===", "end"}], ",", 
      RowBox[{"Point", "[", 
       RowBox[{"c", "+", 
        RowBox[{"r", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"Cos", "[", "start", "]"}], ",", 
           RowBox[{"Sin", "[", "start", "]"}]}], "}"}]}]}], "]"}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{"Arrow", "[", 
       RowBox[{"BSplineCurve", "[", 
        RowBox[{"Table", "[", 
         RowBox[{
          RowBox[{"c", "+", 
           RowBox[{"r", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"Cos", "[", "t", "]"}], ",", 
              RowBox[{"Sin", "[", "t", "]"}]}], "}"}]}]}], ",", 
          RowBox[{"{", 
           RowBox[{"t", ",", "start", ",", "end", ",", 
            FractionBox[
             RowBox[{"end", "-", "start"}], "11"]}], "}"}]}], "]"}], "]"}], 
       "]"}]}], "]"}]}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"makeHand", "[", 
      RowBox[{"fl_", ",", " ", "bl_", ",", " ", "fw_", ",", " ", "bw_"}], 
      "]"}], " ", ":=", "\n", " ", 
     RowBox[{"Polygon", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{
         RowBox[{"{", " ", 
          RowBox[{
           RowBox[{"-", "bl"}], ",", 
           RowBox[{"-", "bw"}]}], "}"}], ",", " ", 
         RowBox[{"{", " ", 
          RowBox[{
           RowBox[{"-", "bl"}], ",", "bw"}], "}"}], ",", " ", 
         RowBox[{"{", " ", 
          RowBox[{"fl", ",", "fw"}], "}"}], ",", " ", 
         RowBox[{"{", " ", 
          RowBox[{
           RowBox[{"fl", " ", "+", " ", 
            RowBox[{"8", " ", "fw"}]}], ",", "0"}], "}"}], ",", " ", 
         RowBox[{"{", " ", 
          RowBox[{"fl", ",", 
           RowBox[{"-", "fw"}]}], "}"}]}], "}"}], "/", "10"}], "]"}]}], ";"}],
    "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"makeDialControl", "[", 
      RowBox[{
       RowBox[{"Dynamic", "[", "pt_", "]"}], ",", "cent_", ",", "color_"}], 
      "]"}], ":=", 
     RowBox[{"Module", "[", 
      RowBox[{
       RowBox[{"{", "ang", "}"}], ",", "\[IndentingNewLine]", 
       RowBox[{"LocatorPane", "[", 
        RowBox[{
         RowBox[{"Dynamic", "[", 
          RowBox[{"pt", ",", 
           RowBox[{
            RowBox[{"(", 
             RowBox[{"pt", " ", "=", " ", 
              RowBox[{"Normalize", "[", "#", "]"}]}], ")"}], "&"}]}], "]"}], 
         ",", "\[IndentingNewLine]", 
         RowBox[{
          RowBox[{"ang", "=", 
           RowBox[{"Dynamic", "[", 
            RowBox[{"ArcTan", "[", 
             RowBox[{
              RowBox[{
              "pt", "\[LeftDoubleBracket]", "1", "\[RightDoubleBracket]"}], 
              ",", 
              RowBox[{
              "pt", "\[LeftDoubleBracket]", "2", "\[RightDoubleBracket]"}]}], 
             "]"}], "]"}]}], ";", 
          RowBox[{"(*", 
           RowBox[{
            RowBox[{"If", "[", 
             RowBox[{
              RowBox[{"ang", " ", "<", "0"}], ",", 
              RowBox[{"ang", "=", 
               RowBox[{"ang", "+", 
                RowBox[{"2", "\[Pi]"}]}]}]}], "]"}], ";"}], "*)"}], 
          "\[IndentingNewLine]", 
          RowBox[{"Graphics", "[", "\[IndentingNewLine]", 
           RowBox[{"{", "\[IndentingNewLine]", 
            RowBox[{"Gray", ",", 
             RowBox[{"Circle", "[", "cent", "]"}], ",", "\[IndentingNewLine]",
              "Gray", ",", 
             RowBox[{"Table", "[", 
              RowBox[{
               RowBox[{"Line", "[", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"cent", "+", 
                   RowBox[{".94", 
                    RowBox[{"{", 
                    RowBox[{
                    RowBox[{"Cos", "@", "a"}], ",", 
                    RowBox[{"Sin", "@", "a"}]}], "}"}]}]}], ",", 
                  RowBox[{"cent", "+", 
                   RowBox[{"{", 
                    RowBox[{
                    RowBox[{"Cos", "@", "a"}], ",", 
                    RowBox[{"Sin", "@", "a"}]}], "}"}]}]}], "}"}], "]"}], ",", 
               RowBox[{"{", 
                RowBox[{"a", ",", "0", ",", 
                 RowBox[{"2", "\[Pi]"}], ",", 
                 RowBox[{"\[Pi]", "/", "8"}]}], "}"}]}], "]"}], ",", 
             "\[IndentingNewLine]", 
             RowBox[{"Table", "[", 
              RowBox[{
               RowBox[{"Line", "[", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"cent", "+", 
                   RowBox[{".98", 
                    RowBox[{"{", 
                    RowBox[{
                    RowBox[{"Cos", "@", "a"}], ",", 
                    RowBox[{"Sin", "@", "a"}]}], "}"}]}]}], ",", 
                  RowBox[{"cent", "+", 
                   RowBox[{"{", 
                    RowBox[{
                    RowBox[{"Cos", "@", "a"}], ",", 
                    RowBox[{"Sin", "@", "a"}]}], "}"}]}]}], "}"}], "]"}], ",", 
               RowBox[{"{", 
                RowBox[{"a", ",", 
                 RowBox[{"\[Pi]", "/", "16"}], ",", 
                 RowBox[{"2", "\[Pi]"}], ",", 
                 RowBox[{"\[Pi]", "/", "8"}]}], "}"}]}], "]"}], ",", 
             "\[IndentingNewLine]", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{"FontSize", "\[Rule]", "10"}], ",", 
               RowBox[{"Table", "[", 
                RowBox[{
                 RowBox[{"Text", "[", 
                  RowBox[{"\[Theta]", ",", 
                   RowBox[{"cent", "+", 
                    RowBox[{".7", 
                    RowBox[{"{", 
                    RowBox[{
                    RowBox[{"Cos", "@", "\[Theta]"}], ",", 
                    RowBox[{"Sin", "@", "\[Theta]"}]}], "}"}]}]}]}], "]"}], 
                 ",", 
                 RowBox[{"{", 
                  RowBox[{"\[Theta]", ",", " ", 
                   RowBox[{"Rest", "@", 
                    RowBox[{"Range", "[", 
                    RowBox[{
                    RowBox[{"-", " ", "Pi"}], ",", "Pi", ",", " ", 
                    RowBox[{"Pi", "/", "4"}]}], "]"}]}]}], "}"}]}], "]"}]}], 
              "}"}], ",", "\[IndentingNewLine]", 
             RowBox[{"{", 
              RowBox[{"color", ",", " ", 
               RowBox[{"EdgeForm", "[", "Black", "]"}], ",", 
               RowBox[{"Rotate", "[", 
                RowBox[{
                 RowBox[{"Translate", "[", 
                  RowBox[{
                   RowBox[{"makeHand", "[", 
                    RowBox[{"7", ",", " ", 
                    RowBox[{"7", "/", "3"}], ",", " ", ".1", ",", " ", ".3"}],
                     "]"}], ",", "cent"}], "]"}], ",", "ang", ",", "cent"}], 
                "]"}]}], "}"}], ",", "\[IndentingNewLine]", "Black", ",", 
             RowBox[{"Arrowheads", "[", ".05", "]"}], ",", 
             "\[IndentingNewLine]", "color", ",", 
             RowBox[{"myArrowArc2", "[", 
              RowBox[{"cent", ",", "0.3", ",", 
               RowBox[{"{", 
                RowBox[{"0", ",", "ang"}], "}"}]}], "]"}]}], 
            "\[IndentingNewLine]", "}"}], "]"}]}]}], "]"}]}], "]"}]}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"make2VelControl", "[", 
      RowBox[{"Dynamic", "[", "pt_", "]"}], "]"}], ":=", 
     RowBox[{"Module", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"ang", ",", 
         RowBox[{"cent", " ", "=", " ", 
          RowBox[{"{", 
           RowBox[{"0", ",", "0"}], "}"}]}]}], "}"}], ",", 
       "\[IndentingNewLine]", 
       RowBox[{"LocatorPane", "[", 
        RowBox[{
         RowBox[{"Dynamic", "[", 
          RowBox[{"pt", ",", 
           RowBox[{
            RowBox[{"(", 
             RowBox[{"pt", " ", "=", " ", 
              RowBox[{"If", "[", 
               RowBox[{
                RowBox[{
                 RowBox[{"Norm", "[", 
                  RowBox[{"Re", "[", "#", "]"}], "]"}], ">", "1"}], ",", 
                RowBox[{"Normalize", "[", 
                 RowBox[{"Re", "[", "#", "]"}], "]"}], ",", 
                RowBox[{"Re", "[", "#", "]"}]}], "]"}]}], ")"}], "&"}]}], 
          "]"}], ",", "\[IndentingNewLine]", 
         RowBox[{"Graphics", "[", "\[IndentingNewLine]", 
          RowBox[{"{", " ", 
           RowBox[{"(*", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{"White", ",", 
               RowBox[{"Rectangle", "[", 
                RowBox[{
                 RowBox[{"{", 
                  RowBox[{
                   RowBox[{"-", "1"}], ",", 
                   RowBox[{"-", "1"}]}], "}"}], ",", 
                 RowBox[{"{", 
                  RowBox[{"1", ",", "1"}], "}"}]}], "]"}]}], "}"}], ","}], 
            "*)"}], "\[IndentingNewLine]", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"LightGreen", ",", 
              RowBox[{"Disk", "[", 
               RowBox[{"cent", ",", "1"}], "]"}]}], "}"}], ",", 
            "\[IndentingNewLine]", 
            RowBox[{"{", 
             RowBox[{"Thin", ",", "Black", ",", 
              RowBox[{"Line", "[", 
               RowBox[{"{", 
                RowBox[{
                 RowBox[{"{", 
                  RowBox[{
                   RowBox[{"-", "1"}], ",", "0"}], "}"}], ",", 
                 RowBox[{"{", 
                  RowBox[{"1", ",", "0"}], "}"}]}], "}"}], "]"}], ",", 
              RowBox[{"Line", "[", 
               RowBox[{"{", 
                RowBox[{
                 RowBox[{"{", 
                  RowBox[{"0", ",", 
                   RowBox[{"-", "1"}]}], "}"}], ",", 
                 RowBox[{"{", 
                  RowBox[{"0", ",", "1"}], "}"}]}], "}"}], "]"}], ",", 
              "\[IndentingNewLine]", 
              RowBox[{"Text", "[", 
               RowBox[{
               "\"\<\!\(\*SubscriptBox[OverscriptBox[\(\[Theta]\), \(.\)], \
\(1\)]\)\>\"", ",", 
                RowBox[{"{", 
                 RowBox[{"0.9", ",", "0.2"}], "}"}]}], "]"}], ",", 
              RowBox[{"Text", "[", 
               RowBox[{
               "\"\<\!\(\*SubscriptBox[OverscriptBox[\(\[Theta]\), \(.\)], \
\(2\)]\)\>\"", ",", 
                RowBox[{"{", 
                 RowBox[{"0.2", ",", "0.9"}], "}"}]}], "]"}], ",", 
              "\[IndentingNewLine]", 
              RowBox[{"Table", "[", 
               RowBox[{
                RowBox[{"Line", "[", 
                 RowBox[{"{", 
                  RowBox[{
                   RowBox[{"{", 
                    RowBox[{"a", ",", "0"}], "}"}], ",", 
                   RowBox[{"{", 
                    RowBox[{"a", ",", "0.05"}], "}"}]}], "}"}], "]"}], ",", 
                RowBox[{"{", 
                 RowBox[{"a", ",", 
                  RowBox[{"-", "1"}], ",", "1", ",", "0.2"}], "}"}]}], "]"}], 
              ",", "\[IndentingNewLine]", 
              RowBox[{"Table", "[", 
               RowBox[{
                RowBox[{"Line", "[", 
                 RowBox[{"{", 
                  RowBox[{
                   RowBox[{"{", 
                    RowBox[{"0", ",", "a"}], "}"}], ",", 
                   RowBox[{"{", 
                    RowBox[{"0.05", ",", "a"}], "}"}]}], "}"}], "]"}], ",", 
                RowBox[{"{", 
                 RowBox[{"a", ",", 
                  RowBox[{"-", "1"}], ",", "1", ",", "0.2"}], "}"}]}], "]"}], 
              ",", "\[IndentingNewLine]", 
              RowBox[{"Table", "[", 
               RowBox[{
                RowBox[{"Text", "[", 
                 RowBox[{"a", ",", 
                  RowBox[{"{", 
                   RowBox[{
                    RowBox[{"-", "0.1"}], ",", "a"}], "}"}]}], "]"}], ",", 
                RowBox[{"{", 
                 RowBox[{"a", ",", 
                  RowBox[{"{", 
                   RowBox[{
                    RowBox[{"-", "1"}], ",", "1"}], "}"}]}], "}"}]}], "]"}], 
              ",", "\[IndentingNewLine]", 
              RowBox[{"Table", "[", 
               RowBox[{
                RowBox[{"Text", "[", 
                 RowBox[{"a", ",", 
                  RowBox[{"{", 
                   RowBox[{"a", ",", 
                    RowBox[{"-", "0.1"}]}], "}"}]}], "]"}], ",", 
                RowBox[{"{", 
                 RowBox[{"a", ",", 
                  RowBox[{"{", 
                   RowBox[{
                    RowBox[{"-", "1"}], ",", "1"}], "}"}]}], "}"}]}], "]"}]}],
              "\[IndentingNewLine]", "}"}], ",", "\[IndentingNewLine]", 
            RowBox[{"Arrowheads", "[", 
             RowBox[{"{", 
              RowBox[{"0", ",", ".1"}], "}"}], "]"}], ",", "Thick", ",", 
            "\[IndentingNewLine]", "Red", ",", 
            RowBox[{"Arrow", "[", 
             RowBox[{"Dynamic", "[", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{"0", ",", 
                  RowBox[{
                  "pt", "\[LeftDoubleBracket]", "2", 
                   "\[RightDoubleBracket]"}]}], "}"}], ",", "pt"}], "}"}], 
              "]"}], "]"}], ",", "\[IndentingNewLine]", "Blue", ",", 
            RowBox[{"Arrow", "[", 
             RowBox[{"Dynamic", "[", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{
                  "pt", "\[LeftDoubleBracket]", "1", 
                   "\[RightDoubleBracket]"}], ",", "0"}], "}"}], ",", "pt"}], 
               "}"}], "]"}], "]"}]}], "\[IndentingNewLine]", "}"}], "]"}]}], 
        "]"}]}], "]"}]}], ";"}], "\[IndentingNewLine]", 
   RowBox[{"(*", 
    RowBox[{"inverse", " ", "kinematics"}], "*)"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"\[Theta]2inv", "[", 
      RowBox[{"x_", ",", "y_", ",", "r1_", ",", "r2_", ",", "IsElbowUp_"}], 
      "]"}], " ", ":=", 
     RowBox[{"Re", "[", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{
          SuperscriptBox["x", "2"], "+", 
          SuperscriptBox["y", "2"]}], "\[GreaterEqual]", " ", 
         SuperscriptBox[
          RowBox[{"(", 
           RowBox[{"r1", "+", "r2"}], ")"}], 
          RowBox[{"2", " "}]]}], ",", "0", ",", 
        RowBox[{"Module", "[", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{"D", " ", "=", 
            FractionBox[
             RowBox[{
              RowBox[{"-", 
               SuperscriptBox["r1", "2"]}], "-", 
              SuperscriptBox["r2", "2"], "+", 
              SuperscriptBox["x", "2"], "+", 
              SuperscriptBox["y", "2"]}], 
             RowBox[{"2", " ", "r1", " ", "r2"}]]}], "}"}], ",", 
          RowBox[{"ArcTan", "[", 
           RowBox[{"D", ",", 
            RowBox[{
             RowBox[{"If", "[", 
              RowBox[{"IsElbowUp", ",", 
               RowBox[{"-", "1"}], ",", "1"}], "]"}], 
             SqrtBox[
              RowBox[{"1", "-", 
               SuperscriptBox["D", "2"]}]]}]}], "]"}]}], "]"}]}], "]"}], 
      "]"}]}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"\[Theta]1inv", "[", 
      RowBox[{"x_", ",", "y_", ",", "r1_", ",", "r2_", ",", "\[Theta]2_"}], 
      "]"}], " ", ":=", 
     RowBox[{"Re", "[", " ", 
      RowBox[{
       RowBox[{"ArcTan", "[", 
        RowBox[{"x", ",", "y"}], "]"}], "-", " ", 
       RowBox[{"ArcTan", "[", 
        RowBox[{
         RowBox[{"r1", "+", 
          RowBox[{"r2", " ", 
           RowBox[{"Cos", "[", "\[Theta]2", "]"}]}]}], ",", 
         RowBox[{"r2", " ", 
          RowBox[{"Sin", "[", "\[Theta]2", "]"}]}]}], "]"}]}], "]"}]}], ";"}],
    "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"loc", "[", 
     RowBox[{"col_", ",", "c_"}], "]"}], ":=", 
    RowBox[{"(*", " ", 
     RowBox[{"a", " ", "colored", " ", "locator", " ", "icon"}], "*)"}], 
    RowBox[{"Module", "[", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"sc", " ", "=", " ", 
        RowBox[{"1", "/", "25"}]}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"col", ",", 
        RowBox[{"Line", "[", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"c", "+", 
            RowBox[{"sc", 
             RowBox[{"{", 
              RowBox[{"0", ",", "1.5"}], "}"}]}]}], ",", 
           RowBox[{"c", "+", 
            RowBox[{"sc", 
             RowBox[{"{", 
              RowBox[{"0", ",", "3"}], "}"}]}]}]}], "}"}], "]"}], ",", 
        RowBox[{"Line", "[", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"c", "+", 
            RowBox[{"sc", 
             RowBox[{"{", 
              RowBox[{"0", ",", 
               RowBox[{"-", "1.5"}]}], "}"}]}]}], ",", 
           RowBox[{"c", "+", 
            RowBox[{"sc", 
             RowBox[{"{", 
              RowBox[{"0", ",", 
               RowBox[{"-", "3"}]}], "}"}]}]}]}], "}"}], "]"}], ",", 
        RowBox[{"Line", "[", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"c", "+", 
            RowBox[{"sc", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{"-", "1.5"}], ",", "0"}], "}"}]}]}], ",", 
           RowBox[{"c", "+", 
            RowBox[{"sc", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{"-", "3"}], ",", "0"}], "}"}]}]}]}], "}"}], "]"}], ",", 
        RowBox[{"Line", "[", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"c", "+", 
            RowBox[{"sc", 
             RowBox[{"{", 
              RowBox[{"1.5", ",", "0"}], "}"}]}]}], ",", 
           RowBox[{"c", "+", 
            RowBox[{"sc", 
             RowBox[{"{", 
              RowBox[{"3", ",", "0"}], "}"}]}]}]}], "}"}], "]"}], ",", 
        RowBox[{"Circle", "[", 
         RowBox[{"c", ",", 
          RowBox[{"sc", " ", "2"}]}], "]"}], ",", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"Thickness", "[", 
           RowBox[{"1", "/", "100"}], "]"}], ",", 
          RowBox[{"Opacity", "[", "0.5", "]"}], ",", 
          RowBox[{"Circle", "[", 
           RowBox[{"c", ",", 
            RowBox[{"sc", " ", "2", "*", ".7"}]}], "]"}]}], "}"}]}], "}"}]}], 
     "]"}]}]}]}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{
  3.669462551408827*^9, {3.669548063723463*^9, 3.66954808678996*^9}, {
   3.669548199801935*^9, 3.669548200496747*^9}, {3.669548576677012*^9, 
   3.669548604501628*^9}, {3.66954866150902*^9, 3.669548662757201*^9}, {
   3.669548703570795*^9, 3.66954876522853*^9}, {3.66954880302131*^9, 
   3.669548821001204*^9}, {3.669548958902396*^9, 3.669549026217011*^9}, {
   3.669549086611703*^9, 3.669549090938005*^9}, {3.669549133116816*^9, 
   3.66954913689168*^9}, {3.6695491679555483`*^9, 3.669549178590632*^9}, {
   3.669549254975915*^9, 3.669549258543723*^9}, {3.6695494427417917`*^9, 
   3.669549459994368*^9}, {3.673141031614561*^9, 3.673141031958857*^9}, 
   3.6731410960937357`*^9, {3.673429810235765*^9, 3.673429816853085*^9}, {
   3.673430417348312*^9, 3.673430453633473*^9}, {3.673430570046947*^9, 
   3.673430571405548*^9}, {3.673513404876937*^9, 3.673513413855855*^9}, {
   3.673513470504487*^9, 3.673513620455431*^9}, 3.6735147353233557`*^9, {
   3.673514935151272*^9, 3.673514942976225*^9}, 3.673515075741625*^9, {
   3.6735173709656763`*^9, 3.6735174625838013`*^9}, {3.673557914234189*^9, 
   3.673557921490883*^9}, 3.6735581453076553`*^9, {3.673558339762835*^9, 
   3.6735583759562683`*^9}, {3.673558495305211*^9, 3.6735584955839252`*^9}, 
   3.673558528041791*^9, {3.673558565174553*^9, 3.6735586175445137`*^9}, {
   3.673598030949629*^9, 3.673598031691366*^9}, {3.673599645016572*^9, 
   3.673599645809318*^9}, {3.673630257577589*^9, 3.673630261063249*^9}, {
   3.673630312754181*^9, 3.673630375691135*^9}, {3.6736304112012043`*^9, 
   3.673630461389454*^9}, {3.6736305027265053`*^9, 3.673630506584515*^9}, 
   3.673630604473371*^9, {3.6736345354650106`*^9, 3.673634571335446*^9}, {
   3.6736346246531963`*^9, 3.673634687140542*^9}, {3.673634735246027*^9, 
   3.6736347395626497`*^9}, {3.6736347949333982`*^9, 3.673634874736617*^9}, {
   3.673635014987158*^9, 3.6736350186380653`*^9}, {3.673635072618841*^9, 
   3.673635129598399*^9}, {3.673635293762141*^9, 3.673635317194256*^9}, {
   3.6736354348619747`*^9, 3.6736354415580063`*^9}, {3.673635687209672*^9, 
   3.67363568921879*^9}, {3.673635841104751*^9, 3.673635872842671*^9}, 
   3.673636002261838*^9, {3.673636174868311*^9, 3.673636176106696*^9}, {
   3.673651894390711*^9, 3.673651900688737*^9}, {3.673652134300856*^9, 
   3.673652149999424*^9}, {3.673652222125574*^9, 3.673652342370139*^9}, {
   3.673652384851268*^9, 3.673652399689744*^9}, {3.6736525001831903`*^9, 
   3.673652547218157*^9}, {3.673652591258106*^9, 3.6736525945607452`*^9}, {
   3.67365383602619*^9, 3.673653838359667*^9}, {3.673682655871797*^9, 
   3.6736827343727093`*^9}, {3.6736829517380753`*^9, 3.673682982019916*^9}, {
   3.673683912381918*^9, 3.673683927602701*^9}, {3.673684025869012*^9, 
   3.673684030051878*^9}, {3.6736841827416267`*^9, 3.673684192629896*^9}, {
   3.673684244740531*^9, 3.673684281309499*^9}, 3.6736934180231752`*^9, {
   3.673693819756493*^9, 3.673693828651374*^9}, 3.675101510164847*^9},
 CellID->1155349525]
}, Open  ]],

Cell[CellGroupData[{

Cell["", "ManipulateSection"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Manipulate", "[", "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{"Module", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       RowBox[{"w", " ", "=", " ", 
        RowBox[{"1", "/", "8"}]}], ",", 
       RowBox[{"l", "=", "1"}], ",", "\[Theta]1", " ", ",", "\[Theta]2", ",", 
       " ", "r2", ",", "U", ",", "\[CapitalSigma]", ",", "V", ",", "J", ",", 
       "q", ",", "vNorm"}], "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"r2", "=", 
       RowBox[{"2", "-", "r1"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"Norm", "[", "pEnd", "]"}], "\[GreaterEqual]", " ", "2"}], 
        ",", 
        RowBox[{"pEnd", " ", "=", 
         RowBox[{"2", 
          RowBox[{"pEnd", "/", 
           RowBox[{"Norm", "[", "pEnd", "]"}]}]}]}]}], "]"}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"Norm", "[", "pEnd", "]"}], "\[LessEqual]", " ", 
         RowBox[{"Abs", "[", 
          RowBox[{"r1", "-", "r2"}], "]"}]}], ",", 
        RowBox[{"pEnd", " ", "=", 
         RowBox[{
          RowBox[{"Abs", "[", 
           RowBox[{"r1", "-", "r2"}], "]"}], 
          RowBox[{"pEnd", "/", 
           RowBox[{"Norm", "[", "pEnd", "]"}]}]}]}]}], "]"}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"pEndp", " ", "\[NotEqual]", " ", "pEnd"}], " ", "||", 
         RowBox[{"IsElbowUpp", "\[NotEqual]", "IsElbowUp"}]}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{"(*", 
         RowBox[{"inv", " ", "kin"}], "*)"}], "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"\[Theta]2", "=", 
          RowBox[{"\[Theta]2inv", "[", 
           RowBox[{
            RowBox[{
            "pEnd", "\[LeftDoubleBracket]", "1", "\[RightDoubleBracket]"}], 
            ",", 
            RowBox[{
            "pEnd", "\[LeftDoubleBracket]", "2", "\[RightDoubleBracket]"}], 
            ",", "r1", ",", "r2", ",", "IsElbowUp"}], "]"}]}], ";", 
         "\[IndentingNewLine]", 
         RowBox[{"\[Theta]1", "=", 
          RowBox[{"\[Theta]1inv", "[", 
           RowBox[{
            RowBox[{
            "pEnd", "\[LeftDoubleBracket]", "1", "\[RightDoubleBracket]"}], 
            ",", 
            RowBox[{
            "pEnd", "\[LeftDoubleBracket]", "2", "\[RightDoubleBracket]"}], 
            ",", "r1", ",", "r2", ",", "\[Theta]2"}], "]"}]}], ";", 
         "\[IndentingNewLine]", 
         RowBox[{"p1", "=", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"Cos", "[", "\[Theta]1", "]"}], ",", 
            RowBox[{"Sin", "[", "\[Theta]1", "]"}]}], "}"}]}], ";", 
         "\[IndentingNewLine]", 
         RowBox[{"p2", "=", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"Cos", "[", "\[Theta]2", "]"}], ",", 
            RowBox[{"Sin", "[", "\[Theta]2", "]"}]}], "}"}]}], ";"}], 
        "\[IndentingNewLine]", ",", 
        RowBox[{"(*", "fwdkin", "*)"}], " ", 
        RowBox[{
         RowBox[{"\[Theta]1", " ", "=", 
          RowBox[{"ArcTan", "[", 
           RowBox[{
            RowBox[{
            "p1", "\[LeftDoubleBracket]", "1", "\[RightDoubleBracket]"}], ",", 
            RowBox[{
            "p1", "\[LeftDoubleBracket]", "2", "\[RightDoubleBracket]"}]}], 
           "]"}]}], ";", "\[IndentingNewLine]", 
         RowBox[{"\[Theta]2", " ", "=", " ", 
          RowBox[{"ArcTan", "[", 
           RowBox[{
            RowBox[{
            "p2", "\[LeftDoubleBracket]", "1", "\[RightDoubleBracket]"}], ",", 
            RowBox[{
            "p2", "\[LeftDoubleBracket]", "2", "\[RightDoubleBracket]"}]}], 
           "]"}]}], ";", "\[IndentingNewLine]", 
         RowBox[{"pEnd", "=", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{
             RowBox[{"r1", " ", 
              RowBox[{"Cos", "[", "\[Theta]1", "]"}]}], "+", 
             RowBox[{"r2", " ", 
              RowBox[{"Cos", "[", 
               RowBox[{"\[Theta]1", "+", "\[Theta]2"}], "]"}]}]}], ",", 
            RowBox[{
             RowBox[{"r1", " ", 
              RowBox[{"Sin", "[", "\[Theta]1", "]"}]}], "+", 
             RowBox[{"r2", " ", 
              RowBox[{"Sin", "[", 
               RowBox[{"\[Theta]1", "+", "\[Theta]2"}], "]"}]}]}]}], 
           "}"}]}]}]}], "]"}], ";", "\[IndentingNewLine]", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{"\[Theta]2", ">", "0"}], ",", 
        RowBox[{"IsElbowUp", "=", "False"}]}], "]"}], ";", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{"\[Theta]2", "<", "0"}], ",", 
        RowBox[{"IsElbowUp", "=", "True"}]}], "]"}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"pEndp", "=", "pEnd"}], ";", 
      RowBox[{"IsElbowUpp", "=", " ", "IsElbowUp"}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"J", " ", "=", " ", 
       RowBox[{"(", "\[NoBreak]", GridBox[{
          {
           RowBox[{
            RowBox[{
             RowBox[{"-", "r1"}], " ", 
             RowBox[{"Sin", "[", "\[Theta]1", "]"}]}], "-", 
            RowBox[{"r2", " ", 
             RowBox[{"Sin", "[", 
              RowBox[{"\[Theta]1", "+", "\[Theta]2"}], "]"}]}]}], 
           RowBox[{
            RowBox[{"-", "r2"}], " ", 
            RowBox[{"Sin", "[", 
             RowBox[{"\[Theta]1", "+", "\[Theta]2"}], "]"}]}]},
          {
           RowBox[{
            RowBox[{"r1", " ", 
             RowBox[{"Cos", "[", "\[Theta]1", "]"}]}], "+", 
            RowBox[{"r2", " ", 
             RowBox[{"Cos", "[", 
              RowBox[{"\[Theta]1", "+", "\[Theta]2"}], "]"}]}]}], 
           RowBox[{"r2", " ", 
            RowBox[{"Cos", "[", 
             RowBox[{"\[Theta]1", "+", "\[Theta]2"}], "]"}]}]}
         }], ")"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"U", ",", "\[CapitalSigma]", ",", "V"}], "}"}], " ", "=", 
       RowBox[{"SingularValueDecomposition", "[", " ", "J", "]"}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"q", " ", "=", " ", 
       RowBox[{
        RowBox[{"Transpose", "[", "U", "]"}], ".", 
        RowBox[{"(", " ", 
         RowBox[{"pVel", "-", "pEnd"}], ")"}]}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"If", "[", " ", 
       RowBox[{
        RowBox[{"pVelp", "\[NotEqual]", " ", "pVel"}], ",", 
        RowBox[{"(*", 
         RowBox[{"inv", " ", "Vel"}], "*)"}], "\[IndentingNewLine]", 
        RowBox[{"(*", 
         RowBox[{
         "ensure", " ", "points", " ", "are", " ", "within", " ", "the", " ", 
          "ellipse"}], "*)"}], "\[IndentingNewLine]", 
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{
           RowBox[{
            RowBox[{"\[CapitalSigma]", "\[LeftDoubleBracket]", 
             RowBox[{"1", ",", "1"}], "\[RightDoubleBracket]"}], ">", "0"}], 
           " ", "&&", " ", 
           RowBox[{
            RowBox[{"\[CapitalSigma]", "\[LeftDoubleBracket]", 
             RowBox[{"2", ",", "2"}], "\[RightDoubleBracket]"}], ">", "0"}]}],
           ",", " ", "\[IndentingNewLine]", 
          RowBox[{
           RowBox[{"vNorm", " ", "=", " ", 
            SqrtBox[
             RowBox[{
              FractionBox[
               SuperscriptBox[
                RowBox[{
                "q", "\[LeftDoubleBracket]", "1", "\[RightDoubleBracket]"}], 
                "2"], 
               SuperscriptBox[
                RowBox[{"\[CapitalSigma]", "\[LeftDoubleBracket]", 
                 RowBox[{"1", ",", "1"}], "\[RightDoubleBracket]"}], "2"]], 
              "+", 
              FractionBox[
               SuperscriptBox[
                RowBox[{
                "q", "\[LeftDoubleBracket]", "2", "\[RightDoubleBracket]"}], 
                "2"], 
               SuperscriptBox[
                RowBox[{"\[CapitalSigma]", "\[LeftDoubleBracket]", 
                 RowBox[{"2", ",", "2"}], "\[RightDoubleBracket]"}], 
                "2"]]}]]}], ";", "\[IndentingNewLine]", 
           RowBox[{"If", "[", 
            RowBox[{
             RowBox[{"vNorm", ">", "1"}], ",", 
             RowBox[{"pVel", " ", "=", " ", 
              RowBox[{
               RowBox[{
                RowBox[{"(", " ", 
                 RowBox[{"pVel", "-", "pEnd"}], ")"}], "/", "vNorm"}], "+", 
               "pEnd"}]}]}], "]"}], ";", "\[IndentingNewLine]", 
           RowBox[{"(*", 
            RowBox[{"not", " ", "singular"}], "*)"}], 
           RowBox[{"jointVel", " ", "=", 
            RowBox[{"V", ".", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{"{", 
                RowBox[{
                 RowBox[{"1", "/", 
                  RowBox[{"\[CapitalSigma]", "\[LeftDoubleBracket]", 
                   RowBox[{"1", ",", "1"}], "\[RightDoubleBracket]"}]}], ",", 
                 "0"}], "}"}], ",", 
               RowBox[{"{", 
                RowBox[{"0", ",", 
                 RowBox[{"1", "/", 
                  RowBox[{"\[CapitalSigma]", "\[LeftDoubleBracket]", 
                   RowBox[{"2", ",", "2"}], "\[RightDoubleBracket]"}]}]}], 
                "}"}]}], "}"}], ".", 
             RowBox[{"Transpose", "[", "U", "]"}], ".", 
             RowBox[{"(", " ", 
              RowBox[{"pVel", "-", "pEnd"}], ")"}]}]}], ";"}], ",", 
          "\[IndentingNewLine]", 
          RowBox[{
           RowBox[{"If", "[", 
            RowBox[{
             RowBox[{
              RowBox[{"\[CapitalSigma]", "\[LeftDoubleBracket]", 
               RowBox[{"1", ",", "1"}], "\[RightDoubleBracket]"}], ">", "0"}],
              " ", ",", 
             RowBox[{"pVel", " ", "=", 
              RowBox[{
               RowBox[{
                RowBox[{"U", ".", 
                 RowBox[{"{", 
                  RowBox[{
                   RowBox[{
                   "q", "\[LeftDoubleBracket]", "1", 
                    "\[RightDoubleBracket]"}], ",", "0"}], "}"}]}], "*", 
                RowBox[{"If", "[", 
                 RowBox[{
                  RowBox[{
                   SqrtBox[
                    FractionBox[
                    SuperscriptBox[
                    RowBox[{
                    "q", "\[LeftDoubleBracket]", "1", 
                    "\[RightDoubleBracket]"}], "2"], 
                    SuperscriptBox[
                    RowBox[{"\[CapitalSigma]", "\[LeftDoubleBracket]", 
                    RowBox[{"1", ",", "1"}], "\[RightDoubleBracket]"}], 
                    "2"]]], ">", "1"}], ",", 
                  RowBox[{"Abs", "[", 
                   FractionBox[
                    RowBox[{"\[CapitalSigma]", "\[LeftDoubleBracket]", 
                    RowBox[{"1", ",", "1"}], "\[RightDoubleBracket]"}], 
                    RowBox[{
                    "q", "\[LeftDoubleBracket]", "1", 
                    "\[RightDoubleBracket]"}]], "]"}], ",", "1"}], "]"}]}], 
               "+", "pEnd"}]}]}], "]"}], ";", "\[IndentingNewLine]", 
           RowBox[{"If", "[", 
            RowBox[{
             RowBox[{
              RowBox[{"\[CapitalSigma]", "\[LeftDoubleBracket]", 
               RowBox[{"2", ",", "2"}], "\[RightDoubleBracket]"}], ">", "0"}],
              " ", ",", 
             RowBox[{"pVel", " ", "=", 
              RowBox[{
               RowBox[{
                RowBox[{"U", ".", 
                 RowBox[{"{", 
                  RowBox[{"0", ",", 
                   RowBox[{
                   "q", "\[LeftDoubleBracket]", "2", 
                    "\[RightDoubleBracket]"}]}], "}"}]}], "*", 
                RowBox[{"If", "[", 
                 RowBox[{
                  RowBox[{
                   SqrtBox[
                    FractionBox[
                    SuperscriptBox[
                    RowBox[{
                    "q", "\[LeftDoubleBracket]", "2", 
                    "\[RightDoubleBracket]"}], "2"], 
                    SuperscriptBox[
                    RowBox[{"\[CapitalSigma]", "\[LeftDoubleBracket]", 
                    RowBox[{"2", ",", "2"}], "\[RightDoubleBracket]"}], 
                    "2"]]], ">", "1"}], ",", 
                  RowBox[{"Abs", "[", 
                   FractionBox[
                    RowBox[{"\[CapitalSigma]", "\[LeftDoubleBracket]", 
                    RowBox[{"2", ",", "2"}], "\[RightDoubleBracket]"}], 
                    RowBox[{
                    "q", "\[LeftDoubleBracket]", "2", 
                    "\[RightDoubleBracket]"}]], "]"}], ",", "1"}], "]"}]}], 
               "+", "pEnd"}]}]}], "]"}], ";", "\[IndentingNewLine]", 
           RowBox[{"(*", "singular", "*)"}], 
           RowBox[{"jointVel", " ", "=", 
            RowBox[{
             RowBox[{"PseudoInverse", "[", "J", "]"}], ".", 
             RowBox[{"(", " ", 
              RowBox[{"pVel", "-", "pEnd"}], ")"}]}]}]}]}], "]"}], 
        "\[IndentingNewLine]", ",", 
        RowBox[{"(*", 
         RowBox[{"fwd", " ", "Vel"}], "*)"}], 
        RowBox[{"pVel", " ", "=", " ", 
         RowBox[{
          RowBox[{"J", ".", "jointVel"}], "+", "pEnd"}]}]}], 
       "\[IndentingNewLine]", "]"}], ";", 
      RowBox[{"pVelp", " ", "=", " ", "pVel"}], ";", "\[IndentingNewLine]", 
      "\[IndentingNewLine]", 
      RowBox[{"Graphics", "[", 
       RowBox[{
        RowBox[{"{", "\[IndentingNewLine]", 
         RowBox[{"(*", "workspace", "*)"}], 
         RowBox[{
          RowBox[{"{", 
           RowBox[{"LightBlue", ",", 
            RowBox[{"EdgeForm", "[", 
             RowBox[{"{", 
              RowBox[{"Thin", ",", "Blue"}], "}"}], "]"}], ",", 
            RowBox[{"Disk", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"0", ",", "0"}], "}"}], ",", "2"}], "]"}], ",", 
            RowBox[{"If", "[", 
             RowBox[{
              RowBox[{"r1", "\[NotEqual]", "1"}], ",", 
              RowBox[{"{", 
               RowBox[{"White", ",", 
                RowBox[{"Disk", "[", 
                 RowBox[{
                  RowBox[{"{", 
                   RowBox[{"0", ",", "0"}], "}"}], ",", 
                  RowBox[{"Abs", "[", 
                   RowBox[{"r1", "-", "r2"}], "]"}]}], "]"}]}], "}"}]}], 
             "]"}], ",", "Black", ",", 
            RowBox[{"Text", "[", 
             RowBox[{"\"\<Workspace\>\"", ",", 
              RowBox[{"{", 
               RowBox[{"0", ",", "1.8"}], "}"}]}], "]"}]}], "}"}], ",", 
          "\[IndentingNewLine]", "\[IndentingNewLine]", 
          RowBox[{"(*", 
           RowBox[{
            RowBox[{"Text", "[", 
             RowBox[{
              RowBox[{"{", "q", "}"}], ",", 
              RowBox[{"{", 
               RowBox[{"0", ",", "1.5"}], "}"}]}], "]"}], ","}], "*)"}], 
          "\[IndentingNewLine]", 
          RowBox[{"(*", 
           RowBox[{"draw", " ", "manipulability", " ", "ellipse"}], "*)"}], 
          "\[IndentingNewLine]", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"EdgeForm", "[", 
             RowBox[{"{", 
              RowBox[{"Thin", ",", "Blue"}], "}"}], "]"}], ",", 
            RowBox[{"GeometricTransformation", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{
                RowBox[{"Opacity", "[", "0.5", "]"}], ",", 
                RowBox[{"If", "[", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"MatrixRank", "[", "\[CapitalSigma]", "]"}], ">", 
                   "1"}], ",", 
                  RowBox[{"{", 
                   RowBox[{"LightRed", ",", 
                    RowBox[{"Ellipsoid", "[", 
                    RowBox[{
                    RowBox[{"{", 
                    RowBox[{"0", ",", "0"}], "}"}], ",", 
                    SuperscriptBox["\[CapitalSigma]", "2"]}], "]"}]}], 
                   "}"}]}], "]"}], ",", "Blue", ",", 
                RowBox[{"Arrow", "[", 
                 RowBox[{"{", 
                  RowBox[{
                   RowBox[{"{", 
                    RowBox[{"0", ",", "0"}], "}"}], ",", 
                   RowBox[{
                   "\[CapitalSigma]", "\[LeftDoubleBracket]", "1", 
                    "\[RightDoubleBracket]"}]}], "}"}], "]"}], ",", 
                RowBox[{"Arrow", "[", 
                 RowBox[{"{", 
                  RowBox[{
                   RowBox[{"{", 
                    RowBox[{"0", ",", "0"}], "}"}], ",", 
                   RowBox[{"-", 
                    RowBox[{
                    "\[CapitalSigma]", "\[LeftDoubleBracket]", "1", 
                    "\[RightDoubleBracket]"}]}]}], "}"}], "]"}], ",", "Red", 
                ",", 
                RowBox[{"Arrow", "[", 
                 RowBox[{"{", 
                  RowBox[{
                   RowBox[{"{", 
                    RowBox[{"0", ",", "0"}], "}"}], ",", 
                   RowBox[{
                   "\[CapitalSigma]", "\[LeftDoubleBracket]", "2", 
                    "\[RightDoubleBracket]"}]}], "}"}], "]"}], ",", "Red", 
                ",", 
                RowBox[{"Arrow", "[", 
                 RowBox[{"{", 
                  RowBox[{
                   RowBox[{"{", 
                    RowBox[{"0", ",", "0"}], "}"}], ",", 
                   RowBox[{"-", 
                    RowBox[{
                    "\[CapitalSigma]", "\[LeftDoubleBracket]", "2", 
                    "\[RightDoubleBracket]"}]}]}], "}"}], "]"}]}], "}"}], ",", 
              RowBox[{"{", 
               RowBox[{"U", ",", "pEnd"}], "}"}]}], "]"}]}], "}"}], ",", 
          "\[IndentingNewLine]", "Gray", ",", 
          RowBox[{"EdgeForm", "[", "Black", "]"}], ",", "\[IndentingNewLine]", 
          RowBox[{"(*", 
           RowBox[{
           "draw", " ", "arm", " ", "with", " ", "arrows", " ", "showing", 
            " ", "angles"}], "*)"}], "\[IndentingNewLine]", 
          RowBox[{"Rotate", "[", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{
              RowBox[{"Rectangle", "[", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "w"}], ",", 
                  RowBox[{"-", "w"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"r1", "+", "w"}], ",", "w"}], "}"}], ",", 
                RowBox[{"RoundingRadius", "\[Rule]", "w"}]}], "]"}], ",", 
              RowBox[{"If", "[", 
               RowBox[{
                RowBox[{"r2", "<", " ", "1"}], ",", 
                RowBox[{"{", 
                 RowBox[{"Black", ",", 
                  RowBox[{"Text", "[", 
                   RowBox[{"\"\<Robot Arm\>\"", ",", 
                    RowBox[{"{", 
                    RowBox[{
                    RowBox[{"r1", "/", "2"}], ",", "0"}], "}"}]}], "]"}]}], 
                 "}"}]}], "]"}]}], "}"}], ",", "\[Theta]1", ",", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0"}], "}"}]}], "]"}], ",", 
          "\[IndentingNewLine]", 
          RowBox[{"{", 
           RowBox[{"Black", ",", 
            RowBox[{"Point", "[", 
             RowBox[{"{", 
              RowBox[{"{", 
               RowBox[{"0", ",", "0"}], "}"}], "}"}], "]"}], ",", 
            "\[IndentingNewLine]", 
            RowBox[{"{", 
             RowBox[{"(*", "velocity", "*)"}], 
             RowBox[{"Red", ",", 
              RowBox[{"PointSize", "[", "Large", "]"}], ",", 
              RowBox[{"myArrowArc", "[", 
               RowBox[{
                RowBox[{"l", 
                 RowBox[{"{", 
                  RowBox[{"0", ",", "0"}], "}"}]}], ",", 
                RowBox[{"1", "/", "2"}], ",", 
                RowBox[{"\[Theta]1", "+", 
                 RowBox[{"{", 
                  RowBox[{"0", ",", 
                   RowBox[{
                   "jointVel", "\[LeftDoubleBracket]", "1", 
                    "\[RightDoubleBracket]"}]}], "}"}]}]}], "]"}]}], "}"}], 
            ",", "\[IndentingNewLine]", 
            RowBox[{"Darker", "[", "Gray", "]"}], ",", 
            RowBox[{"myArrowArc", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"0", ",", "0"}], "}"}], ",", 
              RowBox[{"l", "/", "4"}], ",", 
              RowBox[{"{", 
               RowBox[{"0", ",", "\[Theta]1"}], "}"}]}], "]"}], ",", 
            "\[IndentingNewLine]", 
            RowBox[{"If", "[", 
             RowBox[{
              RowBox[{
               RowBox[{"Abs", "[", "\[Theta]1", "]"}], ">", 
               RowBox[{"\[Pi]", "/", "4"}]}], ",", 
              RowBox[{"Text", "[", 
               RowBox[{
                RowBox[{"Style", "[", 
                 RowBox[{
                 "\"\<\!\(\*SubscriptBox[\(\[Theta]\), \(1\)]\)\>\"", ",", 
                  "Medium"}], "]"}], ",", 
                RowBox[{"l", " ", 
                 RowBox[{"2", "/", "5"}], 
                 RowBox[{"{", 
                  RowBox[{
                   RowBox[{"Cos", "[", 
                    FractionBox["\[Theta]1", "2"], "]"}], ",", 
                   RowBox[{"Sin", "[", 
                    FractionBox["\[Theta]1", "2"], "]"}]}], "}"}]}]}], 
               "]"}]}], "]"}]}], "}"}], ",", "\[IndentingNewLine]", 
          RowBox[{"Rotate", "[", 
           RowBox[{
            RowBox[{"{", "\[IndentingNewLine]", 
             RowBox[{
              RowBox[{"Rectangle", "[", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"r1", " ", 
                    RowBox[{"Cos", "[", "\[Theta]1", "]"}]}], "-", "w"}], ",", 
                  RowBox[{
                   RowBox[{"r1", " ", 
                    RowBox[{"Sin", "[", "\[Theta]1", "]"}]}], "-", "w"}]}], 
                 "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"r1", " ", 
                    RowBox[{"Cos", "[", "\[Theta]1", "]"}]}], "+", "r2", "+", 
                   "w"}], ",", 
                  RowBox[{
                   RowBox[{"r1", " ", 
                    RowBox[{"Sin", "[", "\[Theta]1", "]"}]}], "+", "w"}]}], 
                 "}"}], ",", 
                RowBox[{"RoundingRadius", "\[Rule]", "w"}]}], "]"}], ",", 
              RowBox[{"If", "[", 
               RowBox[{
                RowBox[{"r2", "\[GreaterEqual]", " ", "1"}], ",", 
                RowBox[{"{", 
                 RowBox[{"Black", ",", 
                  RowBox[{"Text", "[", 
                   RowBox[{"\"\<Robot Arm\>\"", ",", 
                    RowBox[{"{", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"r1", " ", 
                    RowBox[{"Cos", "[", "\[Theta]1", "]"}]}], "+", 
                    RowBox[{"r2", "/", "2"}]}], ",", 
                    RowBox[{"r1", " ", 
                    RowBox[{"Sin", "[", "\[Theta]1", "]"}]}]}], "}"}]}], 
                   "]"}]}], "}"}]}], "]"}]}], "\[IndentingNewLine]", "}"}], 
            ",", 
            RowBox[{"\[Theta]1", "+", "\[Theta]2"}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"r1", " ", 
               RowBox[{"Cos", "[", "\[Theta]1", "]"}]}], ",", 
              RowBox[{"r1", " ", 
               RowBox[{"Sin", "[", "\[Theta]1", "]"}]}]}], "}"}]}], "]"}], 
          ",", "\[IndentingNewLine]", 
          RowBox[{"{", 
           RowBox[{"Black", ",", 
            RowBox[{"Point", "[", 
             RowBox[{"{", 
              RowBox[{"r1", 
               RowBox[{"{", 
                RowBox[{
                 RowBox[{"Cos", "[", "\[Theta]1", "]"}], ",", 
                 RowBox[{"Sin", "[", "\[Theta]1", "]"}]}], "}"}]}], "}"}], 
             "]"}], ",", "\[IndentingNewLine]", 
            RowBox[{"{", 
             RowBox[{"(*", "velocity", "*)"}], 
             RowBox[{"Thick", ",", "Blue", ",", " ", 
              RowBox[{"myArrowArc", "[", 
               RowBox[{
                RowBox[{"r1", 
                 RowBox[{"{", 
                  RowBox[{
                   RowBox[{"Cos", "[", "\[Theta]1", "]"}], ",", 
                   RowBox[{"Sin", "[", "\[Theta]1", "]"}]}], "}"}]}], ",", 
                RowBox[{"2", "/", "3"}], ",", 
                RowBox[{"\[Theta]1", "+", "\[Theta]2", "+", 
                 RowBox[{"{", 
                  RowBox[{"0", ",", 
                   RowBox[{
                   "jointVel", "\[LeftDoubleBracket]", "2", 
                    "\[RightDoubleBracket]"}]}], "}"}]}]}], "]"}]}], "}"}], 
            ",", "\[IndentingNewLine]", 
            RowBox[{"Darker", "[", "Gray", "]"}], ",", 
            RowBox[{"myArrowArc", "[", 
             RowBox[{
              RowBox[{"r1", 
               RowBox[{"{", 
                RowBox[{
                 RowBox[{"Cos", "[", "\[Theta]1", "]"}], ",", 
                 RowBox[{"Sin", "[", "\[Theta]1", "]"}]}], "}"}]}], ",", 
              RowBox[{"l", "/", "3"}], ",", 
              RowBox[{"{", 
               RowBox[{"\[Theta]1", ",", 
                RowBox[{"\[Theta]1", "+", "\[Theta]2"}]}], "}"}]}], "]"}], 
            ",", "\[IndentingNewLine]", 
            RowBox[{"If", "[", 
             RowBox[{
              RowBox[{
               RowBox[{"Abs", "[", "\[Theta]2", "]"}], ">", 
               RowBox[{"\[Pi]", "/", "4"}]}], ",", 
              RowBox[{"Text", "[", 
               RowBox[{
                RowBox[{"Style", "[", 
                 RowBox[{
                 "\"\<\!\(\*SubscriptBox[\(\[Theta]\), \(2\)]\)\>\"", ",", 
                  "Medium"}], "]"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"r1", " ", 
                    RowBox[{"Cos", "[", "\[Theta]1", "]"}]}], "+", 
                   RowBox[{
                    RowBox[{"r2", "/", "2"}], 
                    RowBox[{"Cos", "[", 
                    RowBox[{"\[Theta]1", "+", 
                    FractionBox["\[Theta]2", "2"]}], "]"}]}]}], ",", 
                  RowBox[{
                   RowBox[{"r1", " ", 
                    RowBox[{"Sin", "[", "\[Theta]1", "]"}]}], "+", 
                   RowBox[{
                    RowBox[{"r2", "/", "2"}], 
                    RowBox[{"Sin", "[", 
                    RowBox[{"\[Theta]1", "+", 
                    FractionBox["\[Theta]2", "2"]}], "]"}]}]}]}], "}"}]}], 
               "]"}]}], "]"}]}], "}"}], ",", "\[IndentingNewLine]", 
          RowBox[{"loc", "[", 
           RowBox[{
            RowBox[{"Darker", "[", "Green", "]"}], ",", "pVel"}], "]"}], ",", 
          "\[IndentingNewLine]", 
          RowBox[{"loc", "[", 
           RowBox[{"Black", ",", "pEnd"}], "]"}], ",", "\[IndentingNewLine]", 
          RowBox[{"{", 
           RowBox[{"(*", 
            RowBox[{"velocity", " ", "arrow"}], "*)"}], " ", 
           RowBox[{"Green", ",", "Thick", ",", 
            RowBox[{"Arrow", "[", 
             RowBox[{"{", 
              RowBox[{"pEnd", ",", "pVel"}], " ", "}"}], "]"}]}], "}"}]}], 
         "\[IndentingNewLine]", "}"}], ",", 
        RowBox[{"PlotRange", "\[Rule]", 
         RowBox[{"3", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{
              RowBox[{"-", "1"}], ",", "1"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"-", "1"}], ",", "1"}], "}"}]}], "}"}]}]}], ",", 
        RowBox[{"ImageSize", "\[Rule]", "400"}]}], "]"}]}]}], 
    "\[IndentingNewLine]", "]"}], ",", "\[IndentingNewLine]", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
      "r1", ",", "1", ",", "\"\<\!\(\*SubscriptBox[\(r\), \(1\)]\)\>\""}], 
      "}"}], ",", "0", ",", "2", ",", 
     RowBox[{"ImageSize", "\[Rule]", "80"}], ",", 
     RowBox[{"Appearance", "\[Rule]", "\"\<Labeled\>\""}]}], "}"}], ",", 
   "\[IndentingNewLine]", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"pEnd", ",", 
       RowBox[{"{", 
        RowBox[{"2", ",", "0"}], "}"}]}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"-", "2"}], ",", 
       RowBox[{"-", "2"}]}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"2", ",", "2"}], "}"}], ",", "Locator", ",", 
     RowBox[{"Appearance", "\[Rule]", "None"}]}], "}"}], ",", " ", 
   "\[IndentingNewLine]", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"pEndp", ",", 
       RowBox[{"{", 
        RowBox[{"2", ",", "0"}], "}"}]}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"-", "2"}], ",", 
       RowBox[{"-", "2"}]}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"2", ",", "2"}], "}"}], ",", "None"}], "}"}], ",", 
   "\[IndentingNewLine]", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"pVel", ",", 
       RowBox[{"{", 
        RowBox[{"2", ",", "1"}], "}"}]}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"-", "4"}], ",", 
       RowBox[{"-", "4"}]}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"4", ",", "4"}], "}"}], ",", "Locator", ",", 
     RowBox[{"Appearance", "\[Rule]", "None"}]}], "}"}], ",", 
   "\[IndentingNewLine]", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"pVelp", ",", 
       RowBox[{"{", 
        RowBox[{"1", ",", "1"}], "}"}]}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"-", "4"}], ",", 
       RowBox[{"-", "4"}]}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"4", ",", "4"}], "}"}], ",", "None"}], "}"}], ",", 
   "\[IndentingNewLine]", 
   RowBox[{"(*", 
    RowBox[{
    "the", " ", "next", " ", "are", " ", "global", " ", "variables", " ", 
     "to", " ", "control", " ", "how", " ", "often", " ", "freeConfigSpace", 
     " ", "is", " ", "updated"}], "*)"}], "\[IndentingNewLine]", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"p1", ",", 
       RowBox[{"{", 
        RowBox[{"1", ",", "0"}], "}"}], ",", 
       "\"\<\!\(\*SubscriptBox[\(\[Theta]\), \(1\)]\)\>\""}], "}"}], ",", 
     RowBox[{"(", 
      RowBox[{
       RowBox[{"makeDialControl", "[", 
        RowBox[{"#1", ",", 
         RowBox[{"{", 
          RowBox[{"0", ",", "0"}], "}"}], ",", "Red"}], "]"}], "&"}], ")"}], 
     ",", 
     RowBox[{"ImageSize", "\[Rule]", "140"}]}], "}"}], ",", 
   "\[IndentingNewLine]", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"p2", ",", 
       RowBox[{"{", 
        RowBox[{"1", ",", "0"}], "}"}], ",", 
       "\"\<\!\(\*SubscriptBox[\(\[Theta]\), \(2\)]\)\>\""}], "}"}], ",", 
     RowBox[{"(", 
      RowBox[{
       RowBox[{"makeDialControl", "[", 
        RowBox[{"#1", ",", 
         RowBox[{"{", 
          RowBox[{"0", ",", "0"}], "}"}], ",", "Blue"}], "]"}], "&"}], ")"}], 
     ",", 
     RowBox[{"ImageSize", "\[Rule]", "140"}]}], "}"}], ",", 
   "\[IndentingNewLine]", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"IsElbowUp", ",", "True", ",", "\"\<elbow up?\>\""}], "}"}], 
     ",", 
     RowBox[{"{", 
      RowBox[{"True", ",", "False"}], "}"}]}], "}"}], ",", 
   "\[IndentingNewLine]", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"IsElbowUpp", ",", "True"}], "}"}], ",", "None"}], "}"}], ",", 
   "\[IndentingNewLine]", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"jointVel", ",", 
       RowBox[{"{", 
        RowBox[{"1", ",", "0"}], "}"}], ",", "\"\<joint\nvelocity\>\""}], 
      "}"}], ",", 
     RowBox[{"(", 
      RowBox[{
       RowBox[{"make2VelControl", "[", "#1", "]"}], "&"}], ")"}], ",", 
     RowBox[{"ImageSize", "\[Rule]", "140"}]}], "}"}], ",", 
   "\[IndentingNewLine]", 
   RowBox[{"ControlPlacement", "\[Rule]", "Left"}], ",", 
   "\[IndentingNewLine]", 
   RowBox[{"SaveDefinitions", "\[Rule]", "True"}]}], "]"}]], "Input",
 CellChangeTimes->{
  3.669244943987157*^9, {3.669246140324566*^9, 3.669246286844805*^9}, {
   3.6692463569628973`*^9, 3.669246391749803*^9}, {3.669246422365329*^9, 
   3.669246444462961*^9}, {3.66946245423384*^9, 3.6694625375609293`*^9}, {
   3.669480094993332*^9, 3.669480095374301*^9}, 3.669547904648423*^9, {
   3.669547994237836*^9, 3.669548039640204*^9}, {3.6695482148643513`*^9, 
   3.6695482432060747`*^9}, {3.669548282411035*^9, 3.6695483772751503`*^9}, {
   3.669548847684559*^9, 3.6695489231519127`*^9}, {3.669549406946232*^9, 
   3.669549413439867*^9}, {3.669549464897573*^9, 3.66954958143196*^9}, {
   3.669549627514152*^9, 3.6695497044223833`*^9}, {3.669549768568277*^9, 
   3.6695498790717163`*^9}, {3.669550012966298*^9, 3.66955006017064*^9}, {
   3.669550312353464*^9, 3.669550384107486*^9}, {3.6695735390410767`*^9, 
   3.6695735401563997`*^9}, {3.669573570799612*^9, 3.6695736577149754`*^9}, {
   3.6695739916485043`*^9, 3.669574004597485*^9}, {3.67314114902802*^9, 
   3.673141152819582*^9}, 3.673141199471984*^9, {3.673141258496496*^9, 
   3.6731415261355143`*^9}, {3.673141567905777*^9, 3.673141597694916*^9}, {
   3.673141634313108*^9, 3.673141640971745*^9}, {3.6731417335397053`*^9, 
   3.673141740595828*^9}, {3.673141772865039*^9, 3.67314184078891*^9}, {
   3.673141917796085*^9, 3.673141943906598*^9}, {3.67314204505888*^9, 
   3.673142099775937*^9}, {3.673142137356112*^9, 3.673142142138604*^9}, {
   3.673142187361678*^9, 3.673142211123249*^9}, {3.673142245397101*^9, 
   3.673142369582675*^9}, {3.6731793545635777`*^9, 3.673179418999029*^9}, {
   3.673179991630101*^9, 3.673180034608513*^9}, {3.673427716142016*^9, 
   3.673427842369882*^9}, {3.673427898551784*^9, 3.673427927453703*^9}, {
   3.673427993911468*^9, 3.673427994872547*^9}, {3.673428059161437*^9, 
   3.673428106090561*^9}, {3.673428273245973*^9, 3.673428429106531*^9}, {
   3.673428484501009*^9, 3.673428492411532*^9}, {3.673428523133676*^9, 
   3.67342864236483*^9}, {3.673429826286048*^9, 3.6734299918051567`*^9}, {
   3.673430035625411*^9, 3.67343004024205*^9}, {3.673430080774206*^9, 
   3.6734300936143723`*^9}, {3.673430141882504*^9, 3.673430204820982*^9}, {
   3.673430272788835*^9, 3.673430286667364*^9}, {3.673430471920835*^9, 
   3.6734304743820467`*^9}, {3.673430518291222*^9, 3.6734305229432993`*^9}, {
   3.673430647157153*^9, 3.673430720300034*^9}, {3.6734308021440983`*^9, 
   3.673430840656398*^9}, {3.67347107027225*^9, 3.673471111726589*^9}, {
   3.673471146615176*^9, 3.673471235826771*^9}, {3.6734713113809233`*^9, 
   3.673471328779274*^9}, {3.673471360141328*^9, 3.673471412967025*^9}, {
   3.673471493313999*^9, 3.6734715592548227`*^9}, {3.67347161184105*^9, 
   3.673471641103836*^9}, 3.6734717068924227`*^9, {3.673471754066433*^9, 
   3.673471773563566*^9}, {3.673472842927841*^9, 3.673472846250555*^9}, {
   3.673514749072009*^9, 3.673514819616334*^9}, {3.6735150076272573`*^9, 
   3.673515044181921*^9}, {3.673515141598324*^9, 3.673515166341552*^9}, {
   3.673558271236875*^9, 3.67355831977194*^9}, {3.67355839820644*^9, 
   3.6735584053492317`*^9}, 3.6735980366712847`*^9, {3.673598085443535*^9, 
   3.6735980966506844`*^9}, 3.6735981284795723`*^9, 3.6735981689414682`*^9, {
   3.673598292774613*^9, 3.673598382379746*^9}, {3.673598459740655*^9, 
   3.6735986508973207`*^9}, {3.673598988375567*^9, 3.673599179226494*^9}, {
   3.673599239462755*^9, 3.673599257397437*^9}, {3.6735993501389637`*^9, 
   3.673599399478887*^9}, {3.673599438862342*^9, 3.673599475873623*^9}, {
   3.673599506189356*^9, 3.673599572277713*^9}, {3.673599658220446*^9, 
   3.673599747912364*^9}, {3.673599785517633*^9, 3.673600003324417*^9}, {
   3.673600041271288*^9, 3.673600068294393*^9}, {3.673600102381386*^9, 
   3.673600229778483*^9}, {3.673600280468183*^9, 3.6736004051235867`*^9}, {
   3.6736004502592154`*^9, 3.673600472204454*^9}, {3.673600591210906*^9, 
   3.6736006106503363`*^9}, 3.6736006694049377`*^9, {3.673600743264097*^9, 
   3.673600796431038*^9}, {3.673623669882122*^9, 3.673623681948887*^9}, {
   3.673623759361122*^9, 3.6736237673993483`*^9}, {3.6736238534298*^9, 
   3.6736238566339283`*^9}, {3.673623891756371*^9, 3.6736238962318907`*^9}, {
   3.673623948787685*^9, 3.67362401716995*^9}, {3.673628102804275*^9, 
   3.673628122612536*^9}, {3.673628441960779*^9, 3.6736284556451902`*^9}, {
   3.673628737360684*^9, 3.673628747620269*^9}, {3.673628937901064*^9, 
   3.673628950760113*^9}, {3.673629002640972*^9, 3.673629027337113*^9}, {
   3.673629119635912*^9, 3.673629154914445*^9}, 3.673629216558957*^9, {
   3.673629257415393*^9, 3.6736292679530373`*^9}, {3.673629300209485*^9, 
   3.6736293058710938`*^9}, {3.67362942998533*^9, 3.673629434630892*^9}, {
   3.673629502058887*^9, 3.673629505872281*^9}, {3.673629541323813*^9, 
   3.6736295574677963`*^9}, {3.673629614882629*^9, 3.673629629340714*^9}, {
   3.6736296850828953`*^9, 3.673629687634924*^9}, {3.673629858250828*^9, 
   3.67362998320966*^9}, {3.673630026896985*^9, 3.673630054296528*^9}, 
   3.6736300900022383`*^9, {3.6736352020172358`*^9, 3.673635209129014*^9}, {
   3.673635700142112*^9, 3.673635735976409*^9}, {3.673635772049032*^9, 
   3.673635794106181*^9}, 3.673635971719705*^9, {3.6736360140567102`*^9, 
   3.6736360153031693`*^9}, 3.673646743996841*^9, {3.6736469688179197`*^9, 
   3.673646969907501*^9}, 3.6736470809884768`*^9, {3.673647148522224*^9, 
   3.673647175756013*^9}, {3.673647221293271*^9, 3.673647499700946*^9}, {
   3.673647533590958*^9, 3.6736475521684*^9}, {3.6736475892264767`*^9, 
   3.6736476315703697`*^9}, {3.673647820098106*^9, 3.6736478210406*^9}, {
   3.673647851905671*^9, 3.673648267964738*^9}, 3.67364837784254*^9, {
   3.673648409337016*^9, 3.673648492712001*^9}, {3.673648533755225*^9, 
   3.6736485357464647`*^9}, {3.673648583395694*^9, 3.673648605563384*^9}, {
   3.673648638830738*^9, 3.673648642630558*^9}, 3.673648975076892*^9, {
   3.673651001058815*^9, 3.673651179883814*^9}, {3.673651340485648*^9, 
   3.6736513430283546`*^9}, {3.673651797110981*^9, 3.6736518268496943`*^9}, {
   3.673651914818048*^9, 3.673651915421391*^9}, {3.67365195385947*^9, 
   3.673651954947802*^9}, 3.673652005660872*^9, {3.6736523148117867`*^9, 
   3.6736523184149017`*^9}, {3.6736523579489937`*^9, 
   3.6736523626859293`*^9}, {3.673652409934984*^9, 3.6736524452803583`*^9}, 
   3.6736526510752974`*^9, {3.6736526928364763`*^9, 3.6736527389421663`*^9}, {
   3.6736528570826674`*^9, 3.6736528619778633`*^9}, 3.673652909360026*^9, {
   3.673653194816486*^9, 3.673653277270772*^9}, {3.6736533219474573`*^9, 
   3.673653368083445*^9}, {3.6736534280321207`*^9, 3.673653480286606*^9}, 
   3.673653526865203*^9, 3.673653560314266*^9, {3.673653680743403*^9, 
   3.673653722822736*^9}, {3.6736537637081213`*^9, 3.673653765968482*^9}, {
   3.673653865526721*^9, 3.6736538791644373`*^9}, 3.6736825714300003`*^9, 
   3.6736827634429007`*^9, {3.673682800800556*^9, 3.673682832625078*^9}, {
   3.673683154499831*^9, 3.673683159131201*^9}, 3.673683210010593*^9, {
   3.6736835232746267`*^9, 3.6736835778388863`*^9}, {3.673683608953413*^9, 
   3.673683711842868*^9}, {3.673683747147552*^9, 3.673683774837825*^9}, {
   3.673693470914497*^9, 3.6736935542346277`*^9}, {3.673693596301435*^9, 
   3.67369361591035*^9}, {3.67369364718298*^9, 3.673693688319929*^9}, {
   3.673693730132105*^9, 3.673693742427309*^9}, {3.67369378412568*^9, 
   3.673693788642544*^9}, {3.673693859679113*^9, 3.673693897089665*^9}, {
   3.6736939584251757`*^9, 3.673693958960037*^9}, 3.673694009401174*^9, {
   3.673694102580565*^9, 3.673694105436739*^9}, {3.673694179848237*^9, 
   3.673694182991968*^9}, 3.6737850049358087`*^9, {3.6738622544605174`*^9, 
   3.6738622843850217`*^9}, {3.674388304982132*^9, 3.6743883166310406`*^9}, {
   3.67441017927815*^9, 3.674410185859284*^9}, {3.674410443116231*^9, 
   3.674410446378477*^9}, {3.675101511640526*^9, 3.6751015139056683`*^9}},
 CellID->1433845183],

Cell[BoxData[
 TagBox[
  StyleBox[
   DynamicModuleBox[{$CellContext`IsElbowUp$$ = 
    True, $CellContext`IsElbowUpp$$ = True, $CellContext`jointVel$$ = {
     Rational[2, 5], 
     Rational[1, 5]}, $CellContext`p1$$ = {1, 0}, $CellContext`p2$$ = {1, 
    0}, $CellContext`pEnd$$ = {2, 0}, $CellContext`pEndp$$ = {2, 
    0}, $CellContext`pVel$$ = {2, 1}, $CellContext`pVelp$$ = {2, 
    1}, $CellContext`r1$$ = 1, Typeset`show$$ = True, 
    Typeset`bookmarkList$$ = {}, Typeset`bookmarkMode$$ = "Menu", 
    Typeset`animator$$, Typeset`animvar$$ = 1, Typeset`name$$ = 
    "\"untitled\"", Typeset`specs$$ = {{{
       Hold[$CellContext`r1$$], 1, "\!\(\*SubscriptBox[\(r\), \(1\)]\)"}, 0, 
      2}, {{
       Hold[$CellContext`pEnd$$], {2, 0}}, {-2, -2}, {2, 2}}, {{
       Hold[$CellContext`pEndp$$], {2, 0}}, {-2, -2}, {2, 2}}, {{
       Hold[$CellContext`pVel$$], {2, 1}}, {-4, -4}, {4, 4}}, {{
       Hold[$CellContext`pVelp$$], {1, 1}}, {-4, -4}, {4, 4}}, {{
       Hold[$CellContext`p1$$], {1, 0}, 
       "\!\(\*SubscriptBox[\(\[Theta]\), \(1\)]\)"}, \
$CellContext`makeDialControl[#, {0, 0}, Red]& }, {{
       Hold[$CellContext`p2$$], {1, 0}, 
       "\!\(\*SubscriptBox[\(\[Theta]\), \(2\)]\)"}, \
$CellContext`makeDialControl[#, {0, 0}, Blue]& }, {{
       Hold[$CellContext`IsElbowUp$$], True, "elbow up?"}, {True, False}}, {{
       Hold[$CellContext`IsElbowUpp$$], True}, 0}, {{
       Hold[$CellContext`jointVel$$], {1, 0}, 
       "joint\nvelocity"}, $CellContext`make2VelControl[#]& }}, 
    Typeset`size$$ = {400., {198., 202.}}, Typeset`update$$ = 0, 
    Typeset`initDone$$, Typeset`skipInitDone$$ = 
    False, $CellContext`r1$2544879$$ = 0, $CellContext`pEnd$2544880$$ = {0, 
    0}, $CellContext`pEndp$2544881$$ = {0, 0}, $CellContext`pVel$2544882$$ = {
    0, 0}, $CellContext`pVelp$2544883$$ = {0, 
    0}, $CellContext`IsElbowUp$2544884$$ = False}, 
    DynamicBox[Manipulate`ManipulateBoxes[
     1, StandardForm, 
      "Variables" :> {$CellContext`IsElbowUp$$ = 
        True, $CellContext`IsElbowUpp$$ = 
        True, $CellContext`jointVel$$ = {1, 0}, $CellContext`p1$$ = {1, 
         0}, $CellContext`p2$$ = {1, 0}, $CellContext`pEnd$$ = {2, 
         0}, $CellContext`pEndp$$ = {2, 0}, $CellContext`pVel$$ = {2, 
         1}, $CellContext`pVelp$$ = {1, 1}, $CellContext`r1$$ = 1}, 
      "ControllerVariables" :> {
        Hold[$CellContext`r1$$, $CellContext`r1$2544879$$, 0], 
        Hold[$CellContext`pEnd$$, $CellContext`pEnd$2544880$$, {0, 0}], 
        Hold[$CellContext`pEndp$$, $CellContext`pEndp$2544881$$, {0, 0}], 
        Hold[$CellContext`pVel$$, $CellContext`pVel$2544882$$, {0, 0}], 
        Hold[$CellContext`pVelp$$, $CellContext`pVelp$2544883$$, {0, 0}], 
        Hold[$CellContext`IsElbowUp$$, $CellContext`IsElbowUp$2544884$$, 
         False]}, 
      "OtherVariables" :> {
       Typeset`show$$, Typeset`bookmarkList$$, Typeset`bookmarkMode$$, 
        Typeset`animator$$, Typeset`animvar$$, Typeset`name$$, 
        Typeset`specs$$, Typeset`size$$, Typeset`update$$, Typeset`initDone$$,
         Typeset`skipInitDone$$}, "Body" :> 
      Module[{$CellContext`w$ = 1/8, $CellContext`l$ = 
         1, $CellContext`\[Theta]1$, $CellContext`\[Theta]2$, \
$CellContext`r2$, $CellContext`U$, $CellContext`\[CapitalSigma]$, \
$CellContext`V$, $CellContext`J$, $CellContext`q$, $CellContext`vNorm$}, \
$CellContext`r2$ = 2 - $CellContext`r1$$; 
        If[Norm[$CellContext`pEnd$$] >= 2, $CellContext`pEnd$$ = 
          2 ($CellContext`pEnd$$/Norm[$CellContext`pEnd$$])]; 
        If[Norm[$CellContext`pEnd$$] <= 
          Abs[$CellContext`r1$$ - $CellContext`r2$], $CellContext`pEnd$$ = 
          Abs[$CellContext`r1$$ - $CellContext`r2$] ($CellContext`pEnd$$/
            Norm[$CellContext`pEnd$$])]; If[
          
          Or[$CellContext`pEndp$$ != $CellContext`pEnd$$, \
$CellContext`IsElbowUpp$$ != $CellContext`IsElbowUp$$], \
$CellContext`\[Theta]2$ = $CellContext`\[Theta]2inv[
             Part[$CellContext`pEnd$$, 1], 
             
             Part[$CellContext`pEnd$$, 
              
              2], $CellContext`r1$$, $CellContext`r2$, \
$CellContext`IsElbowUp$$]; $CellContext`\[Theta]1$ = $CellContext`\[Theta]1inv[
             Part[$CellContext`pEnd$$, 1], 
             
             Part[$CellContext`pEnd$$, 
              2], $CellContext`r1$$, $CellContext`r2$, \
$CellContext`\[Theta]2$]; $CellContext`p1$$ = {
             Cos[$CellContext`\[Theta]1$], 
             Sin[$CellContext`\[Theta]1$]}; $CellContext`p2$$ = {
             Cos[$CellContext`\[Theta]2$], 
             Sin[$CellContext`\[Theta]2$]}; 
          Null, $CellContext`\[Theta]1$ = ArcTan[
             Part[$CellContext`p1$$, 1], 
             Part[$CellContext`p1$$, 2]]; $CellContext`\[Theta]2$ = ArcTan[
             Part[$CellContext`p2$$, 1], 
             
             Part[$CellContext`p2$$, 
              2]]; $CellContext`pEnd$$ = {$CellContext`r1$$ 
              Cos[$CellContext`\[Theta]1$] + $CellContext`r2$ 
              Cos[$CellContext`\[Theta]1$ + $CellContext`\[Theta]2$], \
$CellContext`r1$$ Sin[$CellContext`\[Theta]1$] + $CellContext`r2$ 
              Sin[$CellContext`\[Theta]1$ + $CellContext`\[Theta]2$]}]; 
        If[$CellContext`\[Theta]2$ > 0, $CellContext`IsElbowUp$$ = False]; 
        If[$CellContext`\[Theta]2$ < 0, $CellContext`IsElbowUp$$ = 
          True]; $CellContext`pEndp$$ = $CellContext`pEnd$$; \
$CellContext`IsElbowUpp$$ = $CellContext`IsElbowUp$$; $CellContext`J$ = \
{{(-$CellContext`r1$$) Sin[$CellContext`\[Theta]1$] - $CellContext`r2$ 
            Sin[$CellContext`\[Theta]1$ + $CellContext`\[Theta]2$], \
(-$CellContext`r2$) 
            Sin[$CellContext`\[Theta]1$ + $CellContext`\[Theta]2$]}, \
{$CellContext`r1$$ Cos[$CellContext`\[Theta]1$] + $CellContext`r2$ 
             Cos[$CellContext`\[Theta]1$ + $CellContext`\[Theta]2$], \
$CellContext`r2$ 
            Cos[$CellContext`\[Theta]1$ + $CellContext`\[Theta]2$]}}; \
{$CellContext`U$, $CellContext`\[CapitalSigma]$, $CellContext`V$} = 
         SingularValueDecomposition[$CellContext`J$]; $CellContext`q$ = Dot[
           
           Transpose[$CellContext`U$], $CellContext`pVel$$ - \
$CellContext`pEnd$$]; If[$CellContext`pVelp$$ != $CellContext`pVel$$, 
          If[
           And[
           Part[$CellContext`\[CapitalSigma]$, 1, 1] > 0, 
            Part[$CellContext`\[CapitalSigma]$, 2, 2] > 
            0], $CellContext`vNorm$ = 
            Sqrt[Part[$CellContext`q$, 1]^2/
               Part[$CellContext`\[CapitalSigma]$, 1, 1]^2 + 
              Part[$CellContext`q$, 2]^2/
               Part[$CellContext`\[CapitalSigma]$, 2, 2]^2]; 
           If[$CellContext`vNorm$ > 
             1, $CellContext`pVel$$ = ($CellContext`pVel$$ - \
$CellContext`pEnd$$)/$CellContext`vNorm$ + $CellContext`pEnd$$]; \
$CellContext`jointVel$$ = 
            Dot[$CellContext`V$, {{
               1/Part[$CellContext`\[CapitalSigma]$, 1, 1], 0}, {
               0, 1/Part[$CellContext`\[CapitalSigma]$, 2, 2]}}, 
              
              Transpose[$CellContext`U$], $CellContext`pVel$$ - \
$CellContext`pEnd$$]; Null, 
           If[Part[$CellContext`\[CapitalSigma]$, 1, 1] > 
             0, $CellContext`pVel$$ = Dot[$CellContext`U$, {
                  Part[$CellContext`q$, 1], 0}] 
               If[Sqrt[
                  Part[$CellContext`q$, 1]^2/
                   Part[$CellContext`\[CapitalSigma]$, 1, 1]^2] > 1, 
                 Abs[
                 Part[$CellContext`\[CapitalSigma]$, 1, 1]/
                  Part[$CellContext`q$, 1]], 1] + $CellContext`pEnd$$]; 
           If[Part[$CellContext`\[CapitalSigma]$, 2, 2] > 
             0, $CellContext`pVel$$ = Dot[$CellContext`U$, {0, 
                  Part[$CellContext`q$, 2]}] 
               If[Sqrt[
                  Part[$CellContext`q$, 2]^2/
                   Part[$CellContext`\[CapitalSigma]$, 2, 2]^2] > 1, 
                 Abs[
                 Part[$CellContext`\[CapitalSigma]$, 2, 2]/
                  Part[$CellContext`q$, 2]], 
                 1] + $CellContext`pEnd$$]; $CellContext`jointVel$$ = Dot[
              
              PseudoInverse[$CellContext`J$], $CellContext`pVel$$ - \
$CellContext`pEnd$$]], $CellContext`pVel$$ = 
          Dot[$CellContext`J$, $CellContext`jointVel$$] + \
$CellContext`pEnd$$]; $CellContext`pVelp$$ = $CellContext`pVel$$; 
        Graphics[{{LightBlue, 
            EdgeForm[{Thin, Blue}], 
            Disk[{0, 0}, 2], 
            If[$CellContext`r1$$ != 1, {White, 
              Disk[{0, 0}, 
               Abs[$CellContext`r1$$ - $CellContext`r2$]]}], Black, 
            Text["Workspace", {0, 1.8}]}, {
            EdgeForm[{Thin, Blue}], 
            GeometricTransformation[{
              Opacity[0.5], 
              If[MatrixRank[$CellContext`\[CapitalSigma]$] > 1, {LightRed, 
                Ellipsoid[{0, 0}, $CellContext`\[CapitalSigma]$^2]}], Blue, 
              Arrow[{{0, 0}, 
                Part[$CellContext`\[CapitalSigma]$, 1]}], 
              Arrow[{{0, 0}, -Part[$CellContext`\[CapitalSigma]$, 1]}], Red, 
              Arrow[{{0, 0}, 
                Part[$CellContext`\[CapitalSigma]$, 2]}], Red, 
              
              Arrow[{{0, 0}, -
                Part[$CellContext`\[CapitalSigma]$, 
                  2]}]}, {$CellContext`U$, $CellContext`pEnd$$}]}, Gray, 
           EdgeForm[Black], 
           Rotate[{
             
             Rectangle[{-$CellContext`w$, -$CellContext`w$}, \
{$CellContext`r1$$ + $CellContext`w$, $CellContext`w$}, 
              RoundingRadius -> $CellContext`w$], 
             If[$CellContext`r2$ < 1, {Black, 
               Text[
               "Robot Arm", {$CellContext`r1$$/2, 
                 0}]}]}, $CellContext`\[Theta]1$, {0, 0}], {Black, 
            Point[{{0, 0}}], {Red, 
             PointSize[Large], 
             $CellContext`myArrowArc[$CellContext`l$ {0, 0}, 1/
              2, $CellContext`\[Theta]1$ + {0, 
                Part[$CellContext`jointVel$$, 1]}]}, 
            Darker[Gray], 
            $CellContext`myArrowArc[{0, 0}, $CellContext`l$/4, {
             0, $CellContext`\[Theta]1$}], 
            If[Abs[$CellContext`\[Theta]1$] > Pi/4, 
             Text[
              Style[
              "\!\(\*SubscriptBox[\(\[Theta]\), \(1\)]\)", 
               Medium], ($CellContext`l$ (2/5)) {
                Cos[$CellContext`\[Theta]1$/2], 
                Sin[$CellContext`\[Theta]1$/2]}]]}, 
           Rotate[{
             
             Rectangle[{$CellContext`r1$$ 
                Cos[$CellContext`\[Theta]1$] - $CellContext`w$, \
$CellContext`r1$$ 
                Sin[$CellContext`\[Theta]1$] - $CellContext`w$}, \
{$CellContext`r1$$ 
                Cos[$CellContext`\[Theta]1$] + $CellContext`r2$ + \
$CellContext`w$, $CellContext`r1$$ 
                Sin[$CellContext`\[Theta]1$] + $CellContext`w$}, 
              RoundingRadius -> $CellContext`w$], 
             If[$CellContext`r2$ >= 1, {Black, 
               Text[
               "Robot Arm", {$CellContext`r1$$ 
                  Cos[$CellContext`\[Theta]1$] + $CellContext`r2$/
                  2, $CellContext`r1$$ 
                 Sin[$CellContext`\[Theta]1$]}]}]}, $CellContext`\[Theta]1$ + \
$CellContext`\[Theta]2$, {$CellContext`r1$$ 
             Cos[$CellContext`\[Theta]1$], $CellContext`r1$$ 
             Sin[$CellContext`\[Theta]1$]}], {Black, 
            Point[{$CellContext`r1$$ {
                Cos[$CellContext`\[Theta]1$], 
                Sin[$CellContext`\[Theta]1$]}}], {Thick, Blue, 
             $CellContext`myArrowArc[$CellContext`r1$$ {
                Cos[$CellContext`\[Theta]1$], 
                Sin[$CellContext`\[Theta]1$]}, 2/
              3, $CellContext`\[Theta]1$ + $CellContext`\[Theta]2$ + {0, 
                Part[$CellContext`jointVel$$, 2]}]}, 
            Darker[Gray], 
            $CellContext`myArrowArc[$CellContext`r1$$ {
               Cos[$CellContext`\[Theta]1$], 
               Sin[$CellContext`\[Theta]1$]}, $CellContext`l$/
             3, {$CellContext`\[Theta]1$, $CellContext`\[Theta]1$ + \
$CellContext`\[Theta]2$}], 
            If[Abs[$CellContext`\[Theta]2$] > Pi/4, 
             Text[
              Style[
              "\!\(\*SubscriptBox[\(\[Theta]\), \(2\)]\)", 
               Medium], {$CellContext`r1$$ 
                Cos[$CellContext`\[Theta]1$] + ($CellContext`r2$/2) 
                Cos[$CellContext`\[Theta]1$ + $CellContext`\[Theta]2$/
                   2], $CellContext`r1$$ 
                Sin[$CellContext`\[Theta]1$] + ($CellContext`r2$/2) 
                Sin[$CellContext`\[Theta]1$ + $CellContext`\[Theta]2$/2]}]]}, 
           $CellContext`loc[
            Darker[Green], $CellContext`pVel$$], 
           $CellContext`loc[Black, $CellContext`pEnd$$], {Green, Thick, 
            Arrow[{$CellContext`pEnd$$, $CellContext`pVel$$}]}}, PlotRange -> 
          3 {{-1, 1}, {-1, 1}}, ImageSize -> 400]], 
      "Specifications" :> {{{$CellContext`r1$$, 1, 
          "\!\(\*SubscriptBox[\(r\), \(1\)]\)"}, 0, 2, ImageSize -> 80, 
         Appearance -> "Labeled"}, {{$CellContext`pEnd$$, {2, 0}}, {-2, -2}, {
         2, 2}, ControlType -> Locator, Appearance -> 
         None}, {{$CellContext`pEndp$$, {2, 0}}, {-2, -2}, {2, 2}, 
         ControlType -> None}, {{$CellContext`pVel$$, {2, 1}}, {-4, -4}, {4, 
         4}, ControlType -> Locator, Appearance -> 
         None}, {{$CellContext`pVelp$$, {1, 1}}, {-4, -4}, {4, 4}, 
         ControlType -> 
         None}, {{$CellContext`p1$$, {1, 0}, 
          "\!\(\*SubscriptBox[\(\[Theta]\), \(1\)]\)"}, \
$CellContext`makeDialControl[#, {0, 0}, Red]& , ImageSize -> 
         140}, {{$CellContext`p2$$, {1, 0}, 
          "\!\(\*SubscriptBox[\(\[Theta]\), \(2\)]\)"}, \
$CellContext`makeDialControl[#, {0, 0}, Blue]& , ImageSize -> 
         140}, {{$CellContext`IsElbowUp$$, True, "elbow up?"}, {
         True, False}}, {{$CellContext`IsElbowUpp$$, True}, 0, ControlType -> 
         None}, {{$CellContext`jointVel$$, {1, 0}, 
          "joint\nvelocity"}, $CellContext`make2VelControl[#]& , ImageSize -> 
         140}}, "Options" :> {ControlPlacement -> Left}, 
      "DefaultOptions" :> {ControllerLinking -> True}],
     ImageSizeCache->{642., {252., 258.}},
     SingleEvaluation->True],
    Deinitialization:>None,
    DynamicModuleValues:>{},
    Initialization:>({$CellContext`\[Theta]2inv[
         Pattern[$CellContext`x, 
          Blank[]], 
         Pattern[$CellContext`y, 
          Blank[]], 
         Pattern[$CellContext`r1, 
          Blank[]], 
         Pattern[$CellContext`r2, 
          Blank[]], 
         Pattern[$CellContext`IsElbowUp, 
          Blank[]]] := Re[
         If[$CellContext`x^2 + $CellContext`y^2 >= ($CellContext`r1 + \
$CellContext`r2)^2, 0, 
          
          Module[{D = (-$CellContext`r1^2 - $CellContext`r2^2 + \
$CellContext`x^2 + $CellContext`y^2)/((2 $CellContext`r1) $CellContext`r2)}, 
           ArcTan[
           D, If[$CellContext`IsElbowUp, -1, 1] 
            Sqrt[1 - D^2]]]]], $CellContext`\[Theta]1inv[
         Pattern[$CellContext`x, 
          Blank[]], 
         Pattern[$CellContext`y, 
          Blank[]], 
         Pattern[$CellContext`r1, 
          Blank[]], 
         Pattern[$CellContext`r2, 
          Blank[]], 
         Pattern[$CellContext`\[Theta]2, 
          Blank[]]] := 
       Re[ArcTan[$CellContext`x, $CellContext`y] - 
         ArcTan[$CellContext`r1 + $CellContext`r2 
           Cos[$CellContext`\[Theta]2], $CellContext`r2 
          Sin[$CellContext`\[Theta]2]]], $CellContext`myArrowArc[
         Pattern[$CellContext`c, 
          Blank[]], 
         Pattern[$CellContext`r, 
          Blank[]], {
          Pattern[$CellContext`start, 
           Blank[]], 
          Pattern[$CellContext`end, 
           Blank[]]}] := If[$CellContext`start == $CellContext`end, 
         Point[$CellContext`c + $CellContext`r {
             Cos[$CellContext`start], 
             Sin[$CellContext`start]}], 
         Arrow[
          BSplineCurve[
           Table[$CellContext`c + $CellContext`r {
               Cos[$CellContext`t], 
               
               Sin[$CellContext`t]}, {$CellContext`t, $CellContext`start, \
$CellContext`end, ($CellContext`end - $CellContext`start)/
             11}]]]], $CellContext`loc[
         Pattern[$CellContext`col, 
          Blank[]], 
         Pattern[$CellContext`c, 
          Blank[]]] := Module[{$CellContext`sc = 1/25}, {$CellContext`col, 
          
          Line[{$CellContext`c + $CellContext`sc {
              0, 1.5}, $CellContext`c + $CellContext`sc {0, 3}}], 
          
          Line[{$CellContext`c + $CellContext`sc {
              0, -1.5}, $CellContext`c + $CellContext`sc {0, -3}}], 
          
          Line[{$CellContext`c + $CellContext`sc {-1.5, 
               0}, $CellContext`c + $CellContext`sc {-3, 0}}], 
          
          Line[{$CellContext`c + $CellContext`sc {
              1.5, 0}, $CellContext`c + $CellContext`sc {3, 0}}], 
          Circle[$CellContext`c, $CellContext`sc 2], {
           Thickness[1/100], 
           Opacity[0.5], 
           Circle[$CellContext`c, ($CellContext`sc 2) 0.7]}}], 
       Attributes[PlotRange] = {ReadProtected}, $CellContext`makeDialControl[
         Dynamic[
          Pattern[$CellContext`pt, 
           Blank[]]], 
         Pattern[$CellContext`cent, 
          Blank[]], 
         Pattern[$CellContext`color, 
          Blank[]]] := Module[{$CellContext`ang}, 
         LocatorPane[
          
          Dynamic[$CellContext`pt, ($CellContext`pt = 
           Normalize[#])& ], $CellContext`ang = Dynamic[
             ArcTan[
              Part[$CellContext`pt, 1], 
              Part[$CellContext`pt, 2]]]; Graphics[{Gray, 
             Circle[$CellContext`cent], Gray, 
             Table[
              Line[{$CellContext`cent + 0.94 {
                   Cos[$CellContext`a], 
                   Sin[$CellContext`a]}, $CellContext`cent + {
                  Cos[$CellContext`a], 
                  Sin[$CellContext`a]}}], {$CellContext`a, 0, 2 Pi, Pi/8}], 
             Table[
              Line[{$CellContext`cent + 0.98 {
                   Cos[$CellContext`a], 
                   Sin[$CellContext`a]}, $CellContext`cent + {
                  Cos[$CellContext`a], 
                  Sin[$CellContext`a]}}], {$CellContext`a, Pi/16, 2 Pi, Pi/
               8}], {FontSize -> 10, 
              Table[
               Text[$CellContext`\[Theta], $CellContext`cent + 0.7 {
                   Cos[$CellContext`\[Theta]], 
                   Sin[$CellContext`\[Theta]]}], {$CellContext`\[Theta], 
                Rest[
                 Range[-Pi, Pi, Pi/4]]}]}, {$CellContext`color, 
              EdgeForm[Black], 
              Rotate[
               Translate[
                $CellContext`makeHand[
                7, 7/3, 0.1, 
                 0.3], $CellContext`cent], $CellContext`ang, \
$CellContext`cent]}, Black, 
             Arrowheads[0.05], $CellContext`color, 
             $CellContext`myArrowArc2[$CellContext`cent, 0.3, {
              0, $CellContext`ang}]}]]], $CellContext`makeHand[
         Pattern[$CellContext`fl, 
          Blank[]], 
         Pattern[$CellContext`bl, 
          Blank[]], 
         Pattern[$CellContext`fw, 
          Blank[]], 
         Pattern[$CellContext`bw, 
          Blank[]]] := 
       Polygon[{{-$CellContext`bl, -$CellContext`bw}, {-$CellContext`bl, \
$CellContext`bw}, {$CellContext`fl, $CellContext`fw}, {$CellContext`fl + 
            8 $CellContext`fw, 0}, {$CellContext`fl, -$CellContext`fw}}/
         10], $CellContext`myArrowArc2[
         Pattern[$CellContext`c, 
          Blank[]], 
         Pattern[$CellContext`r, 
          Blank[]], {
          Pattern[$CellContext`start, 
           Blank[]], 
          Pattern[$CellContext`end, 
           Blank[]]}] := If[$CellContext`start === $CellContext`end, 
         Point[$CellContext`c + $CellContext`r {
             Cos[$CellContext`start], 
             Sin[$CellContext`start]}], 
         Arrow[
          BSplineCurve[
           Table[$CellContext`c + $CellContext`r {
               Cos[$CellContext`t], 
               
               Sin[$CellContext`t]}, {$CellContext`t, $CellContext`start, \
$CellContext`end, ($CellContext`end - $CellContext`start)/
             11}]]]], $CellContext`make2VelControl[
         Dynamic[
          Pattern[$CellContext`pt, 
           Blank[]]]] := 
       Module[{$CellContext`ang, $CellContext`cent = {0, 0}}, 
         LocatorPane[
          Dynamic[$CellContext`pt, ($CellContext`pt = If[Norm[
               Re[#]] > 1, 
             Normalize[
              Re[#]], 
             Re[#]])& ], 
          Graphics[{{LightGreen, 
             Disk[$CellContext`cent, 1]}, {Thin, Black, 
             Line[{{-1, 0}, {1, 0}}], 
             Line[{{0, -1}, {0, 1}}], 
             Text[
             "\!\(\*SubscriptBox[OverscriptBox[\(\[Theta]\), \(.\)], \
\(1\)]\)", {0.9, 0.2}], 
             Text[
             "\!\(\*SubscriptBox[OverscriptBox[\(\[Theta]\), \(.\)], \
\(2\)]\)", {0.2, 0.9}], 
             Table[
              
              Line[{{$CellContext`a, 0}, {$CellContext`a, 
                 0.05}}], {$CellContext`a, -1, 1, 0.2}], 
             Table[
              
              Line[{{0, $CellContext`a}, {
                0.05, $CellContext`a}}], {$CellContext`a, -1, 1, 0.2}], 
             Table[
              
              Text[$CellContext`a, {-0.1, $CellContext`a}], {$CellContext`a, \
{-1, 1}}], 
             Table[
              
              Text[$CellContext`a, {$CellContext`a, -0.1}], {$CellContext`a, \
{-1, 1}}]}, 
            Arrowheads[{0, 0.1}], Thick, Red, 
            Arrow[
             Dynamic[{{0, 
                Part[$CellContext`pt, 2]}, $CellContext`pt}]], Blue, 
            Arrow[
             Dynamic[{{
                Part[$CellContext`pt, 1], 0}, $CellContext`pt}]]}]]]}; 
     Typeset`initDone$$ = True),
    SynchronousInitialization->True,
    UndoTrackedVariables:>{Typeset`show$$, Typeset`bookmarkMode$$},
    UnsavedVariables:>{Typeset`initDone$$},
    UntrackedVariables:>{Typeset`size$$}], "Manipulate",
   Deployed->True,
   StripOnInput->False],
  Manipulate`InterpretManipulate[1]]], "Output",
 CellChangeTimes->{3.6751014162509604`*^9, 3.675103014756668*^9},
 CellID->477371990]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["", "ManipulateCaptionSection"],

Cell[TextData[{
 "This Demonstration lets you control a two-link revolute-revolute robot arm \
either by setting the two joint angles (this is called ",
 StyleBox["forward kinematics",
  FontSlant->"Italic"],
 ") or by dragging a locator specifying the tip of the end effector (this is \
called ",
 StyleBox["inverse kinematics",
  FontSlant->"Italic"],
 "). Most locations in the workspace have two solutions to the inverse \
kinematics and can be selected with the \"elbow up?\" check box. The joint \
velocities are limited to magnitudes less than or equal to 1, represented by \
a green disc. Joint velocities map to a velocity of the end effector, drawn \
with a green locator (this is called ",
 StyleBox["forward velocity kinematics",
  FontSlant->"Italic"],
 "). Dragging the green locator maps to joint velocities (this is called ",
 StyleBox["inverse velocity kinematics",
  FontSlant->"Italic"],
 "). You can vary the relative link lengths under the constraint that ",
 Cell[BoxData[
  FormBox[
   RowBox[{
    RowBox[{
     SubscriptBox["r", "1"], "+", 
     SubscriptBox["r", "2"]}], "=", "2"}], TraditionalForm]], "InlineMath"],
 "."
}], "ManipulateCaption",
 CellChangeTimes->{{3.674410209409976*^9, 3.674410572091957*^9}, {
   3.674428612950883*^9, 3.674428653597599*^9}, {3.674928654290998*^9, 
   3.674928657247963*^9}, {3.674929033704254*^9, 3.674929045592246*^9}, {
   3.6750244354122686`*^9, 3.6750244673416953`*^9}, {3.6751014351290007`*^9, 
   3.675101479265973*^9}, {3.675101516560543*^9, 3.675101614129353*^9}, {
   3.6751031450166283`*^9, 3.675103167514599*^9}, {3.67510336598171*^9, 
   3.6751033681066628`*^9}, {3.675175789298806*^9, 3.675175807342993*^9}, {
   3.675176355234501*^9, 3.675176359677329*^9}, 3.67517660761873*^9},
 CellID->636688945]
}, Open  ]],

Cell[CellGroupData[{

Cell["", "ThumbnailSection"],

Cell[BoxData[
 TagBox[
  StyleBox[
   DynamicModuleBox[{$CellContext`IsElbowUp$$ = 
    False, $CellContext`IsElbowUpp$$ = 
    False, $CellContext`jointVel$$ = {-0.795, 0.49}, $CellContext`p1$$ = {
    0.4770097636029739, -0.8788979948932839}, $CellContext`p2$$ = {
    0.9342980000000003, 0.3564929833755489}, $CellContext`pEnd$$ = {
    1.2360000000000002`, -1.53}, $CellContext`pEndp$$ = {
    1.2360000000000002`, -1.53}, $CellContext`pVel$$ = {
    0.3386899825022911, -2.1407147841654575`}, $CellContext`pVelp$$ = {
    0.3386899825022911, -2.1407147841654575`}, $CellContext`r1$$ = 1, 
    Typeset`show$$ = True, Typeset`bookmarkList$$ = {}, 
    Typeset`bookmarkMode$$ = "Menu", Typeset`animator$$, Typeset`animvar$$ = 
    1, Typeset`name$$ = "\"untitled\"", Typeset`specs$$ = {{{
       Hold[$CellContext`r1$$], 1, "\!\(\*SubscriptBox[\(r\), \(1\)]\)"}, 0, 
      2}, {{
       Hold[$CellContext`pEnd$$], {1.2360000000000002`, -1.53}}, {-2, -2}, {2,
       2}}, {{
       Hold[$CellContext`pEndp$$], {1.2360000000000002`, -1.53}}, {-2, -2}, {
      2, 2}}, {{
       Hold[$CellContext`pVel$$], {
       0.3386899825022911, -2.1407147841654575`}}, {-4, -4}, {4, 4}}, {{
       Hold[$CellContext`pVelp$$], {
       0.3386899825022911, -2.1407147841654575`}}, {-4, -4}, {4, 4}}, {{
       Hold[$CellContext`p1$$], {0.4770097636029739, -0.8788979948932839}, 
       "\!\(\*SubscriptBox[\(\[Theta]\), \(1\)]\)"}, \
$CellContext`makeDialControl[#, {0, 0}, Red]& }, {{
       Hold[$CellContext`p2$$], {0.9342980000000003, 0.3564929833755489}, 
       "\!\(\*SubscriptBox[\(\[Theta]\), \(2\)]\)"}, \
$CellContext`makeDialControl[#, {0, 0}, Blue]& }, {{
       Hold[$CellContext`IsElbowUp$$], False, "elbow up?"}, {True, False}}, {{
       Hold[$CellContext`IsElbowUpp$$], False}, 0}, {{
       Hold[$CellContext`jointVel$$], {-0.795, 0.49}, 
       "joint\nvelocity"}, $CellContext`make2VelControl[#]& }}, 
    Typeset`size$$ = {400., {198., 202.}}, Typeset`update$$ = 0, 
    Typeset`initDone$$, Typeset`skipInitDone$$ = 
    False, $CellContext`r1$2791$$ = 0, $CellContext`pEnd$2792$$ = {0, 
    0}, $CellContext`pEndp$2793$$ = {0, 0}, $CellContext`pVel$2794$$ = {0, 
    0}, $CellContext`pVelp$2795$$ = {0, 0}, $CellContext`IsElbowUp$2796$$ = 
    False}, 
    DynamicBox[Manipulate`ManipulateBoxes[
     1, StandardForm, 
      "Variables" :> {$CellContext`IsElbowUp$$ = 
        False, $CellContext`IsElbowUpp$$ = 
        False, $CellContext`jointVel$$ = {-0.795, 0.49}, $CellContext`p1$$ = {
         0.4770097636029739, -0.8788979948932839}, $CellContext`p2$$ = {
         0.9342980000000003, 0.3564929833755489}, $CellContext`pEnd$$ = {
         1.2360000000000002`, -1.53}, $CellContext`pEndp$$ = {
         1.2360000000000002`, -1.53}, $CellContext`pVel$$ = {
         0.3386899825022911, -2.1407147841654575`}, $CellContext`pVelp$$ = {
         0.3386899825022911, -2.1407147841654575`}, $CellContext`r1$$ = 1}, 
      "ControllerVariables" :> {
        Hold[$CellContext`r1$$, $CellContext`r1$2791$$, 0], 
        Hold[$CellContext`pEnd$$, $CellContext`pEnd$2792$$, {0, 0}], 
        Hold[$CellContext`pEndp$$, $CellContext`pEndp$2793$$, {0, 0}], 
        Hold[$CellContext`pVel$$, $CellContext`pVel$2794$$, {0, 0}], 
        Hold[$CellContext`pVelp$$, $CellContext`pVelp$2795$$, {0, 0}], 
        Hold[$CellContext`IsElbowUp$$, $CellContext`IsElbowUp$2796$$, False]},
       "OtherVariables" :> {
       Typeset`show$$, Typeset`bookmarkList$$, Typeset`bookmarkMode$$, 
        Typeset`animator$$, Typeset`animvar$$, Typeset`name$$, 
        Typeset`specs$$, Typeset`size$$, Typeset`update$$, Typeset`initDone$$,
         Typeset`skipInitDone$$}, "Body" :> 
      Module[{$CellContext`w$ = 1/8, $CellContext`l$ = 
         1, $CellContext`\[Theta]1$, $CellContext`\[Theta]2$, \
$CellContext`r2$, $CellContext`U$, $CellContext`\[CapitalSigma]$, \
$CellContext`V$, $CellContext`J$, $CellContext`q$, $CellContext`vNorm$}, \
$CellContext`r2$ = 2 - $CellContext`r1$$; 
        If[Norm[$CellContext`pEnd$$] >= 2, $CellContext`pEnd$$ = 
          2 ($CellContext`pEnd$$/Norm[$CellContext`pEnd$$])]; 
        If[Norm[$CellContext`pEnd$$] <= 
          Abs[$CellContext`r1$$ - $CellContext`r2$], $CellContext`pEnd$$ = 
          Abs[$CellContext`r1$$ - $CellContext`r2$] ($CellContext`pEnd$$/
            Norm[$CellContext`pEnd$$])]; If[
          
          Or[$CellContext`pEndp$$ != $CellContext`pEnd$$, \
$CellContext`IsElbowUpp$$ != $CellContext`IsElbowUp$$], \
$CellContext`\[Theta]2$ = $CellContext`\[Theta]2inv[
             Part[$CellContext`pEnd$$, 1], 
             
             Part[$CellContext`pEnd$$, 
              2], $CellContext`r1$$, $CellContext`r2$, \
$CellContext`IsElbowUp$$]; $CellContext`\[Theta]1$ = $CellContext`\[Theta]1inv[
             Part[$CellContext`pEnd$$, 1], 
             
             Part[$CellContext`pEnd$$, 
              2], $CellContext`r1$$, $CellContext`r2$, \
$CellContext`\[Theta]2$]; $CellContext`p1$$ = {
             Cos[$CellContext`\[Theta]1$], 
             Sin[$CellContext`\[Theta]1$]}; $CellContext`p2$$ = {
             Cos[$CellContext`\[Theta]2$], 
             Sin[$CellContext`\[Theta]2$]}; 
          Null, $CellContext`\[Theta]1$ = ArcTan[
             Part[$CellContext`p1$$, 1], 
             Part[$CellContext`p1$$, 2]]; $CellContext`\[Theta]2$ = ArcTan[
             Part[$CellContext`p2$$, 1], 
             
             Part[$CellContext`p2$$, 
              2]]; $CellContext`pEnd$$ = {$CellContext`r1$$ 
              Cos[$CellContext`\[Theta]1$] + $CellContext`r2$ 
              Cos[$CellContext`\[Theta]1$ + $CellContext`\[Theta]2$], \
$CellContext`r1$$ Sin[$CellContext`\[Theta]1$] + $CellContext`r2$ 
              Sin[$CellContext`\[Theta]1$ + $CellContext`\[Theta]2$]}]; 
        If[$CellContext`\[Theta]2$ > 0, $CellContext`IsElbowUp$$ = False]; 
        If[$CellContext`\[Theta]2$ < 0, $CellContext`IsElbowUp$$ = 
          True]; $CellContext`pEndp$$ = $CellContext`pEnd$$; \
$CellContext`IsElbowUpp$$ = $CellContext`IsElbowUp$$; $CellContext`J$ = \
{{(-$CellContext`r1$$) Sin[$CellContext`\[Theta]1$] - $CellContext`r2$ 
            Sin[$CellContext`\[Theta]1$ + $CellContext`\[Theta]2$], \
(-$CellContext`r2$) 
            Sin[$CellContext`\[Theta]1$ + $CellContext`\[Theta]2$]}, \
{$CellContext`r1$$ Cos[$CellContext`\[Theta]1$] + $CellContext`r2$ 
             Cos[$CellContext`\[Theta]1$ + $CellContext`\[Theta]2$], \
$CellContext`r2$ 
            Cos[$CellContext`\[Theta]1$ + $CellContext`\[Theta]2$]}}; \
{$CellContext`U$, $CellContext`\[CapitalSigma]$, $CellContext`V$} = 
         SingularValueDecomposition[$CellContext`J$]; $CellContext`q$ = Dot[
           
           Transpose[$CellContext`U$], $CellContext`pVel$$ - \
$CellContext`pEnd$$]; If[$CellContext`pVelp$$ != $CellContext`pVel$$, 
          If[
           And[
           Part[$CellContext`\[CapitalSigma]$, 1, 1] > 0, 
            Part[$CellContext`\[CapitalSigma]$, 2, 2] > 
            0], $CellContext`vNorm$ = (
              Part[$CellContext`q$, 1]^2/
               Part[$CellContext`\[CapitalSigma]$, 1, 1]^2 + 
              Part[$CellContext`q$, 2]^2/
               Part[$CellContext`\[CapitalSigma]$, 2, 2]^2)^Rational[1, 2]; 
           If[$CellContext`vNorm$ > 
             1, $CellContext`pVel$$ = ($CellContext`pVel$$ - \
$CellContext`pEnd$$)/$CellContext`vNorm$ + $CellContext`pEnd$$]; \
$CellContext`jointVel$$ = 
            Dot[$CellContext`V$, {{
               1/Part[$CellContext`\[CapitalSigma]$, 1, 1], 0}, {
               0, 1/Part[$CellContext`\[CapitalSigma]$, 2, 2]}}, 
              
              Transpose[$CellContext`U$], $CellContext`pVel$$ - \
$CellContext`pEnd$$]; Null, 
           If[Part[$CellContext`\[CapitalSigma]$, 1, 1] > 
             0, $CellContext`pVel$$ = Dot[$CellContext`U$, {
                  Part[$CellContext`q$, 1], 0}] 
               If[(Part[$CellContext`q$, 1]^2/
                   Part[$CellContext`\[CapitalSigma]$, 1, 1]^2)^
                  Rational[1, 2] > 1, 
                 Abs[
                 Part[$CellContext`\[CapitalSigma]$, 1, 1]/
                  Part[$CellContext`q$, 1]], 1] + $CellContext`pEnd$$]; 
           If[Part[$CellContext`\[CapitalSigma]$, 2, 2] > 
             0, $CellContext`pVel$$ = Dot[$CellContext`U$, {0, 
                  Part[$CellContext`q$, 2]}] 
               If[(Part[$CellContext`q$, 2]^2/
                   Part[$CellContext`\[CapitalSigma]$, 2, 2]^2)^
                  Rational[1, 2] > 1, 
                 Abs[
                 Part[$CellContext`\[CapitalSigma]$, 2, 2]/
                  Part[$CellContext`q$, 2]], 
                 1] + $CellContext`pEnd$$]; $CellContext`jointVel$$ = Dot[
              
              PseudoInverse[$CellContext`J$], $CellContext`pVel$$ - \
$CellContext`pEnd$$]], $CellContext`pVel$$ = 
          Dot[$CellContext`J$, $CellContext`jointVel$$] + \
$CellContext`pEnd$$]; $CellContext`pVelp$$ = $CellContext`pVel$$; 
        Graphics[{{LightBlue, 
            EdgeForm[{Thin, Blue}], 
            Disk[{0, 0}, 2], 
            If[$CellContext`r1$$ != 1, {White, 
              Disk[{0, 0}, 
               Abs[$CellContext`r1$$ - $CellContext`r2$]]}], Black, 
            Text["Workspace", {0, 1.8}]}, {
            EdgeForm[{Thin, Blue}], 
            GeometricTransformation[{
              Opacity[0.5], 
              If[MatrixRank[$CellContext`\[CapitalSigma]$] > 1, {LightRed, 
                Ellipsoid[{0, 0}, $CellContext`\[CapitalSigma]$^2]}], Blue, 
              Arrow[{{0, 0}, 
                Part[$CellContext`\[CapitalSigma]$, 1]}], 
              Arrow[{{0, 0}, -Part[$CellContext`\[CapitalSigma]$, 1]}], Red, 
              Arrow[{{0, 0}, 
                Part[$CellContext`\[CapitalSigma]$, 2]}], Red, 
              
              Arrow[{{0, 0}, -
                Part[$CellContext`\[CapitalSigma]$, 
                  2]}]}, {$CellContext`U$, $CellContext`pEnd$$}]}, Gray, 
           EdgeForm[Black], 
           Rotate[{
             
             Rectangle[{-$CellContext`w$, -$CellContext`w$}, \
{$CellContext`r1$$ + $CellContext`w$, $CellContext`w$}, 
              RoundingRadius -> $CellContext`w$], 
             If[$CellContext`r2$ < 1, {Black, 
               Text[
               "Robot Arm", {$CellContext`r1$$/2, 
                 0}]}]}, $CellContext`\[Theta]1$, {0, 0}], {Black, 
            Point[{{0, 0}}], {Red, 
             PointSize[Large], 
             $CellContext`myArrowArc[$CellContext`l$ {0, 0}, 1/
              2, $CellContext`\[Theta]1$ + {0, 
                Part[$CellContext`jointVel$$, 1]}]}, 
            Darker[Gray], 
            $CellContext`myArrowArc[{0, 0}, $CellContext`l$/4, {
             0, $CellContext`\[Theta]1$}], 
            If[Abs[$CellContext`\[Theta]1$] > Pi/4, 
             Text[
              Style[
              "\!\(\*SubscriptBox[\(\[Theta]\), \(1\)]\)", 
               Medium], ($CellContext`l$ (2/5)) {
                Cos[$CellContext`\[Theta]1$/2], 
                Sin[$CellContext`\[Theta]1$/2]}]]}, 
           Rotate[{
             
             Rectangle[{$CellContext`r1$$ 
                Cos[$CellContext`\[Theta]1$] - $CellContext`w$, \
$CellContext`r1$$ 
                Sin[$CellContext`\[Theta]1$] - $CellContext`w$}, \
{$CellContext`r1$$ 
                Cos[$CellContext`\[Theta]1$] + $CellContext`r2$ + \
$CellContext`w$, $CellContext`r1$$ 
                Sin[$CellContext`\[Theta]1$] + $CellContext`w$}, 
              RoundingRadius -> $CellContext`w$], 
             If[$CellContext`r2$ >= 1, {Black, 
               Text[
               "Robot Arm", {$CellContext`r1$$ 
                  Cos[$CellContext`\[Theta]1$] + $CellContext`r2$/
                  2, $CellContext`r1$$ 
                 Sin[$CellContext`\[Theta]1$]}]}]}, $CellContext`\[Theta]1$ + \
$CellContext`\[Theta]2$, {$CellContext`r1$$ 
             Cos[$CellContext`\[Theta]1$], $CellContext`r1$$ 
             Sin[$CellContext`\[Theta]1$]}], {Black, 
            Point[{$CellContext`r1$$ {
                Cos[$CellContext`\[Theta]1$], 
                Sin[$CellContext`\[Theta]1$]}}], {Thick, Blue, 
             $CellContext`myArrowArc[$CellContext`r1$$ {
                Cos[$CellContext`\[Theta]1$], 
                Sin[$CellContext`\[Theta]1$]}, 2/
              3, $CellContext`\[Theta]1$ + $CellContext`\[Theta]2$ + {0, 
                Part[$CellContext`jointVel$$, 2]}]}, 
            Darker[Gray], 
            $CellContext`myArrowArc[$CellContext`r1$$ {
               Cos[$CellContext`\[Theta]1$], 
               Sin[$CellContext`\[Theta]1$]}, $CellContext`l$/
             3, {$CellContext`\[Theta]1$, $CellContext`\[Theta]1$ + \
$CellContext`\[Theta]2$}], 
            If[Abs[$CellContext`\[Theta]2$] > Pi/4, 
             Text[
              Style[
              "\!\(\*SubscriptBox[\(\[Theta]\), \(2\)]\)", 
               Medium], {$CellContext`r1$$ 
                Cos[$CellContext`\[Theta]1$] + ($CellContext`r2$/2) 
                Cos[$CellContext`\[Theta]1$ + $CellContext`\[Theta]2$/
                   2], $CellContext`r1$$ 
                Sin[$CellContext`\[Theta]1$] + ($CellContext`r2$/2) 
                Sin[$CellContext`\[Theta]1$ + $CellContext`\[Theta]2$/2]}]]}, 
           $CellContext`loc[
            Darker[Green], $CellContext`pVel$$], 
           $CellContext`loc[Black, $CellContext`pEnd$$], {Green, Thick, 
            Arrow[{$CellContext`pEnd$$, $CellContext`pVel$$}]}}, PlotRange -> 
          3 {{-1, 1}, {-1, 1}}, ImageSize -> 400]], 
      "Specifications" :> {{{$CellContext`r1$$, 1, 
          "\!\(\*SubscriptBox[\(r\), \(1\)]\)"}, 0, 2, ImageSize -> 80, 
         Appearance -> 
         "Labeled"}, {{$CellContext`pEnd$$, {
          1.2360000000000002`, -1.53}}, {-2, -2}, {2, 2}, ControlType -> 
         Locator, Appearance -> 
         None}, {{$CellContext`pEndp$$, {
          1.2360000000000002`, -1.53}}, {-2, -2}, {2, 2}, ControlType -> 
         None}, {{$CellContext`pVel$$, {
          0.3386899825022911, -2.1407147841654575`}}, {-4, -4}, {4, 4}, 
         ControlType -> Locator, Appearance -> 
         None}, {{$CellContext`pVelp$$, {
          0.3386899825022911, -2.1407147841654575`}}, {-4, -4}, {4, 4}, 
         ControlType -> 
         None}, {{$CellContext`p1$$, {
          0.4770097636029739, -0.8788979948932839}, 
          "\!\(\*SubscriptBox[\(\[Theta]\), \(1\)]\)"}, \
$CellContext`makeDialControl[#, {0, 0}, Red]& , ImageSize -> 
         140}, {{$CellContext`p2$$, {0.9342980000000003, 0.3564929833755489}, 
          "\!\(\*SubscriptBox[\(\[Theta]\), \(2\)]\)"}, \
$CellContext`makeDialControl[#, {0, 0}, Blue]& , ImageSize -> 
         140}, {{$CellContext`IsElbowUp$$, False, "elbow up?"}, {
         True, False}}, {{$CellContext`IsElbowUpp$$, False}, 0, ControlType -> 
         None}, {{$CellContext`jointVel$$, {-0.795, 0.49}, 
          "joint\nvelocity"}, $CellContext`make2VelControl[#]& , ImageSize -> 
         140}}, "Options" :> {ControlPlacement -> Left}, 
      "DefaultOptions" :> {ControllerLinking -> True}],
     ImageSizeCache->{642., {252., 258.}},
     SingleEvaluation->True],
    Deinitialization:>None,
    DynamicModuleValues:>{},
    Initialization:>({$CellContext`\[Theta]2inv[
         Pattern[$CellContext`x, 
          Blank[]], 
         Pattern[$CellContext`y, 
          Blank[]], 
         Pattern[$CellContext`r1, 
          Blank[]], 
         Pattern[$CellContext`r2, 
          Blank[]], 
         Pattern[$CellContext`IsElbowUp, 
          Blank[]]] := Re[
         If[$CellContext`x^2 + $CellContext`y^2 >= ($CellContext`r1 + \
$CellContext`r2)^2, 0, 
          
          Module[{D = (-$CellContext`r1^2 - $CellContext`r2^2 + \
$CellContext`x^2 + $CellContext`y^2)/((2 $CellContext`r1) $CellContext`r2)}, 
           ArcTan[
           D, If[$CellContext`IsElbowUp, -1, 1] 
            Sqrt[1 - D^2]]]]], $CellContext`\[Theta]1inv[
         Pattern[$CellContext`x, 
          Blank[]], 
         Pattern[$CellContext`y, 
          Blank[]], 
         Pattern[$CellContext`r1, 
          Blank[]], 
         Pattern[$CellContext`r2, 
          Blank[]], 
         Pattern[$CellContext`\[Theta]2, 
          Blank[]]] := 
       Re[ArcTan[$CellContext`x, $CellContext`y] - 
         ArcTan[$CellContext`r1 + $CellContext`r2 
           Cos[$CellContext`\[Theta]2], $CellContext`r2 
          Sin[$CellContext`\[Theta]2]]], $CellContext`myArrowArc[
         Pattern[$CellContext`c, 
          Blank[]], 
         Pattern[$CellContext`r, 
          Blank[]], {
          Pattern[$CellContext`start, 
           Blank[]], 
          Pattern[$CellContext`end, 
           Blank[]]}] := If[$CellContext`start == $CellContext`end, 
         Point[$CellContext`c + $CellContext`r {
             Cos[$CellContext`start], 
             Sin[$CellContext`start]}], 
         Arrow[
          BSplineCurve[
           Table[$CellContext`c + $CellContext`r {
               Cos[$CellContext`t], 
               
               Sin[$CellContext`t]}, {$CellContext`t, $CellContext`start, \
$CellContext`end, ($CellContext`end - $CellContext`start)/
             11}]]]], $CellContext`loc[
         Pattern[$CellContext`col, 
          Blank[]], 
         Pattern[$CellContext`c, 
          Blank[]]] := Module[{$CellContext`sc = 1/25}, {$CellContext`col, 
          
          Line[{$CellContext`c + $CellContext`sc {
              0, 1.5}, $CellContext`c + $CellContext`sc {0, 3}}], 
          
          Line[{$CellContext`c + $CellContext`sc {
              0, -1.5}, $CellContext`c + $CellContext`sc {0, -3}}], 
          
          Line[{$CellContext`c + $CellContext`sc {-1.5, 
               0}, $CellContext`c + $CellContext`sc {-3, 0}}], 
          
          Line[{$CellContext`c + $CellContext`sc {
              1.5, 0}, $CellContext`c + $CellContext`sc {3, 0}}], 
          Circle[$CellContext`c, $CellContext`sc 2], {
           Thickness[1/100], 
           Opacity[0.5], 
           Circle[$CellContext`c, ($CellContext`sc 2) 0.7]}}], 
       Attributes[PlotRange] = {ReadProtected}, $CellContext`makeDialControl[
         Dynamic[
          Pattern[$CellContext`pt, 
           Blank[]]], 
         Pattern[$CellContext`cent, 
          Blank[]], 
         Pattern[$CellContext`color, 
          Blank[]]] := Module[{$CellContext`ang}, 
         LocatorPane[
          
          Dynamic[$CellContext`pt, ($CellContext`pt = 
           Normalize[#])& ], $CellContext`ang = Dynamic[
             ArcTan[
              Part[$CellContext`pt, 1], 
              Part[$CellContext`pt, 2]]]; Graphics[{Gray, 
             Circle[$CellContext`cent], Gray, 
             Table[
              Line[{$CellContext`cent + 0.94 {
                   Cos[$CellContext`a], 
                   Sin[$CellContext`a]}, $CellContext`cent + {
                  Cos[$CellContext`a], 
                  Sin[$CellContext`a]}}], {$CellContext`a, 0, 2 Pi, Pi/8}], 
             Table[
              Line[{$CellContext`cent + 0.98 {
                   Cos[$CellContext`a], 
                   Sin[$CellContext`a]}, $CellContext`cent + {
                  Cos[$CellContext`a], 
                  Sin[$CellContext`a]}}], {$CellContext`a, Pi/16, 2 Pi, Pi/
               8}], {FontSize -> 10, 
              Table[
               Text[$CellContext`\[Theta], $CellContext`cent + 0.7 {
                   Cos[$CellContext`\[Theta]], 
                   Sin[$CellContext`\[Theta]]}], {$CellContext`\[Theta], 
                Rest[
                 Range[-Pi, Pi, Pi/4]]}]}, {$CellContext`color, 
              EdgeForm[Black], 
              Rotate[
               Translate[
                $CellContext`makeHand[
                7, 7/3, 0.1, 
                 0.3], $CellContext`cent], $CellContext`ang, \
$CellContext`cent]}, Black, 
             Arrowheads[0.05], $CellContext`color, 
             $CellContext`myArrowArc2[$CellContext`cent, 0.3, {
              0, $CellContext`ang}]}]]], $CellContext`makeHand[
         Pattern[$CellContext`fl, 
          Blank[]], 
         Pattern[$CellContext`bl, 
          Blank[]], 
         Pattern[$CellContext`fw, 
          Blank[]], 
         Pattern[$CellContext`bw, 
          Blank[]]] := 
       Polygon[{{-$CellContext`bl, -$CellContext`bw}, {-$CellContext`bl, \
$CellContext`bw}, {$CellContext`fl, $CellContext`fw}, {$CellContext`fl + 
            8 $CellContext`fw, 0}, {$CellContext`fl, -$CellContext`fw}}/
         10], $CellContext`myArrowArc2[
         Pattern[$CellContext`c, 
          Blank[]], 
         Pattern[$CellContext`r, 
          Blank[]], {
          Pattern[$CellContext`start, 
           Blank[]], 
          Pattern[$CellContext`end, 
           Blank[]]}] := If[$CellContext`start === $CellContext`end, 
         Point[$CellContext`c + $CellContext`r {
             Cos[$CellContext`start], 
             Sin[$CellContext`start]}], 
         Arrow[
          BSplineCurve[
           Table[$CellContext`c + $CellContext`r {
               Cos[$CellContext`t], 
               
               Sin[$CellContext`t]}, {$CellContext`t, $CellContext`start, \
$CellContext`end, ($CellContext`end - $CellContext`start)/
             11}]]]], $CellContext`make2VelControl[
         Dynamic[
          Pattern[$CellContext`pt, 
           Blank[]]]] := 
       Module[{$CellContext`ang, $CellContext`cent = {0, 0}}, 
         LocatorPane[
          Dynamic[$CellContext`pt, ($CellContext`pt = If[Norm[
               Re[#]] > 1, 
             Normalize[
              Re[#]], 
             Re[#]])& ], 
          Graphics[{{LightGreen, 
             Disk[$CellContext`cent, 1]}, {Thin, Black, 
             Line[{{-1, 0}, {1, 0}}], 
             Line[{{0, -1}, {0, 1}}], 
             Text[
             "\!\(\*SubscriptBox[OverscriptBox[\(\[Theta]\), \(.\)], \
\(1\)]\)", {0.9, 0.2}], 
             Text[
             "\!\(\*SubscriptBox[OverscriptBox[\(\[Theta]\), \(.\)], \
\(2\)]\)", {0.2, 0.9}], 
             Table[
              
              Line[{{$CellContext`a, 0}, {$CellContext`a, 
                 0.05}}], {$CellContext`a, -1, 1, 0.2}], 
             Table[
              
              Line[{{0, $CellContext`a}, {
                0.05, $CellContext`a}}], {$CellContext`a, -1, 1, 0.2}], 
             Table[
              
              Text[$CellContext`a, {-0.1, $CellContext`a}], {$CellContext`a, \
{-1, 1}}], 
             Table[
              
              Text[$CellContext`a, {$CellContext`a, -0.1}], {$CellContext`a, \
{-1, 1}}]}, 
            Arrowheads[{0, 0.1}], Thick, Red, 
            Arrow[
             Dynamic[{{0, 
                Part[$CellContext`pt, 2]}, $CellContext`pt}]], Blue, 
            Arrow[
             Dynamic[{{
                Part[$CellContext`pt, 1], 0}, $CellContext`pt}]]}]]]}; 
     Typeset`initDone$$ = True),
    SynchronousInitialization->True,
    UndoTrackedVariables:>{Typeset`show$$, Typeset`bookmarkMode$$},
    UnsavedVariables:>{Typeset`initDone$$},
    UntrackedVariables:>{Typeset`size$$}], "Manipulate",
   Deployed->True,
   StripOnInput->False],
  Manipulate`InterpretManipulate[1]]], "Output",
 CellID->333146357]
}, Open  ]],

Cell[CellGroupData[{

Cell["", "SnapshotsSection"],

Cell[BoxData[
 TagBox[
  StyleBox[
   DynamicModuleBox[{$CellContext`IsElbowUp$$ = 
    False, $CellContext`IsElbowUpp$$ = False, $CellContext`jointVel$$ = {
    0.8944271909999155, 
    0.4472135954999578}, $CellContext`p1$$ = {-0.9629640197141817, 
    0.26962992551997095`}, $CellContext`p2$$ = {1, 
    0}, $CellContext`pEnd$$ = {-1.9259280394283633`, 
    0.5392598510399419}, $CellContext`pEndp$$ = {-1.9259280394283633`, 
    0.5392598510399419}, $CellContext`pVel$$ = {-2.5288388816592233`, \
-1.613993156927415}, $CellContext`pVelp$$ = {-2.5288388816592233`, \
-1.613993156927415}, $CellContext`r1$$ = 1, Typeset`show$$ = True, 
    Typeset`bookmarkList$$ = {}, Typeset`bookmarkMode$$ = "Menu", 
    Typeset`animator$$, Typeset`animvar$$ = 1, Typeset`name$$ = 
    "\"untitled\"", Typeset`specs$$ = {{{
       Hold[$CellContext`r1$$], 1, "\!\(\*SubscriptBox[\(r\), \(1\)]\)"}, 0, 
      2}, {{
       Hold[$CellContext`pEnd$$], {-1.9259280394283633`, 
       0.5392598510399419}}, {-2, -2}, {2, 2}}, {{
       Hold[$CellContext`pEndp$$], {-1.9259280394283633`, 
       0.5392598510399419}}, {-2, -2}, {2, 2}}, {{
       Hold[$CellContext`pVel$$], {-2.5288388816592233`, \
-1.613993156927415}}, {-4, -4}, {4, 4}}, {{
       Hold[$CellContext`pVelp$$], {-2.5288388816592233`, \
-1.613993156927415}}, {-4, -4}, {4, 4}}, {{
       Hold[$CellContext`p1$$], {-0.9629640197141817, 0.26962992551997095`}, 
       "\!\(\*SubscriptBox[\(\[Theta]\), \(1\)]\)"}, \
$CellContext`makeDialControl[#, {0, 0}, Red]& }, {{
       Hold[$CellContext`p2$$], {1, 0}, 
       "\!\(\*SubscriptBox[\(\[Theta]\), \(2\)]\)"}, \
$CellContext`makeDialControl[#, {0, 0}, Blue]& }, {{
       Hold[$CellContext`IsElbowUp$$], False, "elbow up?"}, {True, False}}, {{
       Hold[$CellContext`IsElbowUpp$$], False}, 0}, {{
       Hold[$CellContext`jointVel$$], {0.8944271909999155, 
       0.4472135954999578}, 
       "joint\nvelocity"}, $CellContext`make2VelControl[#]& }}, 
    Typeset`size$$ = {400., {198., 202.}}, Typeset`update$$ = 0, 
    Typeset`initDone$$, Typeset`skipInitDone$$ = 
    False, $CellContext`r1$2887$$ = 0, $CellContext`pEnd$2888$$ = {0, 
    0}, $CellContext`pEndp$2889$$ = {0, 0}, $CellContext`pVel$2890$$ = {0, 
    0}, $CellContext`pVelp$2891$$ = {0, 0}, $CellContext`IsElbowUp$2892$$ = 
    False}, 
    DynamicBox[Manipulate`ManipulateBoxes[
     1, StandardForm, 
      "Variables" :> {$CellContext`IsElbowUp$$ = 
        False, $CellContext`IsElbowUpp$$ = 
        False, $CellContext`jointVel$$ = {0.8944271909999155, 
         0.4472135954999578}, $CellContext`p1$$ = {-0.9629640197141817, 
         0.26962992551997095`}, $CellContext`p2$$ = {1, 
         0}, $CellContext`pEnd$$ = {-1.9259280394283633`, 
         0.5392598510399419}, $CellContext`pEndp$$ = {-1.9259280394283633`, 
         0.5392598510399419}, $CellContext`pVel$$ = {-2.5288388816592233`, \
-1.613993156927415}, $CellContext`pVelp$$ = {-2.5288388816592233`, \
-1.613993156927415}, $CellContext`r1$$ = 1}, "ControllerVariables" :> {
        Hold[$CellContext`r1$$, $CellContext`r1$2887$$, 0], 
        Hold[$CellContext`pEnd$$, $CellContext`pEnd$2888$$, {0, 0}], 
        Hold[$CellContext`pEndp$$, $CellContext`pEndp$2889$$, {0, 0}], 
        Hold[$CellContext`pVel$$, $CellContext`pVel$2890$$, {0, 0}], 
        Hold[$CellContext`pVelp$$, $CellContext`pVelp$2891$$, {0, 0}], 
        Hold[$CellContext`IsElbowUp$$, $CellContext`IsElbowUp$2892$$, False]},
       "OtherVariables" :> {
       Typeset`show$$, Typeset`bookmarkList$$, Typeset`bookmarkMode$$, 
        Typeset`animator$$, Typeset`animvar$$, Typeset`name$$, 
        Typeset`specs$$, Typeset`size$$, Typeset`update$$, Typeset`initDone$$,
         Typeset`skipInitDone$$}, "Body" :> 
      Module[{$CellContext`w$ = 1/8, $CellContext`l$ = 
         1, $CellContext`\[Theta]1$, $CellContext`\[Theta]2$, \
$CellContext`r2$, $CellContext`U$, $CellContext`\[CapitalSigma]$, \
$CellContext`V$, $CellContext`J$, $CellContext`q$, $CellContext`vNorm$}, \
$CellContext`r2$ = 2 - $CellContext`r1$$; 
        If[Norm[$CellContext`pEnd$$] >= 2, $CellContext`pEnd$$ = 
          2 ($CellContext`pEnd$$/Norm[$CellContext`pEnd$$])]; 
        If[Norm[$CellContext`pEnd$$] <= 
          Abs[$CellContext`r1$$ - $CellContext`r2$], $CellContext`pEnd$$ = 
          Abs[$CellContext`r1$$ - $CellContext`r2$] ($CellContext`pEnd$$/
            Norm[$CellContext`pEnd$$])]; If[
          
          Or[$CellContext`pEndp$$ != $CellContext`pEnd$$, \
$CellContext`IsElbowUpp$$ != $CellContext`IsElbowUp$$], \
$CellContext`\[Theta]2$ = $CellContext`\[Theta]2inv[
             Part[$CellContext`pEnd$$, 1], 
             
             Part[$CellContext`pEnd$$, 
              2], $CellContext`r1$$, $CellContext`r2$, \
$CellContext`IsElbowUp$$]; $CellContext`\[Theta]1$ = $CellContext`\[Theta]1inv[
             Part[$CellContext`pEnd$$, 1], 
             
             Part[$CellContext`pEnd$$, 
              2], $CellContext`r1$$, $CellContext`r2$, \
$CellContext`\[Theta]2$]; $CellContext`p1$$ = {
             Cos[$CellContext`\[Theta]1$], 
             Sin[$CellContext`\[Theta]1$]}; $CellContext`p2$$ = {
             Cos[$CellContext`\[Theta]2$], 
             Sin[$CellContext`\[Theta]2$]}; 
          Null, $CellContext`\[Theta]1$ = ArcTan[
             Part[$CellContext`p1$$, 1], 
             Part[$CellContext`p1$$, 2]]; $CellContext`\[Theta]2$ = ArcTan[
             Part[$CellContext`p2$$, 1], 
             
             Part[$CellContext`p2$$, 
              2]]; $CellContext`pEnd$$ = {$CellContext`r1$$ 
              Cos[$CellContext`\[Theta]1$] + $CellContext`r2$ 
              Cos[$CellContext`\[Theta]1$ + $CellContext`\[Theta]2$], \
$CellContext`r1$$ Sin[$CellContext`\[Theta]1$] + $CellContext`r2$ 
              Sin[$CellContext`\[Theta]1$ + $CellContext`\[Theta]2$]}]; 
        If[$CellContext`\[Theta]2$ > 0, $CellContext`IsElbowUp$$ = False]; 
        If[$CellContext`\[Theta]2$ < 0, $CellContext`IsElbowUp$$ = 
          True]; $CellContext`pEndp$$ = $CellContext`pEnd$$; \
$CellContext`IsElbowUpp$$ = $CellContext`IsElbowUp$$; $CellContext`J$ = \
{{(-$CellContext`r1$$) Sin[$CellContext`\[Theta]1$] - $CellContext`r2$ 
            Sin[$CellContext`\[Theta]1$ + $CellContext`\[Theta]2$], \
(-$CellContext`r2$) 
            Sin[$CellContext`\[Theta]1$ + $CellContext`\[Theta]2$]}, \
{$CellContext`r1$$ Cos[$CellContext`\[Theta]1$] + $CellContext`r2$ 
             Cos[$CellContext`\[Theta]1$ + $CellContext`\[Theta]2$], \
$CellContext`r2$ 
            Cos[$CellContext`\[Theta]1$ + $CellContext`\[Theta]2$]}}; \
{$CellContext`U$, $CellContext`\[CapitalSigma]$, $CellContext`V$} = 
         SingularValueDecomposition[$CellContext`J$]; $CellContext`q$ = Dot[
           
           Transpose[$CellContext`U$], $CellContext`pVel$$ - \
$CellContext`pEnd$$]; If[$CellContext`pVelp$$ != $CellContext`pVel$$, 
          If[
           And[
           Part[$CellContext`\[CapitalSigma]$, 1, 1] > 0, 
            Part[$CellContext`\[CapitalSigma]$, 2, 2] > 
            0], $CellContext`vNorm$ = (
              Part[$CellContext`q$, 1]^2/
               Part[$CellContext`\[CapitalSigma]$, 1, 1]^2 + 
              Part[$CellContext`q$, 2]^2/
               Part[$CellContext`\[CapitalSigma]$, 2, 2]^2)^Rational[1, 2]; 
           If[$CellContext`vNorm$ > 
             1, $CellContext`pVel$$ = ($CellContext`pVel$$ - \
$CellContext`pEnd$$)/$CellContext`vNorm$ + $CellContext`pEnd$$]; \
$CellContext`jointVel$$ = 
            Dot[$CellContext`V$, {{
               1/Part[$CellContext`\[CapitalSigma]$, 1, 1], 0}, {
               0, 1/Part[$CellContext`\[CapitalSigma]$, 2, 2]}}, 
              
              Transpose[$CellContext`U$], $CellContext`pVel$$ - \
$CellContext`pEnd$$]; Null, 
           If[Part[$CellContext`\[CapitalSigma]$, 1, 1] > 
             0, $CellContext`pVel$$ = Dot[$CellContext`U$, {
                  Part[$CellContext`q$, 1], 0}] 
               If[(Part[$CellContext`q$, 1]^2/
                   Part[$CellContext`\[CapitalSigma]$, 1, 1]^2)^
                  Rational[1, 2] > 1, 
                 Abs[
                 Part[$CellContext`\[CapitalSigma]$, 1, 1]/
                  Part[$CellContext`q$, 1]], 1] + $CellContext`pEnd$$]; 
           If[Part[$CellContext`\[CapitalSigma]$, 2, 2] > 
             0, $CellContext`pVel$$ = Dot[$CellContext`U$, {0, 
                  Part[$CellContext`q$, 2]}] 
               If[(Part[$CellContext`q$, 2]^2/
                   Part[$CellContext`\[CapitalSigma]$, 2, 2]^2)^
                  Rational[1, 2] > 1, 
                 Abs[
                 Part[$CellContext`\[CapitalSigma]$, 2, 2]/
                  Part[$CellContext`q$, 2]], 
                 1] + $CellContext`pEnd$$]; $CellContext`jointVel$$ = Dot[
              
              PseudoInverse[$CellContext`J$], $CellContext`pVel$$ - \
$CellContext`pEnd$$]], $CellContext`pVel$$ = 
          Dot[$CellContext`J$, $CellContext`jointVel$$] + \
$CellContext`pEnd$$]; $CellContext`pVelp$$ = $CellContext`pVel$$; 
        Graphics[{{LightBlue, 
            EdgeForm[{Thin, Blue}], 
            Disk[{0, 0}, 2], 
            If[$CellContext`r1$$ != 1, {White, 
              Disk[{0, 0}, 
               Abs[$CellContext`r1$$ - $CellContext`r2$]]}], Black, 
            Text["Workspace", {0, 1.8}]}, {
            EdgeForm[{Thin, Blue}], 
            GeometricTransformation[{
              Opacity[0.5], 
              If[MatrixRank[$CellContext`\[CapitalSigma]$] > 1, {LightRed, 
                Ellipsoid[{0, 0}, $CellContext`\[CapitalSigma]$^2]}], Blue, 
              Arrow[{{0, 0}, 
                Part[$CellContext`\[CapitalSigma]$, 1]}], 
              Arrow[{{0, 0}, -Part[$CellContext`\[CapitalSigma]$, 1]}], Red, 
              Arrow[{{0, 0}, 
                Part[$CellContext`\[CapitalSigma]$, 2]}], Red, 
              
              Arrow[{{0, 0}, -
                Part[$CellContext`\[CapitalSigma]$, 
                  2]}]}, {$CellContext`U$, $CellContext`pEnd$$}]}, Gray, 
           EdgeForm[Black], 
           Rotate[{
             
             Rectangle[{-$CellContext`w$, -$CellContext`w$}, \
{$CellContext`r1$$ + $CellContext`w$, $CellContext`w$}, 
              RoundingRadius -> $CellContext`w$], 
             If[$CellContext`r2$ < 1, {Black, 
               Text[
               "Robot Arm", {$CellContext`r1$$/2, 
                 0}]}]}, $CellContext`\[Theta]1$, {0, 0}], {Black, 
            Point[{{0, 0}}], {Red, 
             PointSize[Large], 
             $CellContext`myArrowArc[$CellContext`l$ {0, 0}, 1/
              2, $CellContext`\[Theta]1$ + {0, 
                Part[$CellContext`jointVel$$, 1]}]}, 
            Darker[Gray], 
            $CellContext`myArrowArc[{0, 0}, $CellContext`l$/4, {
             0, $CellContext`\[Theta]1$}], 
            If[Abs[$CellContext`\[Theta]1$] > Pi/4, 
             Text[
              Style[
              "\!\(\*SubscriptBox[\(\[Theta]\), \(1\)]\)", 
               Medium], ($CellContext`l$ (2/5)) {
                Cos[$CellContext`\[Theta]1$/2], 
                Sin[$CellContext`\[Theta]1$/2]}]]}, 
           Rotate[{
             
             Rectangle[{$CellContext`r1$$ 
                Cos[$CellContext`\[Theta]1$] - $CellContext`w$, \
$CellContext`r1$$ 
                Sin[$CellContext`\[Theta]1$] - $CellContext`w$}, \
{$CellContext`r1$$ 
                Cos[$CellContext`\[Theta]1$] + $CellContext`r2$ + \
$CellContext`w$, $CellContext`r1$$ 
                Sin[$CellContext`\[Theta]1$] + $CellContext`w$}, 
              RoundingRadius -> $CellContext`w$], 
             If[$CellContext`r2$ >= 1, {Black, 
               Text[
               "Robot Arm", {$CellContext`r1$$ 
                  Cos[$CellContext`\[Theta]1$] + $CellContext`r2$/
                  2, $CellContext`r1$$ 
                 Sin[$CellContext`\[Theta]1$]}]}]}, $CellContext`\[Theta]1$ + \
$CellContext`\[Theta]2$, {$CellContext`r1$$ 
             Cos[$CellContext`\[Theta]1$], $CellContext`r1$$ 
             Sin[$CellContext`\[Theta]1$]}], {Black, 
            Point[{$CellContext`r1$$ {
                Cos[$CellContext`\[Theta]1$], 
                Sin[$CellContext`\[Theta]1$]}}], {Thick, Blue, 
             $CellContext`myArrowArc[$CellContext`r1$$ {
                Cos[$CellContext`\[Theta]1$], 
                Sin[$CellContext`\[Theta]1$]}, 2/
              3, $CellContext`\[Theta]1$ + $CellContext`\[Theta]2$ + {0, 
                Part[$CellContext`jointVel$$, 2]}]}, 
            Darker[Gray], 
            $CellContext`myArrowArc[$CellContext`r1$$ {
               Cos[$CellContext`\[Theta]1$], 
               Sin[$CellContext`\[Theta]1$]}, $CellContext`l$/
             3, {$CellContext`\[Theta]1$, $CellContext`\[Theta]1$ + \
$CellContext`\[Theta]2$}], 
            If[Abs[$CellContext`\[Theta]2$] > Pi/4, 
             Text[
              Style[
              "\!\(\*SubscriptBox[\(\[Theta]\), \(2\)]\)", 
               Medium], {$CellContext`r1$$ 
                Cos[$CellContext`\[Theta]1$] + ($CellContext`r2$/2) 
                Cos[$CellContext`\[Theta]1$ + $CellContext`\[Theta]2$/
                   2], $CellContext`r1$$ 
                Sin[$CellContext`\[Theta]1$] + ($CellContext`r2$/2) 
                Sin[$CellContext`\[Theta]1$ + $CellContext`\[Theta]2$/2]}]]}, 
           $CellContext`loc[
            Darker[Green], $CellContext`pVel$$], 
           $CellContext`loc[Black, $CellContext`pEnd$$], {Green, Thick, 
            Arrow[{$CellContext`pEnd$$, $CellContext`pVel$$}]}}, PlotRange -> 
          3 {{-1, 1}, {-1, 1}}, ImageSize -> 400]], 
      "Specifications" :> {{{$CellContext`r1$$, 1, 
          "\!\(\*SubscriptBox[\(r\), \(1\)]\)"}, 0, 2, ImageSize -> 80, 
         Appearance -> 
         "Labeled"}, {{$CellContext`pEnd$$, {-1.9259280394283633`, 
          0.5392598510399419}}, {-2, -2}, {2, 2}, ControlType -> Locator, 
         Appearance -> 
         None}, {{$CellContext`pEndp$$, {-1.9259280394283633`, 
          0.5392598510399419}}, {-2, -2}, {2, 2}, ControlType -> 
         None}, {{$CellContext`pVel$$, {-2.5288388816592233`, \
-1.613993156927415}}, {-4, -4}, {4, 4}, ControlType -> Locator, Appearance -> 
         None}, {{$CellContext`pVelp$$, {-2.5288388816592233`, \
-1.613993156927415}}, {-4, -4}, {4, 4}, ControlType -> 
         None}, {{$CellContext`p1$$, {-0.9629640197141817, 
          0.26962992551997095`}, 
          "\!\(\*SubscriptBox[\(\[Theta]\), \(1\)]\)"}, \
$CellContext`makeDialControl[#, {0, 0}, Red]& , ImageSize -> 
         140}, {{$CellContext`p2$$, {1, 0}, 
          "\!\(\*SubscriptBox[\(\[Theta]\), \(2\)]\)"}, \
$CellContext`makeDialControl[#, {0, 0}, Blue]& , ImageSize -> 
         140}, {{$CellContext`IsElbowUp$$, False, "elbow up?"}, {
         True, False}}, {{$CellContext`IsElbowUpp$$, False}, 0, ControlType -> 
         None}, {{$CellContext`jointVel$$, {0.8944271909999155, 
          0.4472135954999578}, 
          "joint\nvelocity"}, $CellContext`make2VelControl[#]& , ImageSize -> 
         140}}, "Options" :> {ControlPlacement -> Left}, 
      "DefaultOptions" :> {ControllerLinking -> True}],
     ImageSizeCache->{642., {252., 258.}},
     SingleEvaluation->True],
    Deinitialization:>None,
    DynamicModuleValues:>{},
    Initialization:>({$CellContext`\[Theta]2inv[
         Pattern[$CellContext`x, 
          Blank[]], 
         Pattern[$CellContext`y, 
          Blank[]], 
         Pattern[$CellContext`r1, 
          Blank[]], 
         Pattern[$CellContext`r2, 
          Blank[]], 
         Pattern[$CellContext`IsElbowUp, 
          Blank[]]] := Re[
         If[$CellContext`x^2 + $CellContext`y^2 >= ($CellContext`r1 + \
$CellContext`r2)^2, 0, 
          
          Module[{D = (-$CellContext`r1^2 - $CellContext`r2^2 + \
$CellContext`x^2 + $CellContext`y^2)/((2 $CellContext`r1) $CellContext`r2)}, 
           ArcTan[
           D, If[$CellContext`IsElbowUp, -1, 1] 
            Sqrt[1 - D^2]]]]], $CellContext`\[Theta]1inv[
         Pattern[$CellContext`x, 
          Blank[]], 
         Pattern[$CellContext`y, 
          Blank[]], 
         Pattern[$CellContext`r1, 
          Blank[]], 
         Pattern[$CellContext`r2, 
          Blank[]], 
         Pattern[$CellContext`\[Theta]2, 
          Blank[]]] := 
       Re[ArcTan[$CellContext`x, $CellContext`y] - 
         ArcTan[$CellContext`r1 + $CellContext`r2 
           Cos[$CellContext`\[Theta]2], $CellContext`r2 
          Sin[$CellContext`\[Theta]2]]], $CellContext`myArrowArc[
         Pattern[$CellContext`c, 
          Blank[]], 
         Pattern[$CellContext`r, 
          Blank[]], {
          Pattern[$CellContext`start, 
           Blank[]], 
          Pattern[$CellContext`end, 
           Blank[]]}] := If[$CellContext`start == $CellContext`end, 
         Point[$CellContext`c + $CellContext`r {
             Cos[$CellContext`start], 
             Sin[$CellContext`start]}], 
         Arrow[
          BSplineCurve[
           Table[$CellContext`c + $CellContext`r {
               Cos[$CellContext`t], 
               
               Sin[$CellContext`t]}, {$CellContext`t, $CellContext`start, \
$CellContext`end, ($CellContext`end - $CellContext`start)/
             11}]]]], $CellContext`loc[
         Pattern[$CellContext`col, 
          Blank[]], 
         Pattern[$CellContext`c, 
          Blank[]]] := Module[{$CellContext`sc = 1/25}, {$CellContext`col, 
          
          Line[{$CellContext`c + $CellContext`sc {
              0, 1.5}, $CellContext`c + $CellContext`sc {0, 3}}], 
          
          Line[{$CellContext`c + $CellContext`sc {
              0, -1.5}, $CellContext`c + $CellContext`sc {0, -3}}], 
          
          Line[{$CellContext`c + $CellContext`sc {-1.5, 
               0}, $CellContext`c + $CellContext`sc {-3, 0}}], 
          
          Line[{$CellContext`c + $CellContext`sc {
              1.5, 0}, $CellContext`c + $CellContext`sc {3, 0}}], 
          Circle[$CellContext`c, $CellContext`sc 2], {
           Thickness[1/100], 
           Opacity[0.5], 
           Circle[$CellContext`c, ($CellContext`sc 2) 0.7]}}], 
       Attributes[PlotRange] = {ReadProtected}, $CellContext`makeDialControl[
         Dynamic[
          Pattern[$CellContext`pt, 
           Blank[]]], 
         Pattern[$CellContext`cent, 
          Blank[]], 
         Pattern[$CellContext`color, 
          Blank[]]] := Module[{$CellContext`ang}, 
         LocatorPane[
          
          Dynamic[$CellContext`pt, ($CellContext`pt = 
           Normalize[#])& ], $CellContext`ang = Dynamic[
             ArcTan[
              Part[$CellContext`pt, 1], 
              Part[$CellContext`pt, 2]]]; Graphics[{Gray, 
             Circle[$CellContext`cent], Gray, 
             Table[
              Line[{$CellContext`cent + 0.94 {
                   Cos[$CellContext`a], 
                   Sin[$CellContext`a]}, $CellContext`cent + {
                  Cos[$CellContext`a], 
                  Sin[$CellContext`a]}}], {$CellContext`a, 0, 2 Pi, Pi/8}], 
             Table[
              Line[{$CellContext`cent + 0.98 {
                   Cos[$CellContext`a], 
                   Sin[$CellContext`a]}, $CellContext`cent + {
                  Cos[$CellContext`a], 
                  Sin[$CellContext`a]}}], {$CellContext`a, Pi/16, 2 Pi, Pi/
               8}], {FontSize -> 10, 
              Table[
               Text[$CellContext`\[Theta], $CellContext`cent + 0.7 {
                   Cos[$CellContext`\[Theta]], 
                   Sin[$CellContext`\[Theta]]}], {$CellContext`\[Theta], 
                Rest[
                 Range[-Pi, Pi, Pi/4]]}]}, {$CellContext`color, 
              EdgeForm[Black], 
              Rotate[
               Translate[
                $CellContext`makeHand[
                7, 7/3, 0.1, 
                 0.3], $CellContext`cent], $CellContext`ang, \
$CellContext`cent]}, Black, 
             Arrowheads[0.05], $CellContext`color, 
             $CellContext`myArrowArc2[$CellContext`cent, 0.3, {
              0, $CellContext`ang}]}]]], $CellContext`makeHand[
         Pattern[$CellContext`fl, 
          Blank[]], 
         Pattern[$CellContext`bl, 
          Blank[]], 
         Pattern[$CellContext`fw, 
          Blank[]], 
         Pattern[$CellContext`bw, 
          Blank[]]] := 
       Polygon[{{-$CellContext`bl, -$CellContext`bw}, {-$CellContext`bl, \
$CellContext`bw}, {$CellContext`fl, $CellContext`fw}, {$CellContext`fl + 
            8 $CellContext`fw, 0}, {$CellContext`fl, -$CellContext`fw}}/
         10], $CellContext`myArrowArc2[
         Pattern[$CellContext`c, 
          Blank[]], 
         Pattern[$CellContext`r, 
          Blank[]], {
          Pattern[$CellContext`start, 
           Blank[]], 
          Pattern[$CellContext`end, 
           Blank[]]}] := If[$CellContext`start === $CellContext`end, 
         Point[$CellContext`c + $CellContext`r {
             Cos[$CellContext`start], 
             Sin[$CellContext`start]}], 
         Arrow[
          BSplineCurve[
           Table[$CellContext`c + $CellContext`r {
               Cos[$CellContext`t], 
               
               Sin[$CellContext`t]}, {$CellContext`t, $CellContext`start, \
$CellContext`end, ($CellContext`end - $CellContext`start)/
             11}]]]], $CellContext`make2VelControl[
         Dynamic[
          Pattern[$CellContext`pt, 
           Blank[]]]] := 
       Module[{$CellContext`ang, $CellContext`cent = {0, 0}}, 
         LocatorPane[
          Dynamic[$CellContext`pt, ($CellContext`pt = If[Norm[
               Re[#]] > 1, 
             Normalize[
              Re[#]], 
             Re[#]])& ], 
          Graphics[{{LightGreen, 
             Disk[$CellContext`cent, 1]}, {Thin, Black, 
             Line[{{-1, 0}, {1, 0}}], 
             Line[{{0, -1}, {0, 1}}], 
             Text[
             "\!\(\*SubscriptBox[OverscriptBox[\(\[Theta]\), \(.\)], \
\(1\)]\)", {0.9, 0.2}], 
             Text[
             "\!\(\*SubscriptBox[OverscriptBox[\(\[Theta]\), \(.\)], \
\(2\)]\)", {0.2, 0.9}], 
             Table[
              
              Line[{{$CellContext`a, 0}, {$CellContext`a, 
                 0.05}}], {$CellContext`a, -1, 1, 0.2}], 
             Table[
              
              Line[{{0, $CellContext`a}, {
                0.05, $CellContext`a}}], {$CellContext`a, -1, 1, 0.2}], 
             Table[
              
              Text[$CellContext`a, {-0.1, $CellContext`a}], {$CellContext`a, \
{-1, 1}}], 
             Table[
              
              Text[$CellContext`a, {$CellContext`a, -0.1}], {$CellContext`a, \
{-1, 1}}]}, 
            Arrowheads[{0, 0.1}], Thick, Red, 
            Arrow[
             Dynamic[{{0, 
                Part[$CellContext`pt, 2]}, $CellContext`pt}]], Blue, 
            Arrow[
             Dynamic[{{
                Part[$CellContext`pt, 1], 0}, $CellContext`pt}]]}]]]}; 
     Typeset`initDone$$ = True),
    SynchronousInitialization->True,
    UndoTrackedVariables:>{Typeset`show$$, Typeset`bookmarkMode$$},
    UnsavedVariables:>{Typeset`initDone$$},
    UntrackedVariables:>{Typeset`size$$}], "Manipulate",
   Deployed->True,
   StripOnInput->False],
  Manipulate`InterpretManipulate[1]]], "Output",
 CellID->700954370],

Cell[BoxData[
 TagBox[
  StyleBox[
   DynamicModuleBox[{$CellContext`IsElbowUp$$ = 
    False, $CellContext`IsElbowUpp$$ = False, $CellContext`jointVel$$ = {
    0.32820990311228027`, 0.9446048257303126}, $CellContext`p1$$ = {
    0.49917878093500556`, -0.8664990159626506}, $CellContext`p2$$ = {-1., 
    1.2246467991473532`*^-16}, $CellContext`pEnd$$ = {
    0.5890309615033067, -1.0224688388359278`}, $CellContext`pEndp$$ = {
    0.5890309615033067, -1.0224688388359278`}, $CellContext`pVel$$ = {
    0.5890307077257286, -1.0224689850338804`}, $CellContext`pVelp$$ = {
    0.5890307077257286, -1.0224689850338804`}, $CellContext`r1$$ = 1.59, 
    Typeset`show$$ = True, Typeset`bookmarkList$$ = {}, 
    Typeset`bookmarkMode$$ = "Menu", Typeset`animator$$, Typeset`animvar$$ = 
    1, Typeset`name$$ = "\"untitled\"", Typeset`specs$$ = {{{
       Hold[$CellContext`r1$$], 1.59, "\!\(\*SubscriptBox[\(r\), \(1\)]\)"}, 
      0, 2}, {{
       Hold[$CellContext`pEnd$$], {
       0.5890309615033067, -1.0224688388359278`}}, {-2, -2}, {2, 2}}, {{
       Hold[$CellContext`pEndp$$], {
       0.5890309615033067, -1.0224688388359278`}}, {-2, -2}, {2, 2}}, {{
       Hold[$CellContext`pVel$$], {
       0.5890307077257286, -1.0224689850338804`}}, {-4, -4}, {4, 4}}, {{
       Hold[$CellContext`pVelp$$], {
       0.5890307077257286, -1.0224689850338804`}}, {-4, -4}, {4, 4}}, {{
       Hold[$CellContext`p1$$], {0.49917878093500556`, -0.8664990159626506}, 
       "\!\(\*SubscriptBox[\(\[Theta]\), \(1\)]\)"}, \
$CellContext`makeDialControl[#, {0, 0}, Red]& }, {{
       Hold[$CellContext`p2$$], {-1., 1.2246467991473532`*^-16}, 
       "\!\(\*SubscriptBox[\(\[Theta]\), \(2\)]\)"}, \
$CellContext`makeDialControl[#, {0, 0}, Blue]& }, {{
       Hold[$CellContext`IsElbowUp$$], False, "elbow up?"}, {True, False}}, {{
       Hold[$CellContext`IsElbowUpp$$], False}, 0}, {{
       Hold[$CellContext`jointVel$$], {0.32820990311228027`, 
       0.9446048257303126}, 
       "joint\nvelocity"}, $CellContext`make2VelControl[#]& }}, 
    Typeset`size$$ = {400., {198., 202.}}, Typeset`update$$ = 0, 
    Typeset`initDone$$, Typeset`skipInitDone$$ = 
    False, $CellContext`r1$2983$$ = 0, $CellContext`pEnd$2984$$ = {0, 
    0}, $CellContext`pEndp$2985$$ = {0, 0}, $CellContext`pVel$2986$$ = {0, 
    0}, $CellContext`pVelp$2987$$ = {0, 0}, $CellContext`IsElbowUp$2988$$ = 
    False}, 
    DynamicBox[Manipulate`ManipulateBoxes[
     1, StandardForm, 
      "Variables" :> {$CellContext`IsElbowUp$$ = 
        False, $CellContext`IsElbowUpp$$ = 
        False, $CellContext`jointVel$$ = {0.32820990311228027`, 
         0.9446048257303126}, $CellContext`p1$$ = {
         0.49917878093500556`, -0.8664990159626506}, $CellContext`p2$$ = {-1.,
          1.2246467991473532`*^-16}, $CellContext`pEnd$$ = {
         0.5890309615033067, -1.0224688388359278`}, $CellContext`pEndp$$ = {
         0.5890309615033067, -1.0224688388359278`}, $CellContext`pVel$$ = {
         0.5890307077257286, -1.0224689850338804`}, $CellContext`pVelp$$ = {
         0.5890307077257286, -1.0224689850338804`}, $CellContext`r1$$ = 1.59},
       "ControllerVariables" :> {
        Hold[$CellContext`r1$$, $CellContext`r1$2983$$, 0], 
        Hold[$CellContext`pEnd$$, $CellContext`pEnd$2984$$, {0, 0}], 
        Hold[$CellContext`pEndp$$, $CellContext`pEndp$2985$$, {0, 0}], 
        Hold[$CellContext`pVel$$, $CellContext`pVel$2986$$, {0, 0}], 
        Hold[$CellContext`pVelp$$, $CellContext`pVelp$2987$$, {0, 0}], 
        Hold[$CellContext`IsElbowUp$$, $CellContext`IsElbowUp$2988$$, False]},
       "OtherVariables" :> {
       Typeset`show$$, Typeset`bookmarkList$$, Typeset`bookmarkMode$$, 
        Typeset`animator$$, Typeset`animvar$$, Typeset`name$$, 
        Typeset`specs$$, Typeset`size$$, Typeset`update$$, Typeset`initDone$$,
         Typeset`skipInitDone$$}, "Body" :> 
      Module[{$CellContext`w$ = 1/8, $CellContext`l$ = 
         1, $CellContext`\[Theta]1$, $CellContext`\[Theta]2$, \
$CellContext`r2$, $CellContext`U$, $CellContext`\[CapitalSigma]$, \
$CellContext`V$, $CellContext`J$, $CellContext`q$, $CellContext`vNorm$}, \
$CellContext`r2$ = 2 - $CellContext`r1$$; 
        If[Norm[$CellContext`pEnd$$] >= 2, $CellContext`pEnd$$ = 
          2 ($CellContext`pEnd$$/Norm[$CellContext`pEnd$$])]; 
        If[Norm[$CellContext`pEnd$$] <= 
          Abs[$CellContext`r1$$ - $CellContext`r2$], $CellContext`pEnd$$ = 
          Abs[$CellContext`r1$$ - $CellContext`r2$] ($CellContext`pEnd$$/
            Norm[$CellContext`pEnd$$])]; If[
          
          Or[$CellContext`pEndp$$ != $CellContext`pEnd$$, \
$CellContext`IsElbowUpp$$ != $CellContext`IsElbowUp$$], \
$CellContext`\[Theta]2$ = $CellContext`\[Theta]2inv[
             Part[$CellContext`pEnd$$, 1], 
             
             Part[$CellContext`pEnd$$, 
              2], $CellContext`r1$$, $CellContext`r2$, \
$CellContext`IsElbowUp$$]; $CellContext`\[Theta]1$ = $CellContext`\[Theta]1inv[
             Part[$CellContext`pEnd$$, 1], 
             
             Part[$CellContext`pEnd$$, 
              2], $CellContext`r1$$, $CellContext`r2$, \
$CellContext`\[Theta]2$]; $CellContext`p1$$ = {
             Cos[$CellContext`\[Theta]1$], 
             Sin[$CellContext`\[Theta]1$]}; $CellContext`p2$$ = {
             Cos[$CellContext`\[Theta]2$], 
             Sin[$CellContext`\[Theta]2$]}; 
          Null, $CellContext`\[Theta]1$ = ArcTan[
             Part[$CellContext`p1$$, 1], 
             Part[$CellContext`p1$$, 2]]; $CellContext`\[Theta]2$ = ArcTan[
             Part[$CellContext`p2$$, 1], 
             
             Part[$CellContext`p2$$, 
              2]]; $CellContext`pEnd$$ = {$CellContext`r1$$ 
              Cos[$CellContext`\[Theta]1$] + $CellContext`r2$ 
              Cos[$CellContext`\[Theta]1$ + $CellContext`\[Theta]2$], \
$CellContext`r1$$ Sin[$CellContext`\[Theta]1$] + $CellContext`r2$ 
              Sin[$CellContext`\[Theta]1$ + $CellContext`\[Theta]2$]}]; 
        If[$CellContext`\[Theta]2$ > 0, $CellContext`IsElbowUp$$ = False]; 
        If[$CellContext`\[Theta]2$ < 0, $CellContext`IsElbowUp$$ = 
          True]; $CellContext`pEndp$$ = $CellContext`pEnd$$; \
$CellContext`IsElbowUpp$$ = $CellContext`IsElbowUp$$; $CellContext`J$ = \
{{(-$CellContext`r1$$) Sin[$CellContext`\[Theta]1$] - $CellContext`r2$ 
            Sin[$CellContext`\[Theta]1$ + $CellContext`\[Theta]2$], \
(-$CellContext`r2$) 
            Sin[$CellContext`\[Theta]1$ + $CellContext`\[Theta]2$]}, \
{$CellContext`r1$$ Cos[$CellContext`\[Theta]1$] + $CellContext`r2$ 
             Cos[$CellContext`\[Theta]1$ + $CellContext`\[Theta]2$], \
$CellContext`r2$ 
            Cos[$CellContext`\[Theta]1$ + $CellContext`\[Theta]2$]}}; \
{$CellContext`U$, $CellContext`\[CapitalSigma]$, $CellContext`V$} = 
         SingularValueDecomposition[$CellContext`J$]; $CellContext`q$ = Dot[
           
           Transpose[$CellContext`U$], $CellContext`pVel$$ - \
$CellContext`pEnd$$]; If[$CellContext`pVelp$$ != $CellContext`pVel$$, 
          If[
           And[
           Part[$CellContext`\[CapitalSigma]$, 1, 1] > 0, 
            Part[$CellContext`\[CapitalSigma]$, 2, 2] > 
            0], $CellContext`vNorm$ = (
              Part[$CellContext`q$, 1]^2/
               Part[$CellContext`\[CapitalSigma]$, 1, 1]^2 + 
              Part[$CellContext`q$, 2]^2/
               Part[$CellContext`\[CapitalSigma]$, 2, 2]^2)^Rational[1, 2]; 
           If[$CellContext`vNorm$ > 
             1, $CellContext`pVel$$ = ($CellContext`pVel$$ - \
$CellContext`pEnd$$)/$CellContext`vNorm$ + $CellContext`pEnd$$]; \
$CellContext`jointVel$$ = 
            Dot[$CellContext`V$, {{
               1/Part[$CellContext`\[CapitalSigma]$, 1, 1], 0}, {
               0, 1/Part[$CellContext`\[CapitalSigma]$, 2, 2]}}, 
              
              Transpose[$CellContext`U$], $CellContext`pVel$$ - \
$CellContext`pEnd$$]; Null, 
           If[Part[$CellContext`\[CapitalSigma]$, 1, 1] > 
             0, $CellContext`pVel$$ = Dot[$CellContext`U$, {
                  Part[$CellContext`q$, 1], 0}] 
               If[(Part[$CellContext`q$, 1]^2/
                   Part[$CellContext`\[CapitalSigma]$, 1, 1]^2)^
                  Rational[1, 2] > 1, 
                 Abs[
                 Part[$CellContext`\[CapitalSigma]$, 1, 1]/
                  Part[$CellContext`q$, 1]], 1] + $CellContext`pEnd$$]; 
           If[Part[$CellContext`\[CapitalSigma]$, 2, 2] > 
             0, $CellContext`pVel$$ = Dot[$CellContext`U$, {0, 
                  Part[$CellContext`q$, 2]}] 
               If[(Part[$CellContext`q$, 2]^2/
                   Part[$CellContext`\[CapitalSigma]$, 2, 2]^2)^
                  Rational[1, 2] > 1, 
                 Abs[
                 Part[$CellContext`\[CapitalSigma]$, 2, 2]/
                  Part[$CellContext`q$, 2]], 
                 1] + $CellContext`pEnd$$]; $CellContext`jointVel$$ = Dot[
              
              PseudoInverse[$CellContext`J$], $CellContext`pVel$$ - \
$CellContext`pEnd$$]], $CellContext`pVel$$ = 
          Dot[$CellContext`J$, $CellContext`jointVel$$] + \
$CellContext`pEnd$$]; $CellContext`pVelp$$ = $CellContext`pVel$$; 
        Graphics[{{LightBlue, 
            EdgeForm[{Thin, Blue}], 
            Disk[{0, 0}, 2], 
            If[$CellContext`r1$$ != 1, {White, 
              Disk[{0, 0}, 
               Abs[$CellContext`r1$$ - $CellContext`r2$]]}], Black, 
            Text["Workspace", {0, 1.8}]}, {
            EdgeForm[{Thin, Blue}], 
            GeometricTransformation[{
              Opacity[0.5], 
              If[MatrixRank[$CellContext`\[CapitalSigma]$] > 1, {LightRed, 
                Ellipsoid[{0, 0}, $CellContext`\[CapitalSigma]$^2]}], Blue, 
              Arrow[{{0, 0}, 
                Part[$CellContext`\[CapitalSigma]$, 1]}], 
              Arrow[{{0, 0}, -Part[$CellContext`\[CapitalSigma]$, 1]}], Red, 
              Arrow[{{0, 0}, 
                Part[$CellContext`\[CapitalSigma]$, 2]}], Red, 
              
              Arrow[{{0, 0}, -
                Part[$CellContext`\[CapitalSigma]$, 
                  2]}]}, {$CellContext`U$, $CellContext`pEnd$$}]}, Gray, 
           EdgeForm[Black], 
           Rotate[{
             
             Rectangle[{-$CellContext`w$, -$CellContext`w$}, \
{$CellContext`r1$$ + $CellContext`w$, $CellContext`w$}, 
              RoundingRadius -> $CellContext`w$], 
             If[$CellContext`r2$ < 1, {Black, 
               Text[
               "Robot Arm", {$CellContext`r1$$/2, 
                 0}]}]}, $CellContext`\[Theta]1$, {0, 0}], {Black, 
            Point[{{0, 0}}], {Red, 
             PointSize[Large], 
             $CellContext`myArrowArc[$CellContext`l$ {0, 0}, 1/
              2, $CellContext`\[Theta]1$ + {0, 
                Part[$CellContext`jointVel$$, 1]}]}, 
            Darker[Gray], 
            $CellContext`myArrowArc[{0, 0}, $CellContext`l$/4, {
             0, $CellContext`\[Theta]1$}], 
            If[Abs[$CellContext`\[Theta]1$] > Pi/4, 
             Text[
              Style[
              "\!\(\*SubscriptBox[\(\[Theta]\), \(1\)]\)", 
               Medium], ($CellContext`l$ (2/5)) {
                Cos[$CellContext`\[Theta]1$/2], 
                Sin[$CellContext`\[Theta]1$/2]}]]}, 
           Rotate[{
             
             Rectangle[{$CellContext`r1$$ 
                Cos[$CellContext`\[Theta]1$] - $CellContext`w$, \
$CellContext`r1$$ 
                Sin[$CellContext`\[Theta]1$] - $CellContext`w$}, \
{$CellContext`r1$$ 
                Cos[$CellContext`\[Theta]1$] + $CellContext`r2$ + \
$CellContext`w$, $CellContext`r1$$ 
                Sin[$CellContext`\[Theta]1$] + $CellContext`w$}, 
              RoundingRadius -> $CellContext`w$], 
             If[$CellContext`r2$ >= 1, {Black, 
               Text[
               "Robot Arm", {$CellContext`r1$$ 
                  Cos[$CellContext`\[Theta]1$] + $CellContext`r2$/
                  2, $CellContext`r1$$ 
                 Sin[$CellContext`\[Theta]1$]}]}]}, $CellContext`\[Theta]1$ + \
$CellContext`\[Theta]2$, {$CellContext`r1$$ 
             Cos[$CellContext`\[Theta]1$], $CellContext`r1$$ 
             Sin[$CellContext`\[Theta]1$]}], {Black, 
            Point[{$CellContext`r1$$ {
                Cos[$CellContext`\[Theta]1$], 
                Sin[$CellContext`\[Theta]1$]}}], {Thick, Blue, 
             $CellContext`myArrowArc[$CellContext`r1$$ {
                Cos[$CellContext`\[Theta]1$], 
                Sin[$CellContext`\[Theta]1$]}, 2/
              3, $CellContext`\[Theta]1$ + $CellContext`\[Theta]2$ + {0, 
                Part[$CellContext`jointVel$$, 2]}]}, 
            Darker[Gray], 
            $CellContext`myArrowArc[$CellContext`r1$$ {
               Cos[$CellContext`\[Theta]1$], 
               Sin[$CellContext`\[Theta]1$]}, $CellContext`l$/
             3, {$CellContext`\[Theta]1$, $CellContext`\[Theta]1$ + \
$CellContext`\[Theta]2$}], 
            If[Abs[$CellContext`\[Theta]2$] > Pi/4, 
             Text[
              Style[
              "\!\(\*SubscriptBox[\(\[Theta]\), \(2\)]\)", 
               Medium], {$CellContext`r1$$ 
                Cos[$CellContext`\[Theta]1$] + ($CellContext`r2$/2) 
                Cos[$CellContext`\[Theta]1$ + $CellContext`\[Theta]2$/
                   2], $CellContext`r1$$ 
                Sin[$CellContext`\[Theta]1$] + ($CellContext`r2$/2) 
                Sin[$CellContext`\[Theta]1$ + $CellContext`\[Theta]2$/2]}]]}, 
           $CellContext`loc[
            Darker[Green], $CellContext`pVel$$], 
           $CellContext`loc[Black, $CellContext`pEnd$$], {Green, Thick, 
            Arrow[{$CellContext`pEnd$$, $CellContext`pVel$$}]}}, PlotRange -> 
          3 {{-1, 1}, {-1, 1}}, ImageSize -> 400]], 
      "Specifications" :> {{{$CellContext`r1$$, 1.59, 
          "\!\(\*SubscriptBox[\(r\), \(1\)]\)"}, 0, 2, ImageSize -> 80, 
         Appearance -> 
         "Labeled"}, {{$CellContext`pEnd$$, {
          0.5890309615033067, -1.0224688388359278`}}, {-2, -2}, {2, 2}, 
         ControlType -> Locator, Appearance -> 
         None}, {{$CellContext`pEndp$$, {
          0.5890309615033067, -1.0224688388359278`}}, {-2, -2}, {2, 2}, 
         ControlType -> 
         None}, {{$CellContext`pVel$$, {
          0.5890307077257286, -1.0224689850338804`}}, {-4, -4}, {4, 4}, 
         ControlType -> Locator, Appearance -> 
         None}, {{$CellContext`pVelp$$, {
          0.5890307077257286, -1.0224689850338804`}}, {-4, -4}, {4, 4}, 
         ControlType -> 
         None}, {{$CellContext`p1$$, {
          0.49917878093500556`, -0.8664990159626506}, 
          "\!\(\*SubscriptBox[\(\[Theta]\), \(1\)]\)"}, \
$CellContext`makeDialControl[#, {0, 0}, Red]& , ImageSize -> 
         140}, {{$CellContext`p2$$, {-1., 1.2246467991473532`*^-16}, 
          "\!\(\*SubscriptBox[\(\[Theta]\), \(2\)]\)"}, \
$CellContext`makeDialControl[#, {0, 0}, Blue]& , ImageSize -> 
         140}, {{$CellContext`IsElbowUp$$, False, "elbow up?"}, {
         True, False}}, {{$CellContext`IsElbowUpp$$, False}, 0, ControlType -> 
         None}, {{$CellContext`jointVel$$, {0.32820990311228027`, 
          0.9446048257303126}, 
          "joint\nvelocity"}, $CellContext`make2VelControl[#]& , ImageSize -> 
         140}}, "Options" :> {ControlPlacement -> Left}, 
      "DefaultOptions" :> {ControllerLinking -> True}],
     ImageSizeCache->{642., {252., 258.}},
     SingleEvaluation->True],
    Deinitialization:>None,
    DynamicModuleValues:>{},
    Initialization:>({$CellContext`\[Theta]2inv[
         Pattern[$CellContext`x, 
          Blank[]], 
         Pattern[$CellContext`y, 
          Blank[]], 
         Pattern[$CellContext`r1, 
          Blank[]], 
         Pattern[$CellContext`r2, 
          Blank[]], 
         Pattern[$CellContext`IsElbowUp, 
          Blank[]]] := Re[
         If[$CellContext`x^2 + $CellContext`y^2 >= ($CellContext`r1 + \
$CellContext`r2)^2, 0, 
          
          Module[{D = (-$CellContext`r1^2 - $CellContext`r2^2 + \
$CellContext`x^2 + $CellContext`y^2)/((2 $CellContext`r1) $CellContext`r2)}, 
           ArcTan[
           D, If[$CellContext`IsElbowUp, -1, 1] 
            Sqrt[1 - D^2]]]]], $CellContext`\[Theta]1inv[
         Pattern[$CellContext`x, 
          Blank[]], 
         Pattern[$CellContext`y, 
          Blank[]], 
         Pattern[$CellContext`r1, 
          Blank[]], 
         Pattern[$CellContext`r2, 
          Blank[]], 
         Pattern[$CellContext`\[Theta]2, 
          Blank[]]] := 
       Re[ArcTan[$CellContext`x, $CellContext`y] - 
         ArcTan[$CellContext`r1 + $CellContext`r2 
           Cos[$CellContext`\[Theta]2], $CellContext`r2 
          Sin[$CellContext`\[Theta]2]]], $CellContext`myArrowArc[
         Pattern[$CellContext`c, 
          Blank[]], 
         Pattern[$CellContext`r, 
          Blank[]], {
          Pattern[$CellContext`start, 
           Blank[]], 
          Pattern[$CellContext`end, 
           Blank[]]}] := If[$CellContext`start == $CellContext`end, 
         Point[$CellContext`c + $CellContext`r {
             Cos[$CellContext`start], 
             Sin[$CellContext`start]}], 
         Arrow[
          BSplineCurve[
           Table[$CellContext`c + $CellContext`r {
               Cos[$CellContext`t], 
               
               Sin[$CellContext`t]}, {$CellContext`t, $CellContext`start, \
$CellContext`end, ($CellContext`end - $CellContext`start)/
             11}]]]], $CellContext`loc[
         Pattern[$CellContext`col, 
          Blank[]], 
         Pattern[$CellContext`c, 
          Blank[]]] := Module[{$CellContext`sc = 1/25}, {$CellContext`col, 
          
          Line[{$CellContext`c + $CellContext`sc {
              0, 1.5}, $CellContext`c + $CellContext`sc {0, 3}}], 
          
          Line[{$CellContext`c + $CellContext`sc {
              0, -1.5}, $CellContext`c + $CellContext`sc {0, -3}}], 
          
          Line[{$CellContext`c + $CellContext`sc {-1.5, 
               0}, $CellContext`c + $CellContext`sc {-3, 0}}], 
          
          Line[{$CellContext`c + $CellContext`sc {
              1.5, 0}, $CellContext`c + $CellContext`sc {3, 0}}], 
          Circle[$CellContext`c, $CellContext`sc 2], {
           Thickness[1/100], 
           Opacity[0.5], 
           Circle[$CellContext`c, ($CellContext`sc 2) 0.7]}}], 
       Attributes[PlotRange] = {ReadProtected}, $CellContext`makeDialControl[
         Dynamic[
          Pattern[$CellContext`pt, 
           Blank[]]], 
         Pattern[$CellContext`cent, 
          Blank[]], 
         Pattern[$CellContext`color, 
          Blank[]]] := Module[{$CellContext`ang}, 
         LocatorPane[
          
          Dynamic[$CellContext`pt, ($CellContext`pt = 
           Normalize[#])& ], $CellContext`ang = Dynamic[
             ArcTan[
              Part[$CellContext`pt, 1], 
              Part[$CellContext`pt, 2]]]; Graphics[{Gray, 
             Circle[$CellContext`cent], Gray, 
             Table[
              Line[{$CellContext`cent + 0.94 {
                   Cos[$CellContext`a], 
                   Sin[$CellContext`a]}, $CellContext`cent + {
                  Cos[$CellContext`a], 
                  Sin[$CellContext`a]}}], {$CellContext`a, 0, 2 Pi, Pi/8}], 
             Table[
              Line[{$CellContext`cent + 0.98 {
                   Cos[$CellContext`a], 
                   Sin[$CellContext`a]}, $CellContext`cent + {
                  Cos[$CellContext`a], 
                  Sin[$CellContext`a]}}], {$CellContext`a, Pi/16, 2 Pi, Pi/
               8}], {FontSize -> 10, 
              Table[
               Text[$CellContext`\[Theta], $CellContext`cent + 0.7 {
                   Cos[$CellContext`\[Theta]], 
                   Sin[$CellContext`\[Theta]]}], {$CellContext`\[Theta], 
                Rest[
                 Range[-Pi, Pi, Pi/4]]}]}, {$CellContext`color, 
              EdgeForm[Black], 
              Rotate[
               Translate[
                $CellContext`makeHand[
                7, 7/3, 0.1, 
                 0.3], $CellContext`cent], $CellContext`ang, \
$CellContext`cent]}, Black, 
             Arrowheads[0.05], $CellContext`color, 
             $CellContext`myArrowArc2[$CellContext`cent, 0.3, {
              0, $CellContext`ang}]}]]], $CellContext`makeHand[
         Pattern[$CellContext`fl, 
          Blank[]], 
         Pattern[$CellContext`bl, 
          Blank[]], 
         Pattern[$CellContext`fw, 
          Blank[]], 
         Pattern[$CellContext`bw, 
          Blank[]]] := 
       Polygon[{{-$CellContext`bl, -$CellContext`bw}, {-$CellContext`bl, \
$CellContext`bw}, {$CellContext`fl, $CellContext`fw}, {$CellContext`fl + 
            8 $CellContext`fw, 0}, {$CellContext`fl, -$CellContext`fw}}/
         10], $CellContext`myArrowArc2[
         Pattern[$CellContext`c, 
          Blank[]], 
         Pattern[$CellContext`r, 
          Blank[]], {
          Pattern[$CellContext`start, 
           Blank[]], 
          Pattern[$CellContext`end, 
           Blank[]]}] := If[$CellContext`start === $CellContext`end, 
         Point[$CellContext`c + $CellContext`r {
             Cos[$CellContext`start], 
             Sin[$CellContext`start]}], 
         Arrow[
          BSplineCurve[
           Table[$CellContext`c + $CellContext`r {
               Cos[$CellContext`t], 
               
               Sin[$CellContext`t]}, {$CellContext`t, $CellContext`start, \
$CellContext`end, ($CellContext`end - $CellContext`start)/
             11}]]]], $CellContext`make2VelControl[
         Dynamic[
          Pattern[$CellContext`pt, 
           Blank[]]]] := 
       Module[{$CellContext`ang, $CellContext`cent = {0, 0}}, 
         LocatorPane[
          Dynamic[$CellContext`pt, ($CellContext`pt = If[Norm[
               Re[#]] > 1, 
             Normalize[
              Re[#]], 
             Re[#]])& ], 
          Graphics[{{LightGreen, 
             Disk[$CellContext`cent, 1]}, {Thin, Black, 
             Line[{{-1, 0}, {1, 0}}], 
             Line[{{0, -1}, {0, 1}}], 
             Text[
             "\!\(\*SubscriptBox[OverscriptBox[\(\[Theta]\), \(.\)], \
\(1\)]\)", {0.9, 0.2}], 
             Text[
             "\!\(\*SubscriptBox[OverscriptBox[\(\[Theta]\), \(.\)], \
\(2\)]\)", {0.2, 0.9}], 
             Table[
              
              Line[{{$CellContext`a, 0}, {$CellContext`a, 
                 0.05}}], {$CellContext`a, -1, 1, 0.2}], 
             Table[
              
              Line[{{0, $CellContext`a}, {
                0.05, $CellContext`a}}], {$CellContext`a, -1, 1, 0.2}], 
             Table[
              
              Text[$CellContext`a, {-0.1, $CellContext`a}], {$CellContext`a, \
{-1, 1}}], 
             Table[
              
              Text[$CellContext`a, {$CellContext`a, -0.1}], {$CellContext`a, \
{-1, 1}}]}, 
            Arrowheads[{0, 0.1}], Thick, Red, 
            Arrow[
             Dynamic[{{0, 
                Part[$CellContext`pt, 2]}, $CellContext`pt}]], Blue, 
            Arrow[
             Dynamic[{{
                Part[$CellContext`pt, 1], 0}, $CellContext`pt}]]}]]]}; 
     Typeset`initDone$$ = True),
    SynchronousInitialization->True,
    UndoTrackedVariables:>{Typeset`show$$, Typeset`bookmarkMode$$},
    UnsavedVariables:>{Typeset`initDone$$},
    UntrackedVariables:>{Typeset`size$$}], "Manipulate",
   Deployed->True,
   StripOnInput->False],
  Manipulate`InterpretManipulate[1]]], "Output",
 CellID->1992292795],

Cell[BoxData[
 TagBox[
  StyleBox[
   DynamicModuleBox[{$CellContext`IsElbowUp$$ = 
    False, $CellContext`IsElbowUpp$$ = False, $CellContext`jointVel$$ = {
    0.7119664484531625, 
    0.7022134834058589}, $CellContext`p1$$ = {-0.682159378264449, \
-0.7312035165710435}, $CellContext`p2$$ = {-0.8044332669603459, 
    0.5940430279091784}, $CellContext`pEnd$$ = {-1.364318756528898, \
-1.462407033142087}, $CellContext`pEndp$$ = {-1.364318756528898, \
-1.462407033142087}, $CellContext`pVel$$ = {-0.3231340149497999, \
-2.4337562127860015`}, $CellContext`pVelp$$ = {-0.3231340149497999, \
-2.4337562127860015`}, $CellContext`r1$$ = 2., Typeset`show$$ = True, 
    Typeset`bookmarkList$$ = {}, Typeset`bookmarkMode$$ = "Menu", 
    Typeset`animator$$, Typeset`animvar$$ = 1, Typeset`name$$ = 
    "\"untitled\"", Typeset`specs$$ = {{{
       Hold[$CellContext`r1$$], 2., "\!\(\*SubscriptBox[\(r\), \(1\)]\)"}, 0, 
      2}, {{
       Hold[$CellContext`pEnd$$], {-1.364318756528898, -1.462407033142087}}, \
{-2, -2}, {2, 2}}, {{
       Hold[$CellContext`pEndp$$], {-1.364318756528898, -1.462407033142087}}, \
{-2, -2}, {2, 2}}, {{
       Hold[$CellContext`pVel$$], {-0.3231340149497999, \
-2.4337562127860015`}}, {-4, -4}, {4, 4}}, {{
       Hold[$CellContext`pVelp$$], {-0.3231340149497999, \
-2.4337562127860015`}}, {-4, -4}, {4, 4}}, {{
       Hold[$CellContext`p1$$], {-0.682159378264449, -0.7312035165710435}, 
       "\!\(\*SubscriptBox[\(\[Theta]\), \(1\)]\)"}, \
$CellContext`makeDialControl[#, {0, 0}, Red]& }, {{
       Hold[$CellContext`p2$$], {-0.8044332669603459, 0.5940430279091784}, 
       "\!\(\*SubscriptBox[\(\[Theta]\), \(2\)]\)"}, \
$CellContext`makeDialControl[#, {0, 0}, Blue]& }, {{
       Hold[$CellContext`IsElbowUp$$], False, "elbow up?"}, {True, False}}, {{
       Hold[$CellContext`IsElbowUpp$$], False}, 0}, {{
       Hold[$CellContext`jointVel$$], {0.7119664484531625, 
       0.7022134834058589}, 
       "joint\nvelocity"}, $CellContext`make2VelControl[#]& }}, 
    Typeset`size$$ = {400., {198., 202.}}, Typeset`update$$ = 0, 
    Typeset`initDone$$, Typeset`skipInitDone$$ = 
    False, $CellContext`r1$3079$$ = 0, $CellContext`pEnd$3080$$ = {0, 
    0}, $CellContext`pEndp$3081$$ = {0, 0}, $CellContext`pVel$3082$$ = {0, 
    0}, $CellContext`pVelp$3083$$ = {0, 0}, $CellContext`IsElbowUp$3084$$ = 
    False}, 
    DynamicBox[Manipulate`ManipulateBoxes[
     1, StandardForm, 
      "Variables" :> {$CellContext`IsElbowUp$$ = 
        False, $CellContext`IsElbowUpp$$ = 
        False, $CellContext`jointVel$$ = {0.7119664484531625, 
         0.7022134834058589}, $CellContext`p1$$ = {-0.682159378264449, \
-0.7312035165710435}, $CellContext`p2$$ = {-0.8044332669603459, 
         0.5940430279091784}, $CellContext`pEnd$$ = {-1.364318756528898, \
-1.462407033142087}, $CellContext`pEndp$$ = {-1.364318756528898, \
-1.462407033142087}, $CellContext`pVel$$ = {-0.3231340149497999, \
-2.4337562127860015`}, $CellContext`pVelp$$ = {-0.3231340149497999, \
-2.4337562127860015`}, $CellContext`r1$$ = 2.}, "ControllerVariables" :> {
        Hold[$CellContext`r1$$, $CellContext`r1$3079$$, 0], 
        Hold[$CellContext`pEnd$$, $CellContext`pEnd$3080$$, {0, 0}], 
        Hold[$CellContext`pEndp$$, $CellContext`pEndp$3081$$, {0, 0}], 
        Hold[$CellContext`pVel$$, $CellContext`pVel$3082$$, {0, 0}], 
        Hold[$CellContext`pVelp$$, $CellContext`pVelp$3083$$, {0, 0}], 
        Hold[$CellContext`IsElbowUp$$, $CellContext`IsElbowUp$3084$$, False]},
       "OtherVariables" :> {
       Typeset`show$$, Typeset`bookmarkList$$, Typeset`bookmarkMode$$, 
        Typeset`animator$$, Typeset`animvar$$, Typeset`name$$, 
        Typeset`specs$$, Typeset`size$$, Typeset`update$$, Typeset`initDone$$,
         Typeset`skipInitDone$$}, "Body" :> 
      Module[{$CellContext`w$ = 1/8, $CellContext`l$ = 
         1, $CellContext`\[Theta]1$, $CellContext`\[Theta]2$, \
$CellContext`r2$, $CellContext`U$, $CellContext`\[CapitalSigma]$, \
$CellContext`V$, $CellContext`J$, $CellContext`q$, $CellContext`vNorm$}, \
$CellContext`r2$ = 2 - $CellContext`r1$$; 
        If[Norm[$CellContext`pEnd$$] >= 2, $CellContext`pEnd$$ = 
          2 ($CellContext`pEnd$$/Norm[$CellContext`pEnd$$])]; 
        If[Norm[$CellContext`pEnd$$] <= 
          Abs[$CellContext`r1$$ - $CellContext`r2$], $CellContext`pEnd$$ = 
          Abs[$CellContext`r1$$ - $CellContext`r2$] ($CellContext`pEnd$$/
            Norm[$CellContext`pEnd$$])]; If[
          
          Or[$CellContext`pEndp$$ != $CellContext`pEnd$$, \
$CellContext`IsElbowUpp$$ != $CellContext`IsElbowUp$$], \
$CellContext`\[Theta]2$ = $CellContext`\[Theta]2inv[
             Part[$CellContext`pEnd$$, 1], 
             
             Part[$CellContext`pEnd$$, 
              2], $CellContext`r1$$, $CellContext`r2$, \
$CellContext`IsElbowUp$$]; $CellContext`\[Theta]1$ = $CellContext`\[Theta]1inv[
             Part[$CellContext`pEnd$$, 1], 
             
             Part[$CellContext`pEnd$$, 
              2], $CellContext`r1$$, $CellContext`r2$, \
$CellContext`\[Theta]2$]; $CellContext`p1$$ = {
             Cos[$CellContext`\[Theta]1$], 
             Sin[$CellContext`\[Theta]1$]}; $CellContext`p2$$ = {
             Cos[$CellContext`\[Theta]2$], 
             Sin[$CellContext`\[Theta]2$]}; 
          Null, $CellContext`\[Theta]1$ = ArcTan[
             Part[$CellContext`p1$$, 1], 
             Part[$CellContext`p1$$, 2]]; $CellContext`\[Theta]2$ = ArcTan[
             Part[$CellContext`p2$$, 1], 
             
             Part[$CellContext`p2$$, 
              2]]; $CellContext`pEnd$$ = {$CellContext`r1$$ 
              Cos[$CellContext`\[Theta]1$] + $CellContext`r2$ 
              Cos[$CellContext`\[Theta]1$ + $CellContext`\[Theta]2$], \
$CellContext`r1$$ Sin[$CellContext`\[Theta]1$] + $CellContext`r2$ 
              Sin[$CellContext`\[Theta]1$ + $CellContext`\[Theta]2$]}]; 
        If[$CellContext`\[Theta]2$ > 0, $CellContext`IsElbowUp$$ = False]; 
        If[$CellContext`\[Theta]2$ < 0, $CellContext`IsElbowUp$$ = 
          True]; $CellContext`pEndp$$ = $CellContext`pEnd$$; \
$CellContext`IsElbowUpp$$ = $CellContext`IsElbowUp$$; $CellContext`J$ = \
{{(-$CellContext`r1$$) Sin[$CellContext`\[Theta]1$] - $CellContext`r2$ 
            Sin[$CellContext`\[Theta]1$ + $CellContext`\[Theta]2$], \
(-$CellContext`r2$) 
            Sin[$CellContext`\[Theta]1$ + $CellContext`\[Theta]2$]}, \
{$CellContext`r1$$ Cos[$CellContext`\[Theta]1$] + $CellContext`r2$ 
             Cos[$CellContext`\[Theta]1$ + $CellContext`\[Theta]2$], \
$CellContext`r2$ 
            Cos[$CellContext`\[Theta]1$ + $CellContext`\[Theta]2$]}}; \
{$CellContext`U$, $CellContext`\[CapitalSigma]$, $CellContext`V$} = 
         SingularValueDecomposition[$CellContext`J$]; $CellContext`q$ = Dot[
           
           Transpose[$CellContext`U$], $CellContext`pVel$$ - \
$CellContext`pEnd$$]; If[$CellContext`pVelp$$ != $CellContext`pVel$$, 
          If[
           And[
           Part[$CellContext`\[CapitalSigma]$, 1, 1] > 0, 
            Part[$CellContext`\[CapitalSigma]$, 2, 2] > 
            0], $CellContext`vNorm$ = (
              Part[$CellContext`q$, 1]^2/
               Part[$CellContext`\[CapitalSigma]$, 1, 1]^2 + 
              Part[$CellContext`q$, 2]^2/
               Part[$CellContext`\[CapitalSigma]$, 2, 2]^2)^Rational[1, 2]; 
           If[$CellContext`vNorm$ > 
             1, $CellContext`pVel$$ = ($CellContext`pVel$$ - \
$CellContext`pEnd$$)/$CellContext`vNorm$ + $CellContext`pEnd$$]; \
$CellContext`jointVel$$ = 
            Dot[$CellContext`V$, {{
               1/Part[$CellContext`\[CapitalSigma]$, 1, 1], 0}, {
               0, 1/Part[$CellContext`\[CapitalSigma]$, 2, 2]}}, 
              
              Transpose[$CellContext`U$], $CellContext`pVel$$ - \
$CellContext`pEnd$$]; Null, 
           If[Part[$CellContext`\[CapitalSigma]$, 1, 1] > 
             0, $CellContext`pVel$$ = Dot[$CellContext`U$, {
                  Part[$CellContext`q$, 1], 0}] 
               If[(Part[$CellContext`q$, 1]^2/
                   Part[$CellContext`\[CapitalSigma]$, 1, 1]^2)^
                  Rational[1, 2] > 1, 
                 Abs[
                 Part[$CellContext`\[CapitalSigma]$, 1, 1]/
                  Part[$CellContext`q$, 1]], 1] + $CellContext`pEnd$$]; 
           If[Part[$CellContext`\[CapitalSigma]$, 2, 2] > 
             0, $CellContext`pVel$$ = Dot[$CellContext`U$, {0, 
                  Part[$CellContext`q$, 2]}] 
               If[(Part[$CellContext`q$, 2]^2/
                   Part[$CellContext`\[CapitalSigma]$, 2, 2]^2)^
                  Rational[1, 2] > 1, 
                 Abs[
                 Part[$CellContext`\[CapitalSigma]$, 2, 2]/
                  Part[$CellContext`q$, 2]], 
                 1] + $CellContext`pEnd$$]; $CellContext`jointVel$$ = Dot[
              
              PseudoInverse[$CellContext`J$], $CellContext`pVel$$ - \
$CellContext`pEnd$$]], $CellContext`pVel$$ = 
          Dot[$CellContext`J$, $CellContext`jointVel$$] + \
$CellContext`pEnd$$]; $CellContext`pVelp$$ = $CellContext`pVel$$; 
        Graphics[{{LightBlue, 
            EdgeForm[{Thin, Blue}], 
            Disk[{0, 0}, 2], 
            If[$CellContext`r1$$ != 1, {White, 
              Disk[{0, 0}, 
               Abs[$CellContext`r1$$ - $CellContext`r2$]]}], Black, 
            Text["Workspace", {0, 1.8}]}, {
            EdgeForm[{Thin, Blue}], 
            GeometricTransformation[{
              Opacity[0.5], 
              If[MatrixRank[$CellContext`\[CapitalSigma]$] > 1, {LightRed, 
                Ellipsoid[{0, 0}, $CellContext`\[CapitalSigma]$^2]}], Blue, 
              Arrow[{{0, 0}, 
                Part[$CellContext`\[CapitalSigma]$, 1]}], 
              Arrow[{{0, 0}, -Part[$CellContext`\[CapitalSigma]$, 1]}], Red, 
              Arrow[{{0, 0}, 
                Part[$CellContext`\[CapitalSigma]$, 2]}], Red, 
              
              Arrow[{{0, 0}, -
                Part[$CellContext`\[CapitalSigma]$, 
                  2]}]}, {$CellContext`U$, $CellContext`pEnd$$}]}, Gray, 
           EdgeForm[Black], 
           Rotate[{
             
             Rectangle[{-$CellContext`w$, -$CellContext`w$}, \
{$CellContext`r1$$ + $CellContext`w$, $CellContext`w$}, 
              RoundingRadius -> $CellContext`w$], 
             If[$CellContext`r2$ < 1, {Black, 
               Text[
               "Robot Arm", {$CellContext`r1$$/2, 
                 0}]}]}, $CellContext`\[Theta]1$, {0, 0}], {Black, 
            Point[{{0, 0}}], {Red, 
             PointSize[Large], 
             $CellContext`myArrowArc[$CellContext`l$ {0, 0}, 1/
              2, $CellContext`\[Theta]1$ + {0, 
                Part[$CellContext`jointVel$$, 1]}]}, 
            Darker[Gray], 
            $CellContext`myArrowArc[{0, 0}, $CellContext`l$/4, {
             0, $CellContext`\[Theta]1$}], 
            If[Abs[$CellContext`\[Theta]1$] > Pi/4, 
             Text[
              Style[
              "\!\(\*SubscriptBox[\(\[Theta]\), \(1\)]\)", 
               Medium], ($CellContext`l$ (2/5)) {
                Cos[$CellContext`\[Theta]1$/2], 
                Sin[$CellContext`\[Theta]1$/2]}]]}, 
           Rotate[{
             
             Rectangle[{$CellContext`r1$$ 
                Cos[$CellContext`\[Theta]1$] - $CellContext`w$, \
$CellContext`r1$$ 
                Sin[$CellContext`\[Theta]1$] - $CellContext`w$}, \
{$CellContext`r1$$ 
                Cos[$CellContext`\[Theta]1$] + $CellContext`r2$ + \
$CellContext`w$, $CellContext`r1$$ 
                Sin[$CellContext`\[Theta]1$] + $CellContext`w$}, 
              RoundingRadius -> $CellContext`w$], 
             If[$CellContext`r2$ >= 1, {Black, 
               Text[
               "Robot Arm", {$CellContext`r1$$ 
                  Cos[$CellContext`\[Theta]1$] + $CellContext`r2$/
                  2, $CellContext`r1$$ 
                 Sin[$CellContext`\[Theta]1$]}]}]}, $CellContext`\[Theta]1$ + \
$CellContext`\[Theta]2$, {$CellContext`r1$$ 
             Cos[$CellContext`\[Theta]1$], $CellContext`r1$$ 
             Sin[$CellContext`\[Theta]1$]}], {Black, 
            Point[{$CellContext`r1$$ {
                Cos[$CellContext`\[Theta]1$], 
                Sin[$CellContext`\[Theta]1$]}}], {Thick, Blue, 
             $CellContext`myArrowArc[$CellContext`r1$$ {
                Cos[$CellContext`\[Theta]1$], 
                Sin[$CellContext`\[Theta]1$]}, 2/
              3, $CellContext`\[Theta]1$ + $CellContext`\[Theta]2$ + {0, 
                Part[$CellContext`jointVel$$, 2]}]}, 
            Darker[Gray], 
            $CellContext`myArrowArc[$CellContext`r1$$ {
               Cos[$CellContext`\[Theta]1$], 
               Sin[$CellContext`\[Theta]1$]}, $CellContext`l$/
             3, {$CellContext`\[Theta]1$, $CellContext`\[Theta]1$ + \
$CellContext`\[Theta]2$}], 
            If[Abs[$CellContext`\[Theta]2$] > Pi/4, 
             Text[
              Style[
              "\!\(\*SubscriptBox[\(\[Theta]\), \(2\)]\)", 
               Medium], {$CellContext`r1$$ 
                Cos[$CellContext`\[Theta]1$] + ($CellContext`r2$/2) 
                Cos[$CellContext`\[Theta]1$ + $CellContext`\[Theta]2$/
                   2], $CellContext`r1$$ 
                Sin[$CellContext`\[Theta]1$] + ($CellContext`r2$/2) 
                Sin[$CellContext`\[Theta]1$ + $CellContext`\[Theta]2$/2]}]]}, 
           $CellContext`loc[
            Darker[Green], $CellContext`pVel$$], 
           $CellContext`loc[Black, $CellContext`pEnd$$], {Green, Thick, 
            Arrow[{$CellContext`pEnd$$, $CellContext`pVel$$}]}}, PlotRange -> 
          3 {{-1, 1}, {-1, 1}}, ImageSize -> 400]], 
      "Specifications" :> {{{$CellContext`r1$$, 2., 
          "\!\(\*SubscriptBox[\(r\), \(1\)]\)"}, 0, 2, ImageSize -> 80, 
         Appearance -> 
         "Labeled"}, {{$CellContext`pEnd$$, {-1.364318756528898, \
-1.462407033142087}}, {-2, -2}, {2, 2}, ControlType -> Locator, Appearance -> 
         None}, {{$CellContext`pEndp$$, {-1.364318756528898, \
-1.462407033142087}}, {-2, -2}, {2, 2}, ControlType -> 
         None}, {{$CellContext`pVel$$, {-0.3231340149497999, \
-2.4337562127860015`}}, {-4, -4}, {4, 4}, ControlType -> Locator, Appearance -> 
         None}, {{$CellContext`pVelp$$, {-0.3231340149497999, \
-2.4337562127860015`}}, {-4, -4}, {4, 4}, ControlType -> 
         None}, {{$CellContext`p1$$, {-0.682159378264449, \
-0.7312035165710435}, 
          "\!\(\*SubscriptBox[\(\[Theta]\), \(1\)]\)"}, \
$CellContext`makeDialControl[#, {0, 0}, Red]& , ImageSize -> 
         140}, {{$CellContext`p2$$, {-0.8044332669603459, 0.5940430279091784},
           "\!\(\*SubscriptBox[\(\[Theta]\), \(2\)]\)"}, \
$CellContext`makeDialControl[#, {0, 0}, Blue]& , ImageSize -> 
         140}, {{$CellContext`IsElbowUp$$, False, "elbow up?"}, {
         True, False}}, {{$CellContext`IsElbowUpp$$, False}, 0, ControlType -> 
         None}, {{$CellContext`jointVel$$, {0.7119664484531625, 
          0.7022134834058589}, 
          "joint\nvelocity"}, $CellContext`make2VelControl[#]& , ImageSize -> 
         140}}, "Options" :> {ControlPlacement -> Left}, 
      "DefaultOptions" :> {ControllerLinking -> True}],
     ImageSizeCache->{642., {252., 258.}},
     SingleEvaluation->True],
    Deinitialization:>None,
    DynamicModuleValues:>{},
    Initialization:>({$CellContext`\[Theta]2inv[
         Pattern[$CellContext`x, 
          Blank[]], 
         Pattern[$CellContext`y, 
          Blank[]], 
         Pattern[$CellContext`r1, 
          Blank[]], 
         Pattern[$CellContext`r2, 
          Blank[]], 
         Pattern[$CellContext`IsElbowUp, 
          Blank[]]] := Re[
         If[$CellContext`x^2 + $CellContext`y^2 >= ($CellContext`r1 + \
$CellContext`r2)^2, 0, 
          
          Module[{D = (-$CellContext`r1^2 - $CellContext`r2^2 + \
$CellContext`x^2 + $CellContext`y^2)/((2 $CellContext`r1) $CellContext`r2)}, 
           ArcTan[
           D, If[$CellContext`IsElbowUp, -1, 1] 
            Sqrt[1 - D^2]]]]], $CellContext`\[Theta]1inv[
         Pattern[$CellContext`x, 
          Blank[]], 
         Pattern[$CellContext`y, 
          Blank[]], 
         Pattern[$CellContext`r1, 
          Blank[]], 
         Pattern[$CellContext`r2, 
          Blank[]], 
         Pattern[$CellContext`\[Theta]2, 
          Blank[]]] := 
       Re[ArcTan[$CellContext`x, $CellContext`y] - 
         ArcTan[$CellContext`r1 + $CellContext`r2 
           Cos[$CellContext`\[Theta]2], $CellContext`r2 
          Sin[$CellContext`\[Theta]2]]], $CellContext`myArrowArc[
         Pattern[$CellContext`c, 
          Blank[]], 
         Pattern[$CellContext`r, 
          Blank[]], {
          Pattern[$CellContext`start, 
           Blank[]], 
          Pattern[$CellContext`end, 
           Blank[]]}] := If[$CellContext`start == $CellContext`end, 
         Point[$CellContext`c + $CellContext`r {
             Cos[$CellContext`start], 
             Sin[$CellContext`start]}], 
         Arrow[
          BSplineCurve[
           Table[$CellContext`c + $CellContext`r {
               Cos[$CellContext`t], 
               
               Sin[$CellContext`t]}, {$CellContext`t, $CellContext`start, \
$CellContext`end, ($CellContext`end - $CellContext`start)/
             11}]]]], $CellContext`loc[
         Pattern[$CellContext`col, 
          Blank[]], 
         Pattern[$CellContext`c, 
          Blank[]]] := Module[{$CellContext`sc = 1/25}, {$CellContext`col, 
          
          Line[{$CellContext`c + $CellContext`sc {
              0, 1.5}, $CellContext`c + $CellContext`sc {0, 3}}], 
          
          Line[{$CellContext`c + $CellContext`sc {
              0, -1.5}, $CellContext`c + $CellContext`sc {0, -3}}], 
          
          Line[{$CellContext`c + $CellContext`sc {-1.5, 
               0}, $CellContext`c + $CellContext`sc {-3, 0}}], 
          
          Line[{$CellContext`c + $CellContext`sc {
              1.5, 0}, $CellContext`c + $CellContext`sc {3, 0}}], 
          Circle[$CellContext`c, $CellContext`sc 2], {
           Thickness[1/100], 
           Opacity[0.5], 
           Circle[$CellContext`c, ($CellContext`sc 2) 0.7]}}], 
       Attributes[PlotRange] = {ReadProtected}, $CellContext`makeDialControl[
         Dynamic[
          Pattern[$CellContext`pt, 
           Blank[]]], 
         Pattern[$CellContext`cent, 
          Blank[]], 
         Pattern[$CellContext`color, 
          Blank[]]] := Module[{$CellContext`ang}, 
         LocatorPane[
          
          Dynamic[$CellContext`pt, ($CellContext`pt = 
           Normalize[#])& ], $CellContext`ang = Dynamic[
             ArcTan[
              Part[$CellContext`pt, 1], 
              Part[$CellContext`pt, 2]]]; Graphics[{Gray, 
             Circle[$CellContext`cent], Gray, 
             Table[
              Line[{$CellContext`cent + 0.94 {
                   Cos[$CellContext`a], 
                   Sin[$CellContext`a]}, $CellContext`cent + {
                  Cos[$CellContext`a], 
                  Sin[$CellContext`a]}}], {$CellContext`a, 0, 2 Pi, Pi/8}], 
             Table[
              Line[{$CellContext`cent + 0.98 {
                   Cos[$CellContext`a], 
                   Sin[$CellContext`a]}, $CellContext`cent + {
                  Cos[$CellContext`a], 
                  Sin[$CellContext`a]}}], {$CellContext`a, Pi/16, 2 Pi, Pi/
               8}], {FontSize -> 10, 
              Table[
               Text[$CellContext`\[Theta], $CellContext`cent + 0.7 {
                   Cos[$CellContext`\[Theta]], 
                   Sin[$CellContext`\[Theta]]}], {$CellContext`\[Theta], 
                Rest[
                 Range[-Pi, Pi, Pi/4]]}]}, {$CellContext`color, 
              EdgeForm[Black], 
              Rotate[
               Translate[
                $CellContext`makeHand[
                7, 7/3, 0.1, 
                 0.3], $CellContext`cent], $CellContext`ang, \
$CellContext`cent]}, Black, 
             Arrowheads[0.05], $CellContext`color, 
             $CellContext`myArrowArc2[$CellContext`cent, 0.3, {
              0, $CellContext`ang}]}]]], $CellContext`makeHand[
         Pattern[$CellContext`fl, 
          Blank[]], 
         Pattern[$CellContext`bl, 
          Blank[]], 
         Pattern[$CellContext`fw, 
          Blank[]], 
         Pattern[$CellContext`bw, 
          Blank[]]] := 
       Polygon[{{-$CellContext`bl, -$CellContext`bw}, {-$CellContext`bl, \
$CellContext`bw}, {$CellContext`fl, $CellContext`fw}, {$CellContext`fl + 
            8 $CellContext`fw, 0}, {$CellContext`fl, -$CellContext`fw}}/
         10], $CellContext`myArrowArc2[
         Pattern[$CellContext`c, 
          Blank[]], 
         Pattern[$CellContext`r, 
          Blank[]], {
          Pattern[$CellContext`start, 
           Blank[]], 
          Pattern[$CellContext`end, 
           Blank[]]}] := If[$CellContext`start === $CellContext`end, 
         Point[$CellContext`c + $CellContext`r {
             Cos[$CellContext`start], 
             Sin[$CellContext`start]}], 
         Arrow[
          BSplineCurve[
           Table[$CellContext`c + $CellContext`r {
               Cos[$CellContext`t], 
               
               Sin[$CellContext`t]}, {$CellContext`t, $CellContext`start, \
$CellContext`end, ($CellContext`end - $CellContext`start)/
             11}]]]], $CellContext`make2VelControl[
         Dynamic[
          Pattern[$CellContext`pt, 
           Blank[]]]] := 
       Module[{$CellContext`ang, $CellContext`cent = {0, 0}}, 
         LocatorPane[
          Dynamic[$CellContext`pt, ($CellContext`pt = If[Norm[
               Re[#]] > 1, 
             Normalize[
              Re[#]], 
             Re[#]])& ], 
          Graphics[{{LightGreen, 
             Disk[$CellContext`cent, 1]}, {Thin, Black, 
             Line[{{-1, 0}, {1, 0}}], 
             Line[{{0, -1}, {0, 1}}], 
             Text[
             "\!\(\*SubscriptBox[OverscriptBox[\(\[Theta]\), \(.\)], \
\(1\)]\)", {0.9, 0.2}], 
             Text[
             "\!\(\*SubscriptBox[OverscriptBox[\(\[Theta]\), \(.\)], \
\(2\)]\)", {0.2, 0.9}], 
             Table[
              
              Line[{{$CellContext`a, 0}, {$CellContext`a, 
                 0.05}}], {$CellContext`a, -1, 1, 0.2}], 
             Table[
              
              Line[{{0, $CellContext`a}, {
                0.05, $CellContext`a}}], {$CellContext`a, -1, 1, 0.2}], 
             Table[
              
              Text[$CellContext`a, {-0.1, $CellContext`a}], {$CellContext`a, \
{-1, 1}}], 
             Table[
              
              Text[$CellContext`a, {$CellContext`a, -0.1}], {$CellContext`a, \
{-1, 1}}]}, 
            Arrowheads[{0, 0.1}], Thick, Red, 
            Arrow[
             Dynamic[{{0, 
                Part[$CellContext`pt, 2]}, $CellContext`pt}]], Blue, 
            Arrow[
             Dynamic[{{
                Part[$CellContext`pt, 1], 0}, $CellContext`pt}]]}]]]}; 
     Typeset`initDone$$ = True),
    SynchronousInitialization->True,
    UndoTrackedVariables:>{Typeset`show$$, Typeset`bookmarkMode$$},
    UnsavedVariables:>{Typeset`initDone$$},
    UntrackedVariables:>{Typeset`size$$}], "Manipulate",
   Deployed->True,
   StripOnInput->False],
  Manipulate`InterpretManipulate[1]]], "Output",
 CellID->899981541]
}, Open  ]],

Cell[CellGroupData[{

Cell["", "DetailsSection"],

Cell[TextData[{
 "A robot arm, or ",
 StyleBox["robot manipulator",
  FontSlant->"Italic"],
 ", is constructed from two types of joints, prismatic and revolute. A \
revolute joint rotates on a single plane along an axis centered at the joint, \
while a prismatic joint moves linearly, extending along a line. The \
transformation from joint angles to the location of the end effector is \
called forward kinematics and can be computed by a series of matrix \
multiplications."
}], "DetailNotes",
 CellChangeTimes->{{3.674388982794211*^9, 3.674388999655141*^9}, {
   3.6743890638719864`*^9, 3.67438916759632*^9}, 3.674389249654091*^9, {
   3.674389279685623*^9, 3.6743893634854393`*^9}, {3.6743966422824087`*^9, 
   3.6743966608289323`*^9}, {3.674396816309392*^9, 3.6743968325046415`*^9}, {
   3.6743968698645473`*^9, 3.674396906327818*^9}, 3.674410124377763*^9, {
   3.674410604236064*^9, 3.674410665220798*^9}, {3.674410701023679*^9, 
   3.674410713461796*^9}, {3.674427454139647*^9, 3.674427455568815*^9}, {
   3.674427823413073*^9, 3.674427823651249*^9}, 3.675101481102755*^9, {
   3.67510165086233*^9, 3.675101665710225*^9}, {3.675104057185911*^9, 
   3.675104059391515*^9}, 3.67517585571902*^9, 3.675176362455654*^9},
 CellID->43188065],

Cell[TextData[{
 "Each joint transforms the coordinate frame from the previous joint. These \
coordinate transformations are multiplied together to determine the location \
of the end effector. The Denavit\[Dash]Hartenberg convention represents the \
transformation due to the ",
 Cell[BoxData[
  FormBox[
   SuperscriptBox["i", "th"], TraditionalForm]], "InlineMath"],
 " joint as [1]:\n",
 Cell[BoxData[
  FormBox[
   RowBox[{
    SubscriptBox["A", "i"], "=", 
    RowBox[{
     RowBox[{
      SubscriptBox["rot", 
       RowBox[{"z", ",", 
        SubscriptBox["\[Theta]", "i"]}]], 
      SubscriptBox["trans", 
       RowBox[{"z", ",", 
        SubscriptBox["d", "i"]}]], 
      SubscriptBox["trans", 
       RowBox[{"x", ",", 
        SubscriptBox["a", "i"]}]], 
      SubscriptBox["rot", 
       RowBox[{"z", ",", 
        SubscriptBox["\[Alpha]", "i"]}]]}], "=", 
     RowBox[{"(", GridBox[{
        {
         SubscriptBox["c", 
          SubscriptBox["\[Theta]", "i"]], 
         RowBox[{
          RowBox[{"-", 
           SubscriptBox[
            SubscriptBox["s", "\[Theta]"], "i"]}], " ", 
          SubscriptBox["c", 
           SubscriptBox["\[Alpha]", "i"]]}], 
         RowBox[{
          SubscriptBox[
           SubscriptBox["s", "\[Theta]"], "i"], " ", 
          SubscriptBox["s", 
           SubscriptBox["\[Alpha]", "i"]]}], 
         RowBox[{
          SubscriptBox["a", "i"], 
          SubscriptBox["c", 
           SubscriptBox["\[Theta]", "i"]]}]},
        {
         SubscriptBox[
          SubscriptBox["s", "\[Theta]"], "i"], 
         RowBox[{
          SubscriptBox["c", 
           SubscriptBox["\[Theta]", "i"]], " ", 
          SubscriptBox["c", 
           SubscriptBox["\[Alpha]", "i"]]}], 
         RowBox[{
          RowBox[{"-", 
           SubscriptBox["c", 
            SubscriptBox["\[Theta]", "i"]]}], " ", 
          SubscriptBox["s", 
           SubscriptBox["\[Alpha]", "i"]]}], 
         RowBox[{
          SubscriptBox["a", "i"], 
          SubscriptBox[
           SubscriptBox["s", "\[Theta]"], "i"]}]},
        {"0", 
         SubscriptBox["s", 
          SubscriptBox["\[Alpha]", "i"]], 
         SubscriptBox["c", 
          SubscriptBox["\[Alpha]", "i"]], 
         SubscriptBox["d", "i"]},
        {"0", "0", "0", "1"}
       }], ")"}], " "}]}], TraditionalForm]], "InlineMath"],
 ", where ",
 Cell[BoxData[
  FormBox[
   RowBox[{
    SubscriptBox["c", "\[Theta]"], "=", 
    RowBox[{"cos", " ", "\[Theta]"}]}], TraditionalForm]], "InlineMath"],
 " and ",
 Cell[BoxData[
  FormBox[
   RowBox[{
    SubscriptBox["s", "\[Theta]"], "=", 
    RowBox[{"sin", " ", "\[Theta]"}]}], TraditionalForm]], "InlineMath"],
 "."
}], "DetailNotes",
 CellChangeTimes->{{3.674388982794211*^9, 3.674388999655141*^9}, {
   3.6743890638719864`*^9, 3.67438916759632*^9}, 3.674389249654091*^9, {
   3.674389279685623*^9, 3.6743893061090364`*^9}, {3.674396937831628*^9, 
   3.6743972429580507`*^9}, {3.674409813126791*^9, 3.674409826990128*^9}, {
   3.6744278670361643`*^9, 3.674428011880417*^9}, {3.6749287225490513`*^9, 
   3.674928722803588*^9}, {3.675101675734211*^9, 3.675101738421402*^9}, {
   3.675101853961691*^9, 3.675101859255804*^9}, {3.675101898694071*^9, 
   3.675102103204091*^9}, {3.675102135779313*^9, 3.67510221430063*^9}, 
   3.675175909618249*^9, 3.675176365391879*^9},
 CellID->505680034],

Cell[TextData[{
 "A sequence of matrices ",
 Cell[BoxData[
  FormBox[
   SubscriptBox["A", "i"], TraditionalForm]], "InlineMath"],
 " are then multiplied together to give the location of the end effector."
}], "DetailNotes",
 CellChangeTimes->{{3.674388982794211*^9, 3.674388999653138*^9}, {
   3.67439752311637*^9, 3.674397523118372*^9}, {3.6743975829942193`*^9, 
   3.674397620233143*^9}, {3.674409836263102*^9, 3.6744098405065536`*^9}, {
   3.6744106719084272`*^9, 3.674410671912808*^9}, {3.674428017393684*^9, 
   3.674428019688739*^9}, 3.674929062339757*^9, {3.675102231398539*^9, 
   3.675102241315529*^9}, 3.675175929484598*^9, 3.675176368271695*^9},
 CellID->285088957],

Cell["\<\
The transformation from the end effector location to joint angles is usually \
challenging because it often involves inverse trigonometric functions. Often \
there are multiple solutions, and the transformation is sometimes impossible \
(some end effectors are outside the workspace of the robot). Even for this \
simple two-link robot, these issues are present. The reachable workspace is \
drawn in blue. All locations outside of this region are impossible to reach. \
All locations on the boundary of this workspace have only one solution, but \
locations inside the blue region can be reached by two configurations, called \
the \"elbow up\" and \"elbow down\" configurations.\
\>", "DetailNotes",
 CellChangeTimes->{{3.6744107272148438`*^9, 3.674410946150785*^9}, {
  3.674928759882032*^9, 3.674928818110276*^9}, {3.67510148189284*^9, 
  3.675101496851482*^9}, {3.675102257730873*^9, 3.6751022690834103`*^9}, {
  3.6751759335015*^9, 3.675175956980439*^9}, {3.675176372941085*^9, 
  3.675176376102435*^9}},
 CellID->1159078746],

Cell[TextData[{
 "The transformation from joint velocities ",
 Cell[BoxData[
  FormBox[
   RowBox[{"q", "'"}], TraditionalForm]], "InlineMath"],
 " to end effector velocities ",
 Cell[BoxData[
  FormBox["\[Xi]", TraditionalForm]], "InlineMath"],
 " is called ",
 StyleBox["forward velocity kinematics",
  FontSlant->"Italic"],
 ". It can be computed by taking the derivative of the forward kinematics \
equations and multiplying this by the joint velocities. This gives the \
Jacobian, a function of the current robot configuration and is represented by \
",
 Cell[BoxData[
  FormBox[
   RowBox[{"J", 
    RowBox[{"(", "q", ")"}]}], TraditionalForm]], "InlineMath"],
 ", where ",
 Cell[BoxData[
  FormBox["q", TraditionalForm]], "InlineMath"],
 " is a vector of joint angles:"
}], "DetailNotes",
 CellChangeTimes->{{3.6744107272148438`*^9, 3.674411109333663*^9}, {
   3.674411261023261*^9, 3.6744112927993507`*^9}, {3.6744280327210627`*^9, 
   3.674428085658366*^9}, {3.674428118364428*^9, 3.67442816637992*^9}, {
   3.67492224736547*^9, 3.67492224876569*^9}, {3.674922302514957*^9, 
   3.674922303403455*^9}, 3.6749288365519*^9, {3.675101484655817*^9, 
   3.675101489893661*^9}, {3.675102293976343*^9, 3.6751023445348797`*^9}, {
   3.6751041850268307`*^9, 3.675104194994515*^9}, 3.675175981055451*^9, 
   3.675176378543346*^9},
 CellID->227617593],

Cell[TextData[{
 Cell[BoxData[
  FormBox[
   RowBox[{"\[Xi]", "=", 
    RowBox[{"J", 
     RowBox[{"(", "q", ")"}], " ", 
     RowBox[{"q", "'"}]}]}], TraditionalForm]], "InlineMath"],
 "."
}], "DetailNotes",
 CellChangeTimes->{{3.6744107272148438`*^9, 3.674411109333663*^9}, {
   3.674411261023261*^9, 3.6744112927993507`*^9}, {3.6744280327210627`*^9, 
   3.674428085658366*^9}, {3.674428118364428*^9, 3.6744281687222633`*^9}, 
   3.6750245110158963`*^9, 3.675102348278789*^9},
 CellID->1572573689],

Cell[TextData[{
 "If all joint velocities are within the unit ball ",
 Cell[BoxData[
  FormBox[
   RowBox[{
    RowBox[{"\[Sum]", 
     SuperscriptBox[
      RowBox[{"(", 
       RowBox[{
        SubscriptBox["q", "i"], "'"}], ")"}], "2"]}], "\[LessEqual]", "1"}], 
   TraditionalForm]], "InlineMath"],
 ", then the end effector velocities are constrained to lie within an \
ellipse, drawn in pink in the figure. This ellipse is called the ",
 StyleBox["manipulability ellipse",
  FontSlant->"Italic"],
 "."
}], "DetailNotes",
 CellChangeTimes->{{3.6744107272148438`*^9, 3.674411109333663*^9}, {
   3.674411261023261*^9, 3.6744112927993507`*^9}, {3.6744280327210627`*^9, 
   3.674428085658366*^9}, {3.674428118364428*^9, 3.674428182114929*^9}, {
   3.674428393587656*^9, 3.674428402020357*^9}, {3.674928852128956*^9, 
   3.674928856626932*^9}, 3.674929070995934*^9, 3.675101503399734*^9, {
   3.675102363454258*^9, 3.675102374960524*^9}, {3.675104218353607*^9, 
   3.675104219217455*^9}, 3.675176016909288*^9, 3.675176382728264*^9},
 CellID->1596008553],

Cell[TextData[{
 "The inverse problem of determining what joint velocities ",
 Cell[BoxData[
  FormBox[
   RowBox[{"q", "'"}], TraditionalForm]], "InlineMath"],
 " are required to generate a desired ",
 Cell[BoxData[
  FormBox["\[Xi]", TraditionalForm]], "InlineMath"],
 " is ",
 StyleBox["inverse velocity kinematics. ",
  FontSlant->"Italic"],
 "Inverse velocity kinematics is trivial if ",
 Cell[BoxData[
  FormBox[
   SuperscriptBox[
    RowBox[{"J", "(", "q", ")"}], 
    RowBox[{"-", "1"}]], TraditionalForm]], "InlineMath"],
 " exists: ",
 Cell[BoxData[
  FormBox[
   RowBox[{
    RowBox[{
     SuperscriptBox[
      RowBox[{"J", "(", "q", ")"}], 
      RowBox[{"-", "1"}]], "\[CenterDot]", "\[Xi]"}], "=", " ", 
    RowBox[{"q", "'"}]}], TraditionalForm]], "InlineMath"],
 ", but when ",
 Cell[BoxData[
  FormBox[
   RowBox[{"J", 
    RowBox[{"(", "q", ")"}]}], TraditionalForm]], "InlineMath"],
 " is singular this is not possible. In this Demonstration, singular \
configurations occur on the boundary of the workspace, where the ",
 StyleBox["manipulability ellipse",
  FontSlant->"Italic"],
 " loses a dimension and becomes a line. In this case, we solve for the \
required joint velocities by generating the Moore\[Dash]Penrose \
pseudoinverse. This is calculated in Mathematica as ",
 StyleBox["PseudoInverse[J]\[CenterDot]\[Xi]= q'", "MR"],
 "."
}], "DetailNotes",
 CellChangeTimes->{{3.6744107272148438`*^9, 3.674411109333663*^9}, {
   3.674411261023261*^9, 3.6744112927993507`*^9}, {3.6744280327210627`*^9, 
   3.674428109094001*^9}, {3.674428161727256*^9, 3.674428515448308*^9}, {
   3.674928898400062*^9, 3.674928942641242*^9}, 3.674929102976795*^9, {
   3.6750245327129936`*^9, 3.6750245462884293`*^9}, 3.675101504283478*^9, {
   3.675102392020969*^9, 3.675102473234111*^9}},
 CellID->2081929493],

Cell["Reference", "DetailNotes",
 CellChangeTimes->{{3.675024495215189*^9, 3.6750244963862267`*^9}},
 CellID->66559461],

Cell[TextData[{
 "[1] M. W. Spong, S. Hutchinson, and M. Vidyasagar, ",
 StyleBox["Robot Modeling and Control",
  FontSlant->"Italic"],
 ", Hoboken, NJ: John Wiley and Sons, 2006."
}], "DetailNotes",
 CellChangeTimes->{{3.674388982794211*^9, 3.674388999653138*^9}, 
   3.67439752311637*^9, 3.675101505706114*^9, {3.6751016378401537`*^9, 
   3.675101638056737*^9}, {3.67517608828244*^9, 3.675176089294389*^9}},
 CellID->540286596]
}, Open  ]],

Cell[CellGroupData[{

Cell["", "ControlSuggestionsSection"],

Cell[BoxData[
 TooltipBox[
  RowBox[{
   CheckboxBox[False], Cell[" Resize Images"]}],
  "\"Click inside an image to reveal its orange resize frame.\\nDrag any of \
the orange resize handles to resize the image.\"",
  TooltipDelay->0.35]], "ControlSuggestions",
 CellChangeTimes->{3.6750245734779024`*^9, 3.675102512845695*^9},
 FontFamily->"Verdana",
 CellTags->"ResizeImages"],

Cell[BoxData[
 TooltipBox[
  RowBox[{
   CheckboxBox[False], Cell[" Rotate and Zoom in 3D"]}],
  RowBox[{
   "\"Drag a 3D graphic to rotate it. Starting the drag near the center \
tumbles\\nthe graphic; starting near a corner turns it parallel to the plane \
of the screen.\\nHold down \"", 
    FrameBox[
    "Ctrl", Background -> GrayLevel[0.9], FrameMargins -> 2, FrameStyle -> 
     GrayLevel[0.9]], "\" (or \"", 
    FrameBox[
    "Cmd", Background -> GrayLevel[0.9], FrameMargins -> 2, FrameStyle -> 
     GrayLevel[0.9]], "\" on Mac) and drag up and down to zoom.\""}],
  TooltipDelay->0.35]], "ControlSuggestions",
 FontFamily->"Verdana",
 CellTags->"RotateAndZoomIn3D"],

Cell[BoxData[
 TooltipBox[
  RowBox[{
   CheckboxBox[True], Cell[" Drag Locators"]}],
  RowBox[{"\"Drag any locator (\"", 
    GraphicsBox[
     LocatorBox[
      Scaled[{0.5, 0.5}]], ImageSize -> 20], 
    "\", etc.) to move it around.\""}],
  TooltipDelay->0.35]], "ControlSuggestions",
 CellChangeTimes->{3.67369380959995*^9},
 FontFamily->"Verdana",
 CellTags->"DragLocators"],

Cell[BoxData[
 TooltipBox[
  RowBox[{
   CheckboxBox[False], Cell[" Create and Delete Locators"]}],
  RowBox[{"\"Insert a new locator in the graphic by holding down the \"", 
    FrameBox[
    "Alt", Background -> GrayLevel[0.9], FrameMargins -> 2, FrameStyle -> 
     GrayLevel[0.9]], 
    "\" key\\nand clicking where you want it to be. Delete a locator by \
clicking it\\nwhile holding down the \"", 
    FrameBox[
    "Alt", Background -> GrayLevel[0.9], FrameMargins -> 2, FrameStyle -> 
     GrayLevel[0.9]], "\" key.\""}],
  TooltipDelay->0.35]], "ControlSuggestions",
 FontFamily->"Verdana",
 CellTags->"CreateAndDeleteLocators"],

Cell[BoxData[
 TooltipBox[
  RowBox[{
   CheckboxBox[True], Cell[" Slider Zoom"]}],
  RowBox[{"\"Hold down the \"", 
    FrameBox[
    "Alt", Background -> GrayLevel[0.9], FrameMargins -> 2, FrameStyle -> 
     GrayLevel[0.9]], 
    "\" key while moving a slider to make fine adjustments in the slider \
value.\\nHold \"", 
    FrameBox[
    "Ctrl", Background -> GrayLevel[0.9], FrameMargins -> 2, FrameStyle -> 
     GrayLevel[0.9]], "\" and/or \"", 
    FrameBox[
    "Shift", Background -> GrayLevel[0.9], FrameMargins -> 2, FrameStyle -> 
     GrayLevel[0.9]], "\" at the same time as \"", 
    FrameBox[
    "Alt", Background -> GrayLevel[0.9], FrameMargins -> 2, FrameStyle -> 
     GrayLevel[0.9]], "\" to make ever finer adjustments.\""}],
  TooltipDelay->0.35]], "ControlSuggestions",
 CellChangeTimes->{3.6751025142322607`*^9},
 FontFamily->"Verdana",
 CellTags->"SliderZoom"],

Cell[BoxData[
 TooltipBox[
  RowBox[{
   CheckboxBox[True], Cell[" Gamepad Controls"]}],
  "\"Control this Demonstration with a gamepad or other\\nhuman interface \
device connected to your computer.\"",
  TooltipDelay->0.35]], "ControlSuggestions",
 CellChangeTimes->{3.35696210375764*^9, 3.3895522232313623`*^9, 
  3.675102515345969*^9},
 FontFamily->"Verdana",
 CellTags->"GamepadControls"],

Cell[BoxData[
 TooltipBox[
  RowBox[{
   CheckboxBox[True], Cell[" Automatic Animation"]}],
  RowBox[{"\"Animate a slider in this Demonstration by clicking the\"", 
    AdjustmentBox[
     Cell[
      GraphicsData[
      "CompressedBitmap", 
       "eJzzTSzJSM1NLMlMTlRwL0osyMhMLlZwyy8CCjEzMjAwcIKwAgOI/R/IhBKc\n\
/4EAyGAG0f+nTZsGwgysIJIRKsWKLAXGIHFmEpUgLADxWUAkI24jZs+eTaEt\n\
IG+wQKRmzJgBlYf5lhEA30OqWA=="], "Graphics", ImageSize -> {9, 9}, ImageMargins -> 
      0, CellBaseline -> Baseline], BoxBaselineShift -> 0.1839080459770115, 
     BoxMargins -> {{0., 0.}, {-0.1839080459770115, 0.1839080459770115}}], 
    "\"button\\nnext to the slider, and then clicking the play button that \
appears.\\nAnimate all controls by selecting \"", 
    StyleBox["Autorun", FontWeight -> "Bold"], "\" from the\"", 
    AdjustmentBox[
     Cell[
      GraphicsData[
      "CompressedBitmap", 
       "eJyNULENwyAQfEySIlMwTVJlCGRFsosokeNtqBmDBagoaZjAI1C8/8GUUUC6\n\
57h7cQ8PvU7Pl17nUav7oj/TPH7V7b2QJAUAXBkKmCPRowxICy64bRvGGNF7\n\
X8CctGoDSN4xhIDGGDhzFXwUh3/ClBKrDQPmnGXtI6u0OOd+tZBVUqy1xSaH\n\
UqiK6pPe4XdEdAz6563tx/gejuORGMxJaz8mdpJn7hc="], "Graphics", 
      ImageSize -> {10, 10}, ImageMargins -> 0, CellBaseline -> Baseline], 
     BoxBaselineShift -> 0.1839080459770115, 
     BoxMargins -> {{0., 0.}, {-0.1839080459770115, 0.1839080459770115}}], 
    "\"menu.\""}],
  TooltipDelay->0.35]], "ControlSuggestions",
 CellChangeTimes->{3.675102516570114*^9},
 FontFamily->"Verdana",
 CellTags->"AutomaticAnimation"],

Cell[BoxData[
 TooltipBox[
  RowBox[{
   CheckboxBox[False], Cell[" Bookmark Animation"]}],
  RowBox[{
   "\"See a prepared animation of this Demonstration by selecting\\n\"", 
    StyleBox["Animate Bookmarks", FontWeight -> "Bold"], "\" from the\"", 
    AdjustmentBox[
     Cell[
      GraphicsData[
      "CompressedBitmap", 
       "eJyNULENwyAQfEySIlMwTVJlCGRFsosokeNtqBmDBagoaZjAI1C8/8GUUUC6\n\
57h7cQ8PvU7Pl17nUav7oj/TPH7V7b2QJAUAXBkKmCPRowxICy64bRvGGNF7\n\
X8CctGoDSN4xhIDGGDhzFXwUh3/ClBKrDQPmnGXtI6u0OOd+tZBVUqy1xSaH\n\
UqiK6pPe4XdEdAz6563tx/gejuORGMxJaz8mdpJn7hc="], "Graphics", 
      ImageSize -> {10, 10}, ImageMargins -> 0, CellBaseline -> Baseline], 
     BoxBaselineShift -> 0.1839080459770115, 
     BoxMargins -> {{0., 0.}, {-0.1839080459770115, 0.1839080459770115}}], 
    "\"menu.\""}],
  TooltipDelay->0.35]], "ControlSuggestions",
 FontFamily->"Verdana",
 CellTags->"BookmarkAnimation"]
}, Open  ]],

Cell[CellGroupData[{

Cell["", "SearchTermsSection"],

Cell["Jacobian", "SearchTerms",
 CellChangeTimes->{{3.674409731316985*^9, 3.674409760163651*^9}},
 CellID->1259772004],

Cell["Manipulability", "SearchTerms",
 CellChangeTimes->{{3.674409761444475*^9, 3.674409763724176*^9}},
 CellID->957636146],

Cell["DH parameters", "SearchTerms",
 CellChangeTimes->{{3.6743749538785343`*^9, 3.6743749581242633`*^9}},
 CellID->667312778],

Cell["Denavit-Hartenburg parameters", "SearchTerms",
 CellChangeTimes->{{3.6743749538785343`*^9, 3.6743749747790813`*^9}},
 CellID->428261287],

Cell["manipulator", "SearchTerms",
 CellChangeTimes->{{3.67440823183466*^9, 3.6744082331110363`*^9}},
 CellID->1952021735],

Cell["planar robot", "SearchTerms",
 CellChangeTimes->{{3.674408239707295*^9, 3.674408241933137*^9}},
 CellID->521624926],

Cell["homogeneous transformation matrix", "SearchTerms",
 CellChangeTimes->{{3.6744088380379887`*^9, 3.6744088380445967`*^9}},
 CellID->1184206153],

Cell["coordinate frames", "SearchTerms",
 CellChangeTimes->{{3.6744088380379887`*^9, 3.674408841045936*^9}, {
  3.674409778020259*^9, 3.674409778026187*^9}},
 CellID->152788971],

Cell["Inverse velocity", "SearchTerms",
 CellChangeTimes->{{3.6744088380379887`*^9, 3.674408841045936*^9}, {
  3.674409778020259*^9, 3.674409781748749*^9}},
 CellID->1382850362]
}, Open  ]],

Cell[CellGroupData[{

Cell["", "RelatedLinksSection"],

Cell[TextData[ButtonBox["Forward and Inverse Kinematics of the SCARA Robot",
 BaseStyle->"Hyperlink",
 ButtonData->{
   URL["http://demonstrations.wolfram.com/\
ForwardAndInverseKinematicsOfTheSCARARobot/"], None},
 ButtonNote->
  "http://demonstrations.wolfram.com/\
ForwardAndInverseKinematicsOfTheSCARARobot/"]], "RelatedLinks",
 CellChangeTimes->{{3.6712743297458277`*^9, 3.6712743297458277`*^9}},
 CellID->18406695],

Cell[TextData[ButtonBox["Inverse Kinematics for a Robot Manipulator with Six \
Degrees of Freedom",
 BaseStyle->"Hyperlink",
 ButtonData->{
   URL["http://demonstrations.wolfram.com/\
InverseKinematicsForARobotManipulatorWithSixDegreesOfFreedom/"], None},
 ButtonNote->
  "http://demonstrations.wolfram.com/\
InverseKinematicsForARobotManipulatorWithSixDegreesOfFreedom/"]], \
"RelatedLinks",
 CellChangeTimes->{{3.6712743702417603`*^9, 3.67127438824148*^9}, {
  3.671979684624383*^9, 3.671979702079711*^9}},
 CellID->501911547],

Cell[TextData[ButtonBox["Rotation Matrix",
 BaseStyle->"Hyperlink",
 ButtonData->{
   URL["http://mathworld.wolfram.com/RotationMatrix.html"], None},
 ButtonNote->
  "http://mathworld.wolfram.com/RotationMatrix.html"]], "RelatedLinks",
 CellChangeTimes->{{3.6719796179018354`*^9, 3.6719796378643913`*^9}},
 CellID->13857241],

Cell[TextData[ButtonBox["Jacobian",
 BaseStyle->"Hyperlink",
 ButtonData->{
   URL["http://mathworld.wolfram.com/Jacobian.html"], None},
 ButtonNote->"http://mathworld.wolfram.com/Jacobian.html"]], "RelatedLinks",
 CellChangeTimes->{{3.6749205485125113`*^9, 3.6749205745286074`*^9}},
 CellID->381062222],

Cell[TextData[ButtonBox["Forward Kinematics",
 BaseStyle->"Hyperlink",
 ButtonData->{
   URL["http://demonstrations.wolfram.com/ForwardKinematics/"], None},
 ButtonNote->
  "http://demonstrations.wolfram.com/ForwardKinematics/"]], "RelatedLinks",
 CellChangeTimes->{{3.6749214104952717`*^9, 3.674921414244396*^9}, {
  3.6749214465312777`*^9, 3.6749214465322795`*^9}},
 CellID->720711075],

Cell[TextData[ButtonBox["Robot Motion with Obstacles",
 BaseStyle->"Hyperlink",
 ButtonData->{
   URL["http://demonstrations.wolfram.com/RobotMotionWithObstacles/"], None},
 ButtonNote->
  "http://demonstrations.wolfram.com/RobotMotionWithObstacles/"]], \
"RelatedLinks",
 CellChangeTimes->{{3.6749214158137827`*^9, 3.6749214203549123`*^9}, {
  3.674921858780939*^9, 3.6749218642263885`*^9}, {3.6749218952129593`*^9, 
  3.6749218952129593`*^9}},
 CellID->62647254]
}, Open  ]],

Cell[CellGroupData[{

Cell["", "AuthorSection"],

Cell[TextData[{
 "Contributed by: ",
 ButtonBox["Aaron T. Becker",
  BaseStyle->"Hyperlink",
  ButtonData->{
    URL["http://demonstrations.wolfram.com/author.html?author=Aaron+T.+\
Becker"], None},
  ButtonNote->
   "http://demonstrations.wolfram.com/author.html?author=Aaron+T.+Becker"],
 " and ",
 ButtonBox["Lillian Lin",
  BaseStyle->"Hyperlink",
  ButtonData->{
    URL["http://demonstrations.wolfram.com/author.html?author=Lillian+Lin"], 
    None},
  ButtonNote->
   "http://demonstrations.wolfram.com/author.html?author=Lillian+Lin"]
}], "Author",
 CellChangeTimes->{{3.673693332447541*^9, 3.673693338463388*^9}}]
}, Open  ]]
}, Open  ]]
},
WindowSize->{929, 812},
WindowMargins->{{312, Automatic}, {186, Automatic}},
FrontEndVersion->"11.0 for Mac OS X x86 (32-bit, 64-bit Kernel) (July 28, \
2016)",
StyleDefinitions->FrontEnd`FileName[{"Wolfram"}, "Demonstration.nb", 
  CharacterEncoding -> "UTF-8"]
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{
 "ResizeImages"->{
  Cell[191636, 4300, 378, 9, 29, "ControlSuggestions",
   CellTags->"ResizeImages"]},
 "RotateAndZoomIn3D"->{
  Cell[192017, 4311, 678, 16, 29, "ControlSuggestions",
   CellTags->"RotateAndZoomIn3D"]},
 "DragLocators"->{
  Cell[192698, 4329, 380, 12, 29, "ControlSuggestions",
   CellTags->"DragLocators"]},
 "CreateAndDeleteLocators"->{
  Cell[193081, 4343, 637, 15, 29, "ControlSuggestions",
   CellTags->"CreateAndDeleteLocators"]},
 "SliderZoom"->{
  Cell[193721, 4360, 887, 22, 29, "ControlSuggestions",
   CellTags->"SliderZoom"]},
 "GamepadControls"->{
  Cell[194611, 4384, 393, 10, 29, "ControlSuggestions",
   CellTags->"GamepadControls"]},
 "AutomaticAnimation"->{
  Cell[195007, 4396, 1505, 32, 29, "ControlSuggestions",
   CellTags->"AutomaticAnimation"]},
 "BookmarkAnimation"->{
  Cell[196515, 4430, 908, 21, 29, "ControlSuggestions",
   CellTags->"BookmarkAnimation"]}
 }
*)
(*CellTagsIndex
CellTagsIndex->{
 {"ResizeImages", 202378, 4604},
 {"RotateAndZoomIn3D", 202488, 4607},
 {"DragLocators", 202599, 4610},
 {"CreateAndDeleteLocators", 202716, 4613},
 {"SliderZoom", 202831, 4616},
 {"GamepadControls", 202938, 4619},
 {"AutomaticAnimation", 203053, 4622},
 {"BookmarkAnimation", 203171, 4625}
 }
*)
(*NotebookFileOutline
Notebook[{
Cell[CellGroupData[{
Cell[585, 22, 287, 3, 76, "DemoTitle"],
Cell[CellGroupData[{
Cell[897, 29, 33, 0, 301, "InitializationSection"],
Cell[933, 31, 22720, 560, 996, "Input",
 InitializationCell->True,
 CellID->1155349525]
}, Open  ]],
Cell[CellGroupData[{
Cell[23690, 596, 29, 0, 247, "ManipulateSection"],
Cell[CellGroupData[{
Cell[23744, 600, 39322, 894, 1702, "Input",
 CellID->1433845183],
Cell[63069, 1496, 22252, 477, 522, "Output",
 CellID->477371990]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[85370, 1979, 36, 0, 181, "ManipulateCaptionSection"],
Cell[85409, 1981, 1776, 36, 103, "ManipulateCaption",
 CellID->636688945]
}, Open  ]],
Cell[CellGroupData[{
Cell[87222, 2022, 28, 0, 179, "ThumbnailSection"],
Cell[87253, 2024, 23047, 489, 522, "Output",
 CellID->333146357]
}, Open  ]],
Cell[CellGroupData[{
Cell[110337, 2518, 28, 0, 149, "SnapshotsSection"],
Cell[110368, 2520, 23092, 490, 519, "Output",
 CellID->700954370],
Cell[133463, 3012, 23297, 493, 519, "Output",
 CellID->1992292795],
Cell[156763, 3507, 23138, 489, 519, "Output",
 CellID->899981541]
}, Open  ]],
Cell[CellGroupData[{
Cell[179938, 4001, 26, 0, 357, "DetailsSection"],
Cell[179967, 4003, 1241, 21, 55, "DetailNotes",
 CellID->43188065],
Cell[181211, 4026, 3342, 95, 116, "DetailNotes",
 CellID->505680034],
Cell[184556, 4123, 677, 13, 23, "DetailNotes",
 CellID->285088957],
Cell[185236, 4138, 1041, 16, 87, "DetailNotes",
 CellID->1159078746],
Cell[186280, 4156, 1348, 32, 55, "DetailNotes",
 CellID->227617593],
Cell[187631, 4190, 499, 13, 23, "DetailNotes",
 CellID->1572573689],
Cell[188133, 4205, 1053, 24, 40, "DetailNotes",
 CellID->1596008553],
Cell[189189, 4231, 1816, 47, 88, "DetailNotes",
 CellID->2081929493],
Cell[191008, 4280, 119, 2, 23, "DetailNotes",
 CellID->66559461],
Cell[191130, 4284, 429, 9, 23, "DetailNotes",
 CellID->540286596]
}, Open  ]],
Cell[CellGroupData[{
Cell[191596, 4298, 37, 0, 131, "ControlSuggestionsSection"],
Cell[191636, 4300, 378, 9, 29, "ControlSuggestions",
 CellTags->"ResizeImages"],
Cell[192017, 4311, 678, 16, 29, "ControlSuggestions",
 CellTags->"RotateAndZoomIn3D"],
Cell[192698, 4329, 380, 12, 29, "ControlSuggestions",
 CellTags->"DragLocators"],
Cell[193081, 4343, 637, 15, 29, "ControlSuggestions",
 CellTags->"CreateAndDeleteLocators"],
Cell[193721, 4360, 887, 22, 29, "ControlSuggestions",
 CellTags->"SliderZoom"],
Cell[194611, 4384, 393, 10, 29, "ControlSuggestions",
 CellTags->"GamepadControls"],
Cell[195007, 4396, 1505, 32, 29, "ControlSuggestions",
 CellTags->"AutomaticAnimation"],
Cell[196515, 4430, 908, 21, 29, "ControlSuggestions",
 CellTags->"BookmarkAnimation"]
}, Open  ]],
Cell[CellGroupData[{
Cell[197460, 4456, 30, 0, 165, "SearchTermsSection"],
Cell[197493, 4458, 118, 2, 23, "SearchTerms",
 CellID->1259772004],
Cell[197614, 4462, 123, 2, 23, "SearchTerms",
 CellID->957636146],
Cell[197740, 4466, 126, 2, 23, "SearchTerms",
 CellID->667312778],
Cell[197869, 4470, 142, 2, 23, "SearchTerms",
 CellID->428261287],
Cell[198014, 4474, 122, 2, 23, "SearchTerms",
 CellID->1952021735],
Cell[198139, 4478, 121, 2, 23, "SearchTerms",
 CellID->521624926],
Cell[198263, 4482, 147, 2, 23, "SearchTerms",
 CellID->1184206153],
Cell[198413, 4486, 177, 3, 23, "SearchTerms",
 CellID->152788971],
Cell[198593, 4491, 177, 3, 23, "SearchTerms",
 CellID->1382850362]
}, Open  ]],
Cell[CellGroupData[{
Cell[198807, 4499, 31, 0, 149, "RelatedLinksSection"],
Cell[198841, 4501, 420, 9, 23, "RelatedLinks",
 CellID->18406695],
Cell[199264, 4512, 528, 12, 23, "RelatedLinks",
 CellID->501911547],
Cell[199795, 4526, 324, 7, 23, "RelatedLinks",
 CellID->13857241],
Cell[200122, 4535, 303, 6, 23, "RelatedLinks",
 CellID->381062222],
Cell[200428, 4543, 387, 8, 23, "RelatedLinks",
 CellID->720711075],
Cell[200818, 4553, 464, 10, 23, "RelatedLinks",
 CellID->62647254]
}, Open  ]],
Cell[CellGroupData[{
Cell[201319, 4568, 25, 0, 149, "AuthorSection"],
Cell[201347, 4570, 622, 18, 23, "Author"]
}, Open  ]]
}, Open  ]]
}
]
*)

